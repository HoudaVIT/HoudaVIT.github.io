(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4266e44"],{"010e":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t}))},"02fb":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,i){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}});return t}))},"03ec":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}});return t}))},"0558":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return e%100===11||e%10!==1}function i(e,i,n,r){var a=e+" ";switch(n){case"s":return i||r?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?a+(i||r?"sekúndur":"sekúndum"):a+"sekúnda";case"m":return i?"mínúta":"mínútu";case"mm":return t(e)?a+(i||r?"mínútur":"mínútum"):i?a+"mínúta":a+"mínútu";case"hh":return t(e)?a+(i||r?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return i?"dagur":r?"dag":"degi";case"dd":return t(e)?i?a+"dagar":a+(r?"daga":"dögum"):i?a+"dagur":a+(r?"dag":"degi");case"M":return i?"mánuður":r?"mánuð":"mánuði";case"MM":return t(e)?i?a+"mánuðir":a+(r?"mánuði":"mánuðum"):i?a+"mánuður":a+(r?"mánuð":"mánuði");case"y":return i||r?"ár":"ári";case"yy":return t(e)?a+(i||r?"ár":"árum"):a+(i||r?"ár":"ári")}}var n=e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:i,ss:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},"057f":function(e,t,i){var n=i("fc6a"),r=i("241c").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return r(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?o(e):r(n(e))}},"0721":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},"079e":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,i){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}});return t}))},"0a3c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return a}))},"0a63":function(e,t,i){
/*!
 * vue-carousel v0.18.0-alpha
 * (c) 2019 todd.beauchamp@ssense.com
 * https://github.com/ssense/vue-carousel#readme
 */
!function(t,i){e.exports=i()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=53)}([function(e,t,i){var n=i(30)("wks"),r=i(15),a=i(3).Symbol,s="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=s&&a[e]||(s?a:r)("Symbol."+e))}).store=n},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(3),r=i(11),a=i(6),s=i(10),o=i(29),l=function(e,t,i){var c,u,d,h,p=e&l.F,m=e&l.G,f=e&l.S,_=e&l.P,y=e&l.B,g=m?n:f?n[t]||(n[t]={}):(n[t]||{}).prototype,v=m?r:r[t]||(r[t]={}),x=v.prototype||(v.prototype={});for(c in m&&(i=t),i)d=((u=!p&&g&&void 0!==g[c])?g:i)[c],h=y&&u?o(d,n):_&&"function"==typeof d?o(Function.call,d):d,g&&s(g,c,d,e&l.U),v[c]!=d&&a(v,c,h),_&&x[c]!=d&&(x[c]=d)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){var n=i(7),r=i(40),a=i(20),s=Object.defineProperty;t.f=i(5)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){e.exports=!i(1)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(4),r=i(14);e.exports=i(5)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(8);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(3),r=i(6),a=i(9),s=i(15)("src"),o=Function.toString,l=(""+o).split("toString");i(11).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,i,o){var c="function"==typeof i;c&&(a(i,"name")||r(i,"name",t)),e[t]!==i&&(c&&(a(i,s)||r(i,s,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:o?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||o.call(this)}))},function(e,t){var i=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(47),r=i(17);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(48),r=i(33);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(17);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports={}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(8);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(a).concat([r]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},r=0;r<t.length;r++){var a=t[r],s=a[0],o={id:e+":"+r,css:a[1],media:a[2],sourceMap:a[3]};n[s]?n[s].parts.push(o):i.push(n[s]={id:s,parts:[o]})}return i}i.r(t),i.d(t,"default",(function(){return m}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},s=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,i,r){c=i,d=r||{};var s=n(e,t);return f(s),function(t){for(var i=[],r=0;r<s.length;r++){var o=s[r];(l=a[o.id]).refs--,i.push(l)}for(t?f(s=n(e,t)):s=[],r=0;r<i.length;r++){var l;if(0===(l=i[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var i=e[t],n=a[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(y(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(y(i.parts[r]));a[i.id]={id:i.id,refs:1,parts:s}}}}function _(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function y(e){var t,i,n=document.querySelector("style["+h+'~="'+e.id+'"]');if(n){if(c)return u;n.parentNode.removeChild(n)}if(p){var r=l++;n=o||(o=_()),t=v.bind(null,n,r,!1),i=v.bind(null,n,r,!0)}else n=_(),t=function(e,t){var i=t.css,n=t.media,r=t.sourceMap;if(n&&e.setAttribute("media",n),d.ssrId&&e.setAttribute(h,t.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var g=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function v(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}},function(e,t,i){var n=i(95);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),(0,i(24).default)("1c9d4ce3",n,!1,{})},function(e,t,i){var n=i(98);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),(0,i(24).default)("6a175419",n,!1,{})},function(e,t,i){var n=i(100);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),(0,i(24).default)("07c48036",n,!1,{})},function(e,t,i){var n=i(102);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),(0,i(24).default)("6eff00d0",n,!1,{})},function(e,t,i){var n=i(39);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(11),r=i(3),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){var n=i(7),r=i(67),a=i(33),s=i(32)("IE_PROTO"),o=function(){},l=function(){var e,t=i(41)("iframe"),n=a.length;for(t.style.display="none",i(69).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[s]=e):i=l(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(30)("keys"),r=i(15);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(4).f,r=i(9),a=i(0)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(48),r=i(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(22),r=i(14),a=i(12),s=i(20),o=i(9),l=i(40),c=Object.getOwnPropertyDescriptor;t.f=i(5)?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,i){"use strict";var n=i(3),r=i(9),a=i(19),s=i(85),o=i(20),l=i(1),c=i(36).f,u=i(37).f,d=i(4).f,h=i(87).trim,p=n.Number,m=p,f=p.prototype,_="Number"==a(i(31)(f)),y="trim"in String.prototype,g=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){var i,n,r,a=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if((s=l.charCodeAt(c))<48||s>r)return NaN;return parseInt(l,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(_?l((function(){f.valueOf.call(i)})):"Number"!=a(i))?s(new m(g(t)),i,p):g(t)};for(var v,x=i(5)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;x.length>b;b++)r(m,v=x[b])&&!r(p,v)&&d(p,v,u(m,v));p.prototype=f,f.constructor=p,i(10)(n,"Number",p)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){e.exports=!i(5)&&!i(1)((function(){return 7!=Object.defineProperty(i(41)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(8),r=i(3).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){var n=i(43),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){"use strict";var n=i(7);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){"use strict";var n=i(46),r=i(64),a=i(18),s=i(12);e.exports=i(65)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,i){var n=i(0)("unscopables"),r=Array.prototype;void 0==r[n]&&i(6)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,i){var n=i(19);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var n=i(9),r=i(12),a=i(49)(!1),s=i(32)("IE_PROTO");e.exports=function(e,t){var i,o=r(e),l=0,c=[];for(i in o)i!=s&&n(o,i)&&c.push(i);for(;t.length>l;)n(o,i=t[l++])&&(~a(c,i)||c.push(i));return c}},function(e,t,i){var n=i(12),r=i(42),a=i(68);e.exports=function(e){return function(t,i,s){var o,l=n(t),c=r(l.length),u=a(s,c);if(e&&i!=i){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},function(e,t,i){var n=i(3),r=i(11),a=i(21),s=i(51),o=i(4).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t,i){t.f=i(0)},function(e,t,i){var n=i(2);n(n.S+n.F,"Object",{assign:i(96)})},function(e,t,i){e.exports=i(103)},function(e,t,i){"use strict";var n=i(29),r=i(2),a=i(16),s=i(55),o=i(56),l=i(42),c=i(57),u=i(58);r(r.S+r.F*!i(60)((function(e){Array.from(e)})),"Array",{from:function(e){var t,i,r,d,h=a(e),p="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,_=void 0!==f,y=0,g=u(h);if(_&&(f=n(f,m>2?arguments[2]:void 0,2)),void 0==g||p==Array&&o(g))for(i=new p(t=l(h.length));t>y;y++)c(i,y,_?f(h[y],y):h[y]);else for(d=g.call(h),i=new p;!(r=d.next()).done;y++)c(i,y,_?s(d,f,[r.value,y],!0):r.value);return i.length=y,i}})},function(e,t,i){var n=i(7);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,i){var n=i(18),r=i(0)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},function(e,t,i){"use strict";var n=i(4),r=i(14);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(59),r=i(0)("iterator"),a=i(18);e.exports=i(11).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[n(e)]}},function(e,t,i){var n=i(19),r=i(0)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?i:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,i){var n=i(0)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:i=!0}},a[n]=function(){return s},e(a)}catch(e){}return i}},function(e,t,i){"use strict";i(62);var n=i(7),r=i(44),a=i(5),s=/./.toString,o=function(e){i(10)(RegExp.prototype,"toString",e,!0)};i(1)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?o((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=s.name&&o((function(){return s.call(this)}))},function(e,t,i){i(5)&&"g"!=/./g.flags&&i(4).f(RegExp.prototype,"flags",{configurable:!0,get:i(44)})},function(e,t,i){for(var n=i(45),r=i(13),a=i(10),s=i(3),o=i(6),l=i(18),c=i(0),u=c("iterator"),d=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=r(p),f=0;f<m.length;f++){var _,y=m[f],g=p[y],v=s[y],x=v&&v.prototype;if(x&&(x[u]||o(x,u,h),x[d]||o(x,d,y),l[y]=h,g))for(_ in n)x[_]||a(x,_,n[_],!0)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var n=i(21),r=i(2),a=i(10),s=i(6),o=i(18),l=i(66),c=i(34),u=i(70),d=i(0)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,i,m,f,_,y){l(i,t,m);var g,v,x,b=function(e){if(!h&&e in L)return L[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},w=t+" Iterator",M="values"==f,T=!1,L=e.prototype,k=L[d]||L["@@iterator"]||f&&L[f],S=k||b(f),D=f?M?b("entries"):S:void 0,E="Array"==t&&L.entries||k;if(E&&(x=u(E.call(new e)))!==Object.prototype&&x.next&&(c(x,w,!0),n||"function"==typeof x[d]||s(x,d,p)),M&&k&&"values"!==k.name&&(T=!0,S=function(){return k.call(this)}),n&&!y||!h&&!T&&L[d]||s(L,d,S),o[t]=S,o[w]=p,f)if(g={values:M?S:b("values"),keys:_?S:b("keys"),entries:D},y)for(v in g)v in L||a(L,v,g[v]);else r(r.P+r.F*(h||T),t,g);return g}},function(e,t,i){"use strict";var n=i(31),r=i(14),a=i(34),s={};i(6)(s,i(0)("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),a(e,t+" Iterator")}},function(e,t,i){var n=i(4),r=i(7),a=i(13);e.exports=i(5)?Object.defineProperties:function(e,t){r(e);for(var i,s=a(t),o=s.length,l=0;o>l;)n.f(e,i=s[l++],t[i]);return e}},function(e,t,i){var n=i(43),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):a(e,t)}},function(e,t,i){var n=i(3).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(9),r=i(16),a=i(32)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,i){var n=i(16),r=i(13);i(72)("keys",(function(){return function(e){return r(n(e))}}))},function(e,t,i){var n=i(2),r=i(11),a=i(1);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],s={};s[e]=t(i),n(n.S+n.F*a((function(){i(1)})),"Object",s)}},function(e,t,i){i(50)("asyncIterator")},function(e,t,i){"use strict";var n=i(3),r=i(9),a=i(5),s=i(2),o=i(10),l=i(75).KEY,c=i(1),u=i(30),d=i(34),h=i(15),p=i(0),m=i(51),f=i(50),_=i(76),y=i(77),g=i(7),v=i(8),x=i(12),b=i(20),w=i(14),M=i(31),T=i(78),L=i(37),k=i(4),S=i(13),D=L.f,E=k.f,C=T.f,P=n.Symbol,Y=n.JSON,A=Y&&Y.stringify,I=p("_hidden"),z=p("toPrimitive"),O={}.propertyIsEnumerable,R=u("symbol-registry"),F=u("symbols"),B=u("op-symbols"),j=Object.prototype,H="function"==typeof P,N=n.QObject,U=!N||!N.prototype||!N.prototype.findChild,V=a&&c((function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=D(j,t);n&&delete j[t],E(e,t,i),n&&e!==j&&E(j,t,n)}:E,W=function(e){var t=F[e]=M(P.prototype);return t._k=e,t},$=H&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},G=function(e,t,i){return e===j&&G(B,t,i),g(e),t=b(t,!0),g(i),r(F,t)?(i.enumerable?(r(e,I)&&e[I][t]&&(e[I][t]=!1),i=M(i,{enumerable:w(0,!1)})):(r(e,I)||E(e,I,w(1,{})),e[I][t]=!0),V(e,t,i)):E(e,t,i)},q=function(e,t){g(e);for(var i,n=_(t=x(t)),r=0,a=n.length;a>r;)G(e,i=n[r++],t[i]);return e},Z=function(e){var t=O.call(this,e=b(e,!0));return!(this===j&&r(F,e)&&!r(B,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,I)&&this[I][e])||t)},X=function(e,t){if(e=x(e),t=b(t,!0),e!==j||!r(F,t)||r(B,t)){var i=D(e,t);return!i||!r(F,t)||r(e,I)&&e[I][t]||(i.enumerable=!0),i}},J=function(e){for(var t,i=C(x(e)),n=[],a=0;i.length>a;)r(F,t=i[a++])||t==I||t==l||n.push(t);return n},K=function(e){for(var t,i=e===j,n=C(i?B:x(e)),a=[],s=0;n.length>s;)!r(F,t=n[s++])||i&&!r(j,t)||a.push(F[t]);return a};H||(o((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(i){this===j&&t.call(B,i),r(this,I)&&r(this[I],e)&&(this[I][e]=!1),V(this,e,w(1,i))};return a&&U&&V(j,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),L.f=X,k.f=G,i(36).f=T.f=J,i(22).f=Z,i(35).f=K,a&&!i(21)&&o(j,"propertyIsEnumerable",Z,!0),m.f=function(e){return W(p(e))}),s(s.G+s.W+s.F*!H,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)p(Q[ee++]);for(var te=S(p.store),ie=0;te.length>ie;)f(te[ie++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return r(R,e+="")?R[e]:R[e]=P(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!H,"Object",{create:function(e,t){return void 0===t?M(e):q(M(e),t)},defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:K}),Y&&s(s.S+s.F*(!H||c((function(){var e=P();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))}))),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=t=n[1],(v(t)||void 0!==e)&&!$(e))return y(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!$(t))return t}),n[1]=t,A.apply(Y,n)}}),P.prototype[z]||i(6)(P.prototype,z,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,i){var n=i(15)("meta"),r=i(8),a=i(9),s=i(4).f,o=0,l=Object.isExtensible||function(){return!0},c=!i(1)((function(){return l(Object.preventExtensions({}))})),u=function(e){s(e,n,{value:{i:"O"+ ++o,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!a(e,n)&&u(e),e}}},function(e,t,i){var n=i(13),r=i(35),a=i(22);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var s,o=i(e),l=a.f,c=0;o.length>c;)l.call(e,s=o[c++])&&t.push(s);return t}},function(e,t,i){var n=i(19);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(12),r=i(36).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(n(e))}},function(e,t,i){var n=i(2);n(n.S,"Math",{sign:i(80)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,i){i(82)("match",1,(function(e,t,i){return[function(i){"use strict";var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]}))},function(e,t,i){"use strict";var n=i(6),r=i(10),a=i(1),s=i(17),o=i(0);e.exports=function(e,t,i){var l=o(e),c=i(s,l,""[e]),u=c[0],d=c[1];a((function(){var t={};return t[l]=function(){return 7},7!=""[e](t)}))&&(r(String.prototype,e,u),n(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,i){"use strict";var n=i(2),r=i(39),a=i(16),s=i(1),o=[].sort,l=[1,2,3];n(n.P+n.F*(s((function(){l.sort(void 0)}))||!s((function(){l.sort(null)}))||!i(84)(o)),"Array",{sort:function(e){return void 0===e?o.call(a(this)):o.call(a(this),r(e))}})},function(e,t,i){"use strict";var n=i(1);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,i){var n=i(8),r=i(86).set;e.exports=function(e,t,i){var a,s=t.constructor;return s!==i&&"function"==typeof s&&(a=s.prototype)!==i.prototype&&n(a)&&r&&r(e,a),e}},function(e,t,i){var n=i(8),r=i(7),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(29)(Function.call,i(37).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return a(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:a}},function(e,t,i){var n=i(2),r=i(17),a=i(1),s=i(88),o="["+s+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(e,t,i){var r={},o=a((function(){return!!s[e]()||"​"!="​"[e]()})),l=r[e]=o?t(d):s[e];i&&(r[i]=l),n(n.P+n.F*o,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,i){"use strict";var n=i(2),r=i(49)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(46)("includes")},function(e,t,i){"use strict";var n=i(2),r=i(91);n(n.P+n.F*i(93)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){var n=i(92),r=i(17);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},function(e,t,i){var n=i(8),r=i(19),a=i(0)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,i){var n=i(0)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,i){"use strict";var n=i(25);i.n(n).a},function(e,t,i){(e.exports=i(23)(!1)).push([e.i,'\n.VueCarousel-navigation-button[data-v-453ad8cd] {\n  position: absolute;\n  top: 50%;\n  box-sizing: border-box;\n  color: #000;\n  text-decoration: none;\n  appearance: none;\n  border: none;\n  background-color: transparent;\n  padding: 0;\n  cursor: pointer;\n  outline: none;\n}\n.VueCarousel-navigation-button[data-v-453ad8cd]:focus {\n  outline: 1px solid lightblue;\n}\n.VueCarousel-navigation-next[data-v-453ad8cd] {\n  right: 0;\n  transform: translateY(-50%) translateX(100%);\n  font-family: "system";\n}\n.VueCarousel-navigation-prev[data-v-453ad8cd] {\n  left: 0;\n  transform: translateY(-50%) translateX(-100%);\n  font-family: "system";\n}\n.VueCarousel-navigation--disabled[data-v-453ad8cd] {\n  opacity: 0.5;\n  cursor: default;\n}\n\n/* Define the "system" font family */\n@font-face {\n  font-family: system;\n  font-style: normal;\n  font-weight: 300;\n  src: local(".SFNSText-Light"), local(".HelveticaNeueDeskInterface-Light"),\n    local(".LucidaGrandeUI"), local("Ubuntu Light"), local("Segoe UI Symbol"),\n    local("Roboto-Light"), local("DroidSans"), local("Tahoma");\n}\n',""])},function(e,t,i){"use strict";var n=i(13),r=i(35),a=i(22),s=i(16),o=i(47),l=Object.assign;e.exports=!l||i(1)((function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var i=s(e),l=arguments.length,c=1,u=r.f,d=a.f;l>c;)for(var h,p=o(arguments[c++]),m=u?n(p).concat(u(p)):n(p),f=m.length,_=0;f>_;)d.call(p,h=m[_++])&&(i[h]=p[h]);return i}:l},function(e,t,i){"use strict";var n=i(26);i.n(n).a},function(e,t,i){(e.exports=i(23)(!1)).push([e.i,"\n.VueCarousel-pagination[data-v-438fd353] {\n  width: 100%;\n  text-align: center;\n}\n.VueCarousel-pagination--top-overlay[data-v-438fd353] {\n  position: absolute;\n  top: 0;\n}\n.VueCarousel-pagination--bottom-overlay[data-v-438fd353] {\n  position: absolute;\n  bottom: 0;\n}\n.VueCarousel-dot-container[data-v-438fd353] {\n  display: inline-block;\n  margin: 0 auto;\n  padding: 0;\n}\n.VueCarousel-dot[data-v-438fd353] {\n  display: inline-block;\n  cursor: pointer;\n  appearance: none;\n  border: none;\n  background-clip: content-box;\n  box-sizing: content-box;\n  padding: 0;\n  border-radius: 100%;\n  outline: none;\n}\n.VueCarousel-dot[data-v-438fd353]:focus {\n  outline: 1px solid lightblue;\n}\n",""])},function(e,t,i){"use strict";var n=i(27);i.n(n).a},function(e,t,i){(e.exports=i(23)(!1)).push([e.i,"\n.VueCarousel-slide {\n  flex-basis: inherit;\n  flex-grow: 0;\n  flex-shrink: 0;\n  user-select: none;\n  backface-visibility: hidden;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  outline: none;\n}\n.VueCarousel-slide-adjustableHeight {\n  display: table;\n  flex-basis: auto;\n  width: 100%;\n}\n",""])},function(e,t,i){"use strict";var n=i(28);i.n(n).a},function(e,t,i){(e.exports=i(23)(!1)).push([e.i,"\n.VueCarousel {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.VueCarousel--reverse {\n  flex-direction: column-reverse;\n}\n.VueCarousel-wrapper {\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.VueCarousel-inner {\n  display: flex;\n  flex-direction: row;\n  backface-visibility: hidden;\n}\n.VueCarousel-inner--center {\n  justify-content: center;\n}\n",""])},function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"VueCarousel",class:{"VueCarousel--reverse":"top"===e.paginationPosition}},[i("div",{ref:"VueCarousel-wrapper",staticClass:"VueCarousel-wrapper"},[i("div",{ref:"VueCarousel-inner",class:["VueCarousel-inner",{"VueCarousel-inner--center":e.isCenterModeEnabled}],style:{transform:"translate("+e.currentOffset+"px, 0)",transition:e.dragging?"none":e.transitionStyle,"ms-flex-preferred-size":e.slideWidth+"px","webkit-flex-basis":e.slideWidth+"px","flex-basis":e.slideWidth+"px",visibility:e.slideWidth?"visible":"hidden",height:""+e.currentHeight,"padding-left":e.padding+"px","padding-right":e.padding+"px"}},[e._t("default")],2)]),e._v(" "),e.navigationEnabled?e._t("navigation",[e.isNavigationRequired?i("navigation",{attrs:{clickTargetSize:e.navigationClickTargetSize,nextLabel:e.navigationNextLabel,prevLabel:e.navigationPrevLabel},on:{navigationclick:e.handleNavigation}}):e._e()]):e._e(),e._v(" "),e.paginationEnabled?e._t("pagination",[i("pagination",{on:{paginationclick:function(t){e.goToPage(t,"pagination")}}})]):e._e()],2)};n._withStripped=!0,i(54),i(61),i(63),i(45),i(71),i(73),i(74),i(79),i(81),i(83),i(38),i(89),i(90);var r={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0},autoplayDirection:{type:String,default:"forward"}},data:function(){return{autoplayInterval:null}},destroyed:function(){this.$isServer||(this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay:function(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay:function(){this.autoplay&&(this.autoplayInterval=setInterval(this.autoplayAdvancePage,this.autoplayTimeout))},restartAutoplay:function(){this.pauseAutoplay(),this.startAutoplay()},autoplayAdvancePage:function(){this.advancePage(this.autoplayDirection)}},mounted:function(){!this.$isServer&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay)),this.startAutoplay()}},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"VueCarousel-navigation"},[i("button",{staticClass:"VueCarousel-navigation-button VueCarousel-navigation-prev",class:{"VueCarousel-navigation--disabled":!e.canAdvanceBackward},style:"padding: "+e.clickTargetSize+"px; margin-right: -"+e.clickTargetSize+"px;",attrs:{type:"button","aria-label":"Previous page",tabindex:e.canAdvanceBackward?0:-1},domProps:{innerHTML:e._s(e.prevLabel)},on:{click:function(t){t.preventDefault(),e.triggerPageAdvance("backward")}}}),e._v(" "),i("button",{staticClass:"VueCarousel-navigation-button VueCarousel-navigation-next",class:{"VueCarousel-navigation--disabled":!e.canAdvanceForward},style:"padding: "+e.clickTargetSize+"px; margin-left: -"+e.clickTargetSize+"px;",attrs:{type:"button","aria-label":"Next page",tabindex:e.canAdvanceForward?0:-1},domProps:{innerHTML:e._s(e.nextLabel)},on:{click:function(t){t.preventDefault(),e.triggerPageAdvance("forward")}}})])};a._withStripped=!0;var s={name:"navigation",inject:["carousel"],props:{clickTargetSize:{type:Number,default:8},nextLabel:{type:String,default:"&#9654"},prevLabel:{type:String,default:"&#9664"}},computed:{canAdvanceForward:function(){return this.carousel.canAdvanceForward||!1},canAdvanceBackward:function(){return this.carousel.canAdvanceBackward||!1}},methods:{triggerPageAdvance:function(e){this.$emit("navigationclick",e)}}};function o(e,t,i,n,r,a,s,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i(94);var l=o(s,a,[],!1,null,"453ad8cd",null);l.options.__file="src/Navigation.vue";var c=l.exports,u=function(){var e,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.carousel.pageCount>1,expression:"carousel.pageCount > 1"}],staticClass:"VueCarousel-pagination",class:(e={},e["VueCarousel-pagination--"+t.paginationPositionModifierName]=t.paginationPositionModifierName,e)},[n("div",{staticClass:"VueCarousel-dot-container",style:t.dotContainerStyle,attrs:{role:"tablist"}},t._l(t.paginationCount,(function(e,i){return n("button",{key:e+"_"+i,staticClass:"VueCarousel-dot",class:{"VueCarousel-dot--active":t.isCurrentDot(i)},style:t.dotStyle(i),attrs:{"aria-hidden":"false",role:"tab",title:t.getDotTitle(i),value:t.getDotTitle(i),"aria-label":t.getDotTitle(i),"aria-selected":t.isCurrentDot(i)?"true":"false"},on:{click:function(e){t.goToPage(i)}}})})))])};u._withStripped=!0,i(52);var d={name:"pagination",inject:["carousel"],computed:{paginationPositionModifierName:function(){var e=this.carousel.paginationPosition;if(!(e.indexOf("overlay")<0))return e},paginationPropertyBasedOnPosition:function(){return this.carousel.paginationPosition.indexOf("top")>=0?"bottom":"top"},paginationCount:function(){return this.carousel&&this.carousel.scrollPerPage?this.carousel.pageCount:this.carousel.slideCount||0},dotContainerStyle:function(){var e=this.carousel;if(-1===e.maxPaginationDotCount)return{"margin-top":"".concat(2*e.paginationPadding,"px")};var t=2*e.paginationPadding,i=e.maxPaginationDotCount*(e.paginationSize+t);return{"margin-top":"".concat(2*e.paginationPadding,"px"),overflow:"hidden",width:"".concat(i,"px"),margin:"0 auto","white-space":"nowrap"}}},methods:{goToPage:function(e){this.$emit("paginationclick",e)},isCurrentDot:function(e){return e===this.carousel.currentPage},getDotTitle:function(e){return this.carousel.$children[e].title?this.carousel.$children[e].title:"Item ".concat(e)},dotStyle:function(e){var t=this.carousel,i={};if(i["margin-".concat(this.paginationPropertyBasedOnPosition)]="".concat(2*t.paginationPadding,"px"),Object.assign(i,{padding:"".concat(t.paginationPadding,"px"),width:"".concat(t.paginationSize,"px"),height:"".concat(t.paginationSize,"px"),"background-color":"".concat(this.isCurrentDot(e)?t.paginationActiveColor:t.paginationColor)}),-1===t.maxPaginationDotCount)return i;var n=t.paginationSize+2*t.paginationPadding,r=t.pageCount-t.maxPaginationDotCount,a=0-n*(t.currentPage>r?r:t.currentPage<=t.maxPaginationDotCount/2?0:t.currentPage-Math.ceil(t.maxPaginationDotCount/2)+1);return Object.assign(i,{"-webkit-transform":"translate3d(".concat(a,"px,0,0)"),transform:"translate3d(".concat(a,"px,0,0)"),"-webkit-transition":"-webkit-transform ".concat(t.speed/1e3,"s"),transition:"transform ".concat(t.speed/1e3,"s")})}}},h=(i(97),o(d,u,[],!1,null,"438fd353",null));h.options.__file="src/Pagination.vue";var p=h.exports,m=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"VueCarousel-slide",class:{"VueCarousel-slide-active":this.isActive,"VueCarousel-slide-center":this.isCenter,"VueCarousel-slide-adjustableHeight":this.isAdjustableHeight},attrs:{tabindex:"-1","aria-hidden":!this.isActive,role:"tabpanel"}},[this._t("default")],2)};m._withStripped=!0;var f={name:"slide",props:["title"],data:function(){return{width:null}},inject:["carousel"],mounted:function(){this.$isServer||this.$el.addEventListener("dragstart",(function(e){return e.preventDefault()})),this.$el.addEventListener(this.carousel.isTouch?"touchend":"mouseup",this.onTouchEnd)},computed:{activeSlides:function(){for(var e=this.carousel,t=e.currentPage,i=e.breakpointSlidesPerPage,n=[],r=e.$children.filter((function(e){return e.$el&&e.$el.className.indexOf("VueCarousel-slide")>=0})).map((function(e){return e._uid})),a=0;a<i;){var s=r[t*i+a];n.push(s),a++}return n},isActive:function(){return this.activeSlides.indexOf(this._uid)>=0},isCenter:function(){var e=this.carousel.breakpointSlidesPerPage;return!(e%2==0||!this.isActive)&&this.activeSlides.indexOf(this._uid)===Math.floor(e/2)},isAdjustableHeight:function(){return this.carousel.adjustableHeight}},methods:{onTouchEnd:function(e){var t=this.carousel.isTouch&&e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0].clientX:e.clientX,i=this.carousel.dragStartX-t;(0===this.carousel.minSwipeDistance||Math.abs(i)<this.carousel.minSwipeDistance)&&(this.$emit("slideclick",Object.assign({},e.currentTarget.dataset)),this.$emit("slide-click",Object.assign({},e.currentTarget.dataset)))}}},_=(i(99),o(f,m,[],!1,null,null,null));_.options.__file="src/Slide.vue";var y=_.exports;function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x={onwebkittransitionend:"webkitTransitionEnd",onmoztransitionend:"transitionend",onotransitionend:"oTransitionEnd otransitionend",ontransitionend:"transitionend"},b=function(){for(var e in x)if(e in window)return x[e]},w={name:"carousel",beforeUpdate:function(){this.computeCarouselWidth()},components:{Navigation:c,Pagination:p,Slide:y},data:function(){return{browserWidth:null,carouselWidth:0,currentPage:0,dragging:!1,dragMomentum:0,dragOffset:0,dragStartY:0,dragStartX:0,isTouch:"undefined"!=typeof window&&"ontouchstart"in window,offset:0,refreshRate:16,slideCount:0,transitionstart:"transitionstart",transitionend:"transitionend",currentHeight:"auto"}},mixins:[r],provide:function(){return{carousel:this}},props:{adjustableHeight:{type:Boolean,default:!1},adjustableHeightEasing:{type:String},centerMode:{type:Boolean,default:!1},easing:{type:String,validator:function(e){return-1!==["ease","linear","ease-in","ease-out","ease-in-out"].indexOf(e)||e.includes("cubic-bezier")},default:"ease"},loop:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:8},mouseDrag:{type:Boolean,default:!0},touchDrag:{type:Boolean,default:!0},navigateTo:{type:[Number,Array],default:0},navigationClickTargetSize:{type:Number,default:8},navigationEnabled:{type:Boolean,default:!1},navigationNextLabel:{type:String,default:"&#9654"},navigationPrevLabel:{type:String,default:"&#9664"},paginationActiveColor:{type:String,default:"#000000"},paginationColor:{type:String,default:"#efefef"},paginationEnabled:{type:Boolean,default:!0},paginationPadding:{type:Number,default:10},paginationPosition:{type:String,default:"bottom"},paginationSize:{type:Number,default:10},perPage:{type:Number,default:2},perPageCustom:{type:Array},resistanceCoef:{type:Number,default:20},scrollPerPage:{type:Boolean,default:!0},spacePadding:{type:Number,default:0},spacePaddingMaxOffsetFactor:{type:Number,default:0},speed:{type:Number,default:500},tagName:{type:String,default:"slide"},value:{type:Number},maxPaginationDotCount:{type:Number,default:-1},rtl:{type:Boolean,default:!1}},watch:{value:function(e){e!==this.currentPage&&(this.goToPage(e),this.render())},navigateTo:{immediate:!0,handler:function(e){var t=this;"object"===v(e)?(0==e[1]&&(this.dragging=!0,setTimeout((function(){t.dragging=!1}),this.refreshRate)),this.$nextTick((function(){t.goToPage(e[0])}))):this.$nextTick((function(){t.goToPage(e)}))}},currentPage:function(e){this.$emit("pageChange",e),this.$emit("page-change",e),this.$emit("input",e)},autoplay:function(e){!1===e?this.pauseAutoplay():this.restartAutoplay()}},computed:{breakpointSlidesPerPage:function(){if(!this.perPageCustom)return this.perPage;var e=this.perPageCustom,t=this.browserWidth,i=e.sort((function(e,t){return e[0]>t[0]?-1:1})).filter((function(e){return t>=e[0]}));return i[0]&&i[0][1]||this.perPage},canAdvanceForward:function(){return this.loop||this.offset<this.maxOffset},canAdvanceBackward:function(){return this.loop||this.currentPage>0},currentPerPage:function(){return!this.perPageCustom||this.$isServer?this.perPage:this.breakpointSlidesPerPage},currentOffset:function(){return this.isCenterModeEnabled?0:this.rtl?1*(this.offset-this.dragOffset):-1*(this.offset+this.dragOffset)},isHidden:function(){return this.carouselWidth<=0},maxOffset:function(){return Math.max(this.slideWidth*(this.slideCount-this.currentPerPage)-this.spacePadding*this.spacePaddingMaxOffsetFactor,0)},pageCount:function(){return this.scrollPerPage?Math.ceil(this.slideCount/this.currentPerPage):this.slideCount-this.currentPerPage+1},slideWidth:function(){return(this.carouselWidth-2*this.spacePadding)/this.currentPerPage},isNavigationRequired:function(){return this.slideCount>this.currentPerPage},isCenterModeEnabled:function(){return this.centerMode&&!this.isNavigationRequired},transitionStyle:function(){var e="".concat(this.speed/1e3,"s"),t="".concat(e," ").concat(this.easing," transform");return this.adjustableHeight?"".concat(t,", height ").concat(e," ").concat(this.adjustableHeightEasing||this.easing):t},padding:function(){var e=this.spacePadding;return e>0&&e}},methods:{getNextPage:function(){return this.currentPage<this.pageCount-1?this.currentPage+1:this.loop?0:this.currentPage},getPreviousPage:function(){return this.currentPage>0?this.currentPage-1:this.loop?this.pageCount-1:this.currentPage},advancePage:function(e){e&&"backward"===e&&this.canAdvanceBackward?this.goToPage(this.getPreviousPage(),"navigation"):(!e||e&&"backward"!==e)&&this.canAdvanceForward&&this.goToPage(this.getNextPage(),"navigation")},goToLastSlide:function(){var e=this;this.dragging=!0,setTimeout((function(){e.dragging=!1}),this.refreshRate),this.$nextTick((function(){e.goToPage(e.pageCount)}))},attachMutationObserver:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(t){var i={attributes:!0,data:!0};if(this.adjustableHeight&&(i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){g(e,t,i[t])}))}return e}({},i,{childList:!0,subtree:!0,characterData:!0})),this.mutationObserver=new t((function(){e.$nextTick((function(){e.computeCarouselWidth(),e.computeCarouselHeight()}))})),this.$parent.$el)for(var n=this.$el.getElementsByClassName("VueCarousel-inner"),r=0;r<n.length;r++)this.mutationObserver.observe(n[r],i)}},handleNavigation:function(e){this.advancePage(e),this.pauseAutoplay(),this.$emit("navigation-click",e)},detachMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},getBrowserWidth:function(){return this.browserWidth=window.innerWidth,this.browserWidth},getCarouselWidth:function(){for(var e=this.$el.getElementsByClassName("VueCarousel-inner"),t=0;t<e.length;t++)e[t].clientWidth>0&&(this.carouselWidth=e[t].clientWidth||0);return this.carouselWidth},getCarouselHeight:function(){var e=this;if(!this.adjustableHeight)return"auto";var t=this.currentPerPage*(this.currentPage+1)-1,i=function(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Array(this.currentPerPage)).map((function(i,n){return e.getSlide(t+n)})).reduce((function(e,t){return Math.max(e,t&&t.$el.clientHeight||0)}),0);return this.currentHeight=0===i?"auto":"".concat(i,"px"),this.currentHeight},getSlideCount:function(){var e=this;this.slideCount=this.$slots&&this.$slots.default&&this.$slots.default.filter((function(t){return t.tag&&null!==t.tag.match("^vue-component-\\d+-".concat(e.tagName,"$"))})).length||0},getSlide:function(e){var t=this;return this.$children.filter((function(e){return null!==e.$vnode.tag.match("^vue-component-\\d+-".concat(t.tagName,"$"))}))[e]},goToPage:function(e,t){e>=0&&e<=this.pageCount&&(this.offset=this.scrollPerPage?Math.min(this.slideWidth*this.currentPerPage*e,this.maxOffset):this.slideWidth*e,this.autoplay&&!this.autoplayHoverPause&&this.restartAutoplay(),this.currentPage=e,"pagination"===t&&(this.pauseAutoplay(),this.$emit("pagination-click",e)))},onStart:function(e){2!=e.button&&(document.addEventListener(this.isTouch?"touchend":"mouseup",this.onEnd,!0),document.addEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag,!0),this.startTime=e.timeStamp,this.dragging=!0,this.dragStartX=this.isTouch?e.touches[0].clientX:e.clientX,this.dragStartY=this.isTouch?e.touches[0].clientY:e.clientY)},onEnd:function(e){this.autoplay&&!this.autoplayHoverPause&&this.restartAutoplay(),this.pauseAutoplay();var t=this.isTouch?e.changedTouches[0].clientX:e.clientX,i=this.dragStartX-t;if(this.dragMomentum=i/(e.timeStamp-this.startTime),0!==this.minSwipeDistance&&Math.abs(i)>=this.minSwipeDistance){var n=this.scrollPerPage?this.slideWidth*this.currentPerPage:this.slideWidth;this.dragOffset=this.dragOffset+Math.sign(i)*(n/2)}this.rtl?this.offset-=this.dragOffset:this.offset+=this.dragOffset,this.dragOffset=0,this.dragging=!1,this.render(),document.removeEventListener(this.isTouch?"touchend":"mouseup",this.onEnd,!0),document.removeEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag,!0)},onDrag:function(e){var t=this.isTouch?e.touches[0].clientX:e.clientX,i=this.isTouch?e.touches[0].clientY:e.clientY,n=this.dragStartX-t,r=this.dragStartY-i;if(!(this.isTouch&&Math.abs(n)<Math.abs(r))){e.stopImmediatePropagation(),this.dragOffset=n;var a=this.offset+this.dragOffset;this.rtl?0==this.offset&&this.dragOffset>0?this.dragOffset=Math.sqrt(this.resistanceCoef*this.dragOffset):this.offset==this.maxOffset&&this.dragOffset<0&&(this.dragOffset=-Math.sqrt(-this.resistanceCoef*this.dragOffset)):a<0?this.dragOffset=-Math.sqrt(-this.resistanceCoef*this.dragOffset):a>this.maxOffset&&(this.dragOffset=Math.sqrt(this.resistanceCoef*this.dragOffset))}},onResize:function(){var e=this;this.computeCarouselWidth(),this.computeCarouselHeight(),this.dragging=!0,this.render(),setTimeout((function(){e.dragging=!1}),this.refreshRate)},render:function(){this.rtl?this.offset-=Math.max(1-this.currentPerPage,Math.min(Math.round(this.dragMomentum),this.currentPerPage-1))*this.slideWidth:this.offset+=Math.max(1-this.currentPerPage,Math.min(Math.round(this.dragMomentum),this.currentPerPage-1))*this.slideWidth;var e=this.scrollPerPage?this.slideWidth*this.currentPerPage:this.slideWidth,t=e*Math.floor(this.slideCount/(this.currentPerPage-1)),i=t+this.slideWidth*(this.slideCount%this.currentPerPage);this.offset>(t+i)/2?this.offset=i:this.offset=e*Math.round(this.offset/e),this.offset=Math.max(0,Math.min(this.offset,this.maxOffset)),this.currentPage=this.scrollPerPage?Math.round(this.offset/this.slideWidth/this.currentPerPage):Math.round(this.offset/this.slideWidth)},computeCarouselWidth:function(){this.getSlideCount(),this.getBrowserWidth(),this.getCarouselWidth(),this.setCurrentPageInBounds()},computeCarouselHeight:function(){this.getCarouselHeight()},setCurrentPageInBounds:function(){if(!this.canAdvanceForward&&this.scrollPerPage){var e=this.pageCount-1;this.currentPage=e>=0?e:0,this.offset=Math.max(0,Math.min(this.offset,this.maxOffset))}},handleTransitionStart:function(){this.$emit("transitionStart"),this.$emit("transition-start")},handleTransitionEnd:function(){this.$emit("transitionEnd"),this.$emit("transition-end")}},mounted:function(){window.addEventListener("resize",function(e,t,i){var n;return function(){var r=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||e.apply(void 0)}),t),r&&e.apply(void 0)}}(this.onResize,this.refreshRate)),(this.isTouch&&this.touchDrag||this.mouseDrag)&&this.$refs["VueCarousel-wrapper"].addEventListener(this.isTouch?"touchstart":"mousedown",this.onStart),this.attachMutationObserver(),this.computeCarouselWidth(),this.computeCarouselHeight(),this.transitionstart=b(),this.$refs["VueCarousel-inner"].addEventListener(this.transitionstart,this.handleTransitionStart),this.transitionend=b(),this.$refs["VueCarousel-inner"].addEventListener(this.transitionend,this.handleTransitionEnd),this.$emit("mounted"),"backward"===this.autoplayDirection&&this.goToLastSlide()},beforeDestroy:function(){this.detachMutationObserver(),window.removeEventListener("resize",this.getBrowserWidth),this.$refs["VueCarousel-inner"].removeEventListener(this.transitionstart,this.handleTransitionStart),this.$refs["VueCarousel-inner"].removeEventListener(this.transitionend,this.handleTransitionEnd),this.$refs["VueCarousel-wrapper"].removeEventListener(this.isTouch?"touchstart":"mousedown",this.onStart)}},M=(i(101),o(w,n,[],!1,null,null,null));M.options.__file="src/Carousel.vue";var T=M.exports;i.d(t,"Carousel",(function(){return T})),i.d(t,"Slide",(function(){return y})),t.default={install:function(e){e.component("carousel",T),e.component("slide",y)}}}])}))},"0a84":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});return t}))},"0caa":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return n?r[i][0]:r[i][1]}var i=e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});return i}))},"0e49":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return t}))},"0e6b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:0,doy:4}});return t}))},"0e81":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"},i=e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,i){return e<12?i?"öö":"ÖÖ":i?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,i){switch(i){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,a=e>=100?100:null;return e+(t[n]||t[r]||t[a])}},week:{dow:1,doy:7}});return i}))},"0f14":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},"0f38":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},"0fc5":function(e,t,i){"use strict";i("6b39")},"0ff2":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t}))},"102d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{background:"#F7F7F7"}},[i("div",{staticClass:"main  px-10"},[i("div",{staticClass:"filters lg:px-60"},[i("div",{staticClass:"RentBuy flex justify-center mt-6 float-left mb-2"},[i("button",{staticClass:"border-2 px-7 p-1 text-black",class:{"bg-yellow-500 border-yellow-500":"for sale"==e.filters.purpose},on:{click:function(t){return e.togglePurpose()}}},[e._v(" Buy ")]),i("button",{staticClass:"border-2 px-5 p-1 text-black",class:{"bg-yellow-500 border-yellow-500":"for rent"==e.filters.purpose},on:{click:function(t){return e.togglePurpose()}}},[e._v(" Rental ")])]),i("div",{staticClass:"flex w-full border-grey-light border mb-2 bg-white"},[i("button",[i("span",{staticClass:"w-auto flex justify-end items-center text-grey p-2"},[i("svg",{staticClass:"w-6 h-6 bg-yelleow-500",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.keyword,expression:"filters.keyword"}],staticClass:"w-full rounded mr-4",attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.filters.keyword},on:{keyup:function(t){return e.getEstates()},input:function(t){t.target.composing||e.$set(e.filters,"keyword",t.target.value)}}})]),i("div",{staticClass:"flex items-center space-x-3 mb-4 "},[i("div",{staticClass:"grid md:grid-cols-2  xl:grid-cols-7 xl:gap-4 gap-2"},[i("div",{staticClass:"xl:col-span-2"},[i("multiselect",{attrs:{placeholder:"categories",label:"name","track-by":"name",multiple:!0,value:"id",options:e.categories,"close-on-select":!1,"show-labels":!1,"clear-on-select":!1},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.values,r=(t.search,t.isOpen);t.remove;return i("div",{staticClass:"selection-count"},[!r&&n.length?[e._v(" "+e._s(n.length)+" "+e._s(n.length>1?"categories":"category")+" selected ")]:e._e()],2)}},{key:"option",fn:function(t){return[i("div",{staticClass:"flex justify-between items-center"},[i("span",[e._v(e._s(t.option.name))]),e.isCategorySelected(t.option.id)?i("span",{staticClass:"text-right text-sm"}):e._e()])]}}]),model:{value:e.filters.categories,callback:function(t){e.$set(e.filters,"categories",t)},expression:"filters.categories"}})],1),i("div",{staticClass:"xl:col-span-2"},[i("multiselect",{attrs:{placeholder:"countries",label:"name","track-by":"name",multiple:!0,value:"id",options:e.countries,"close-on-select":!1,"show-labels":!1,"clear-on-select":!1},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.values,r=(t.search,t.isOpen);t.remove;return i("div",{staticClass:"selection-count"},[!r&&n.length?[e._v(" "+e._s(n.length)+" "+e._s(n.length>1?"categories":"category")+" selected ")]:e._e()],2)}},{key:"option",fn:function(t){return[i("div",{staticClass:"flex justify-between items-center"},[i("span",[e._v(e._s(t.option.name))]),e.isCountrySelected(t.option.id)?i("span",{staticClass:"text-right text-sm"}):e._e()])]}}]),model:{value:e.filters.countries,callback:function(t){e.$set(e.filters,"countries",t)},expression:"filters.countries"}})],1),i("div",{staticClass:"grid grid-cols-2 xl:col-span-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.minPrice,expression:"filters.minPrice"}],staticClass:"px-3 py-2 mr-1 border",attrs:{type:"text",placeholder:" Min Price"},domProps:{value:e.filters.minPrice},on:{input:function(t){t.target.composing||e.$set(e.filters,"minPrice",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.maxPrice,expression:"filters.maxPrice"}],staticClass:"md:px-3 py-2 border",attrs:{type:"text",placeholder:" Max Price"},domProps:{value:e.filters.maxPrice},on:{input:function(t){t.target.composing||e.$set(e.filters,"maxPrice",t.target.value)}}})]),i("div",{staticClass:"grid grid-cols-2 gap-6"},[i("button",{staticClass:"px-6 py-2 border-yellow-500 text-white bg-yellow-500 font-bold",on:{click:function(t){return e.getEstates()}}},[e._v(" Apply ")]),i("button",{staticClass:"px-6 py-2 border-yellow-500 text-white bg-yellow-500 font-bold",on:{click:function(t){e.messagePopup=!e.messagePopup}}},[e._v(" More ")])])]),e.messagePopup?i("div",{staticClass:"modal-mask w-full"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container md:w-1/2 h-auto"},[i("button",{staticClass:"modal-default-button float-right",on:{click:function(t){e.messagePopup=!e.messagePopup}}},[i("i",{staticClass:"ml-2 fas fa-times"})]),i("div",{staticClass:"grid grid-cols-2 gap-8 my-8"},[i("multiselect",{attrs:{placeholder:"zipCodes",label:"Zip","track-by":"Zip",multiple:!0,value:"ZipID",options:e.zipCodes,"close-on-select":!1,"show-labels":!1,"clear-on-select":!1},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.values,r=(t.search,t.isOpen);t.remove;return i("div",{staticClass:"selection-count"},[!r&&n.length?[e._v(" "+e._s(n.length)+" "+e._s(n.length>1?"zipCodes":"zipCode")+" selected ")]:e._e()],2)}},{key:"option",fn:function(t){return[i("div",{staticClass:"flex justify-between items-center"},[i("span",[e._v(e._s(t.option.Zip))]),e.isZipCodeSelected(t.option.ZipID)?i("span",{staticClass:"text-right text-sm"}):e._e()])]}}],null,!1,3057406281),model:{value:e.filters.zipCodes,callback:function(t){e.$set(e.filters,"zipCodes",t)},expression:"filters.zipCodes"}}),i("multiselect",{attrs:{placeholder:"subcategories",label:"name","track-by":"name",multiple:!0,value:"id",options:e.subcategories,"close-on-select":!1,"show-labels":!1,"clear-on-select":!1},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.values,r=(t.search,t.isOpen);t.remove;return i("div",{staticClass:"selection-count"},[!r&&n.length?[e._v(" "+e._s(n.length)+" "+e._s(n.length>1?"subcategories":"subcategory")+" selected ")]:e._e()],2)}},{key:"option",fn:function(t){return[i("div",{staticClass:"flex justify-between items-center"},[i("span",[e._v(e._s(t.option.name))]),e.isSubCategorySelected(t.option.id)?i("span",{staticClass:"text-right text-sm"}):e._e()])]}}],null,!1,2545291905),model:{value:e.filters.subcategories,callback:function(t){e.$set(e.filters,"subcategories",t)},expression:"filters.subcategories"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.minArea,expression:"filters.minArea"}],staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Min Area"},domProps:{value:e.filters.minArea},on:{input:function(t){t.target.composing||e.$set(e.filters,"minArea",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.maxArea,expression:"filters.maxArea"}],staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Max Area"},domProps:{value:e.filters.maxArea},on:{input:function(t){t.target.composing||e.$set(e.filters,"maxArea",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.rooms,expression:"filters.rooms"}],staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Number rooms"},domProps:{value:e.filters.rooms},on:{input:function(t){t.target.composing||e.$set(e.filters,"rooms",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.bathrooms,expression:"filters.bathrooms"}],staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Number bathrooms"},domProps:{value:e.filters.bathrooms},on:{input:function(t){t.target.composing||e.$set(e.filters,"bathrooms",t.target.value)}}})],1),i("div",{staticClass:"grid md:grid-cols-4 mb-12"},[i("span",[i("label",{staticClass:"m-2"},[e._v(" Parking")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.parking,expression:"filters.parking"}],staticClass:"px-3 py-2 border",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.filters.parking)?e._i(e.filters.parking,"1")>-1:e.filters.parking},on:{click:e.checkParking,change:function(t){var i=e.filters.parking,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a="1",s=e._i(i,a);n.checked?s<0&&e.$set(e.filters,"parking",i.concat([a])):s>-1&&e.$set(e.filters,"parking",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filters,"parking",r)}}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Terrace")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.terrace,expression:"filters.terrace"}],staticClass:"px-3 py-2 border",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.filters.terrace)?e._i(e.filters.terrace,"1")>-1:e.filters.terrace},on:{change:function(t){var i=e.filters.terrace,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a="1",s=e._i(i,a);n.checked?s<0&&e.$set(e.filters,"terrace",i.concat([a])):s>-1&&e.$set(e.filters,"terrace",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filters,"terrace",r)}}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Furnished")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.furnished,expression:"filters.furnished"}],staticClass:"px-3 py-2 border",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.filters.furnished)?e._i(e.filters.furnished,"1")>-1:e.filters.furnished},on:{change:function(t){var i=e.filters.furnished,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a="1",s=e._i(i,a);n.checked?s<0&&e.$set(e.filters,"furnished",i.concat([a])):s>-1&&e.$set(e.filters,"furnished",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filters,"furnished",r)}}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Garden")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.garden,expression:"filters.garden"}],staticClass:"px-3 py-2 border",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.filters.garden)?e._i(e.filters.garden,"1")>-1:e.filters.garden},on:{change:function(t){var i=e.filters.garden,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a="1",s=e._i(i,a);n.checked?s<0&&e.$set(e.filters,"garden",i.concat([a])):s>-1&&e.$set(e.filters,"garden",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filters,"garden",r)}}})])]),i("div",{staticClass:"flex justify-end"},[i("button",{staticClass:"bg-gray-300 px-6 py-2 text-center cursor-pointer mr-2 rounded",on:{click:function(t){e.messagePopup=!1}}},[e._v(" Cancel ")]),i("button",{staticClass:"bg-yellow-500 px-8 py-2 text-center cursor-pointer rounded",on:{click:function(t){return e.applyExtraFilters()}}},[e._v(" Apply ")])])])])]):e._e()])]),i("div",{staticClass:"flex flex-wrap space-x-3 mb-4"},[e._l(e.filters.categories,(function(t){return i("div",{key:t.name,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(i){return e.clearFilter("categories","id",t.id)}}},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})])})),e._l(e.filters.subcategories,(function(t){return i("div",{key:t.name,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(i){return e.clearFilter("subcategories","id",t.id)}}},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})])})),e._l(e.filters.zipCodes,(function(t){return i("div",{key:t.ZipID,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(i){return e.clearFilter("zipCodes","ZipID",t.ZipID)}}},[i("span",[e._v(e._s(t.Zip))]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})])})),0!=e.filters.minPrice?i("div",{key:e.filters.minPrice,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("minPrice","minPrice",null)}}},[i("span",[e._v("MinPrice "+e._s(e.filters.minPrice)+" € ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.maxPrice?i("div",{key:e.filters.maxPrice,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("maxPrice","maxPrice",null)}}},[i("span",[e._v("MaxPrice "+e._s(e.filters.maxPrice)+" € ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),e._l(e.filters.countries,(function(t){return i("div",{key:t.name,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(i){return e.clearFilter("countries","id",t.id)}}},[i("span",[e._v(e._s(t.name)+" ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})])})),0!=e.filters.minArea?i("div",{key:e.filters.minArea,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("minArea","minArea",null)}}},[i("span",[e._v("MinArea "+e._s(e.filters.minArea)+" m² ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.maxArea?i("div",{key:e.filters.maxArea,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("maxArea","maxArea",null)}}},[i("span",[e._v("MaxArea "+e._s(e.filters.maxArea)+" m² ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.rooms?i("div",{key:e.filters.rooms,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("rooms","rooms",null)}}},[i("span",[e._v(e._s(e.filters.rooms)+" rooms ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.bathrooms?i("div",{key:e.filters.bathrooms,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("bathrooms","bathrooms",null)}}},[i("span",[e._v(e._s(e.filters.bathrooms)+" bathrooms ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.parking?i("div",{key:e.filters.parking,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("parking","parking",null)}}},[i("span",[e._v(" Parking ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.terrace?i("div",{key:e.filters.terrace,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("terrace","terrace",null)}}},[i("span",[e._v(" Terrace ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.garden?i("div",{key:e.filters.garden,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("garden","garden",null)}}},[i("span",[e._v(" Garden ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.furnished?i("div",{key:e.filters.furnished,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("furnished","furnished",null)}}},[i("span",[e._v(" Furnished ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e(),0!=e.filters.zipcode?i("div",{key:e.filters.zipcode,staticClass:"bg-green-500 text-white py-3 px-5 cursor-pointer",on:{click:function(t){return e.clearFilter("zipcode","zipcode",null)}}},[i("span",[e._v(" "+e._s(e.filters.zipcode)+" ")]),e._v(" "),i("i",{staticClass:"ml-2 fas fa-times"})]):e._e()],2),i("div",{staticClass:" p-4 xl:px-60"},[i("div",{staticClass:"w-full grid grid-cols-2"},[i("div",{staticClass:"text-xl"},[e._v("Results")]),i("div",{staticClass:"flex justify-end"},[e._m(0),i("div",{staticClass:"dropdown"},[i("button",{staticClass:"mr-6 cursor-pointer text-xl",on:{click:function(t){return e.getEstates()}}},[i("i",{staticClass:"far fa-clock text-yellow-500"}),e._v(" Update ")]),e._m(1)]),i("button",{staticClass:"mr-4 cursor-pointer text-xl text-yellow-500",on:{click:function(t){e.activeMap=!e.activeMap}}},[e._v(" Map view ")]),i("div",{staticClass:"panel panel-default "},[i("div",{staticClass:"panel-body"},[i("label",{staticClass:"switch"},[i("input",{attrs:{type:"checkbox"},on:{click:e.toggleCheckbox}}),i("div",{staticClass:"slider round"})])])])])]),i("loader",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"px-2 py-10"}),i("div",{class:e.activeMap?"grid grid-cols-2":""},[e.activeMap?i("div",[i("BaseMap")],1):e._e(),i("Estates",{attrs:{activeMap:e.activeMap,estates:e.estates}})],1)],1),e.pagination?i("estate-pagination",{staticClass:"mt-3",attrs:{pagination:e.pagination,offset:4},on:{paginate:function(t){return e.paginate(t)}}}):e._e()],1)])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"mr-6 cursor-pointer text-xl"},[i("i",{staticClass:"fas fa-check-double text-yellow-500"}),e._v(" Select")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown-content"},[i("a",{attrs:{href:"#"}},[e._v("Price")]),i("a",{attrs:{href:"#"}},[e._v("Date")])])}];i("99af"),i("4de4"),i("d81d"),i("ac1f"),i("5319"),i("96cf"),i("d3b7");function a(e,t,i,n,r,a,s){try{var o=e[a](s),l=o.value}catch(c){return void i(c)}o.done?t(l):Promise.resolve(l).then(n,r)}function s(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var s=e.apply(t,i);function o(e){a(s,n,r,o,l,"next",e)}function l(e){a(s,n,r,o,l,"throw",e)}o(void 0)}))}}var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.activeMap?"items mt-8 grid md:grid-cols-2  gap-12 text-xl":"items mt-8 grid md:grid-cols-2 lg:grid-cols-3  gap-12 text-xl"},[e._l(e.estates,(function(t){return i("div",{key:t.EstateID,staticClass:"estateCard relative mb-12 rounded-md overflow-hidden shadow-lg"},[i("carousel",{attrs:{paginationEnabled:!1,perPage:1}},e._l(t.pictures,(function(n){return i("slide",{key:n.PictureID},[i("div",{staticClass:"bgImage",style:"background-image: url("+n.Url+")",on:{click:function(i){return e.displayDetails(t)}}})])})),1),i("div",{staticClass:"h-32 p-3 mb-12"},[i("h2",{staticClass:"font-bold my-2"},[e._v(" "+e._s(t.Name)+" "),t.Name&&t.categoryName?i("span",[e._v("-")]):e._e(),e._v(" "+e._s(t.categoryName)+" ")]),i("span",{staticClass:"my-2"},[e._v(e._s(t.City)+" - "+e._s(t.countryName))]),i("span",{staticClass:"block text-black my-2"},[t.Rooms?i("span",{staticClass:"lg:mr-2 xl:mr-2 md:mr-10"},[i("i",{staticClass:"fas fa-bed  text-yellow-500"}),e._v(" "+e._s(t.Rooms)+" ")]):e._e(),t.Bathrooms?i("span",{staticClass:"lg:mr-2 xl:mr-2 md:mr-10"},[i("i",{staticClass:"fas fa-sink   text-yellow-500"}),e._v(" "+e._s(t.Bathrooms)+" ")]):e._e(),t.Area?i("span",{staticClass:"lg:mr-2 xl:mr-2 md:mr-10"},[i("i",{staticClass:"fas fa-ruler-combined  text-yellow-500"}),e._v(" "+e._s(t.Area)+" ")]):e._e()])]),i("div",{staticClass:"bg-gray-200 text-green-700 text-xs font-bold rounded-full absolute top-0 ml-2 mt-2 px-2 py-1 text-base"},["for rent"===t.purpose?i("span",[e._v("Rent")]):"for sale"===t.purpose?i("span",[e._v("Sale")]):e._e()]),i("div",{staticClass:"flex justify-between px-3"},[t.Price?i("span",{staticClass:"block text-base text-black  text-2xl"},[e._v(e._s(t.Price)+" "+e._s(t.Currency))]):e._e(),i("button",{staticClass:"float-right bg-yellow-500 px-3 py-2 rounded-full font-bold text-sm block text-white text-base",on:{click:function(i){return e.displayDetails(t)}}},[e._v(" Details ")])])],1)})),i("v-modal",{attrs:{height:"auto",adaptive:!0,"min-width":870,scrollable:!0,name:"estate-details"}},[i("estate-modal",{key:"modal-key-"+e.selectedEstate.EstateID,attrs:{estate:e.selectedEstate}})],1)],2)},l=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("carousel",{attrs:{perPage:1}},e._l(e.estate.pictures,(function(e){return i("slide",{key:e.PictureID},[i("div",{staticClass:"bgImage",style:"background-image: url("+e.Url+")"})])})),1),e._m(0),i("div",{staticClass:"p-4",staticStyle:{"overflow-y":"scroll","max-height":"400px"}},[i("div",{staticClass:"grid grid-cols-2 mt-4 mb-4"},[i("div",{staticClass:"section"},[i("span",{staticClass:"my-2"},[e._v(" "+e._s(e.estate.Name)+" ")]),i("span",{staticClass:"my-2"},[e._v(" "+e._s(e.estate.CategoryName)+" ")]),i("span",{staticClass:"block my-2"},[e._v(e._s(e.estate.Address1))]),e.estate.Price?i("span",{staticClass:"block my-2"},[e._v(" Price : "+e._s(e.estate.Price)+" "+e._s(e.estate.Currency)+" ")]):e._e(),e.estate.Rooms?i("span",{staticClass:"mr-8"},[i("i",{staticClass:"fas fa-sink mr-2 text-yellow-500"}),e._v(" "+e._s(e.estate.Rooms)+" ")]):e._e(),e.estate.Bathrooms?i("span",{staticClass:"mr-8"},[i("i",{staticClass:"fas fa-bed mr-2 text-yellow-500"}),e._v(" "+e._s(e.estate.Bathrooms))]):e._e(),i("span",{attrs:{"mr-8":""}},[i("i",{staticClass:"fas fa-ruler-combined mr-2 text-yellow-500"}),e._v(" "+e._s(e.estate.Area)+" "),e.estate.Area?i("span",[e._v("m²")]):e._e()]),i("i",{staticClass:"fas fa-rectangle-wide"}),i("h2",{staticClass:"my-2 font-bold text-lg"},[e._v("Description")]),i("p",[e._v(" "+e._s(e.estate.Description)+" ")])]),i("div",[i("div",{staticClass:"relative float-right shadow-2xl bg-white border-gray-200 w-72 h-62 p-4"},[null!=e.estate.RepresentativeID?i("div",[i("img",{staticClass:"rounded-full h-24 w-24 flex items-center m-auto",attrs:{src:e.estate.representativePicture}}),i("h2",{staticClass:"mt-2 text-center m-auto"},[e._v(" "+e._s(e.estate.representativeName)+" "+e._s(e.estate.representativeLastName)+" ")])]):e._e(),i("button",{staticClass:"mt-2 text-center m-auto bg-yellow-500 text-white p-2 w-full",on:{click:e.displayContactModal}},[e._v(" Contact us ")]),i("v-modal",{attrs:{height:"auto",adaptive:!0,"min-width":100,scrollable:!0,name:"contact"}},[i("contact-modal")],1),i("v-modal",{attrs:{height:"auto",adaptive:!0,"min-width":100,scrollable:!0,name:"toor"}},[i("toor-modal")],1)],1)])]),i("hr"),i("div",{staticClass:"flex justify-between"},[i("h2",{staticClass:"my-2 font-bold text-lg"},[e._v("Similar Properties")]),i("button",{directives:[{name:"show",rawName:"v-show",value:e.relatedEstateApiUrl&&!e.loadingRelatedEstates,expression:"relatedEstateApiUrl && !loadingRelatedEstates"}],staticClass:"my-2 font-bold text-lg",on:{click:function(t){return e.loadRelatedEstates()}}},[e._v(" More related Estates ")])]),i("div",{staticClass:"grid grid-cols-4 gap-4"},[e._l(e.relatedEstates,(function(t){return i("div",{key:t.EstateID,staticClass:"relative",on:{click:function(i){return e.displayRelatedEstateDetails(t)}}},[i("carousel",{attrs:{paginationEnabled:!1,perPage:1}},e._l(t.pictures,(function(e){return i("slide",{key:e.PictureID},[i("img",{staticClass:"w-full h-56 object-cover cursor-pointer",attrs:{src:e.Url}})])})),1),i("div",{staticClass:"p-2 h-56"},[i("h2",{staticClass:"font-bold my-2"},[e._v(" "+e._s(t.Name)+" - "+e._s(t.categoryName)+" ")]),i("span",{staticClass:"my-2"},[e._v(e._s(t.City)+" - "+e._s(t.countryName))]),i("div",{staticClass:"text-black grid grid-cols-3"},[t.Rooms?i("div",[i("i",{staticClass:"fas fa-bed mr-2 text-yellow-500"}),e._v(" "+e._s(t.Rooms)+" ")]):e._e(),t.Bathrooms?i("div",[i("i",{staticClass:"fas fa-sink mx-2 mr-2 text-yellow-500"}),e._v(" "+e._s(t.Bathrooms)+" ")]):e._e(),t.Area?i("div",[i("i",{staticClass:"fas fa-ruler-combined mx-2 text-yellow-500"}),e._v(" "+e._s(t.Area)+" ")]):e._e()])]),i("div",{staticClass:"bg-gray-200 text-green-700 text-xs font-bold rounded-full p-2 absolute top-0 ml-2 mt-2"},[i("span",[e._v(e._s(t.purpose))])]),i("div",{staticClass:"flex justify-between"},[t.Price?i("span",{staticClass:"block"},[e._v(e._s(t.Price)+" "+e._s(t.Currency))]):e._e(),i("button",{staticClass:"float-right bg-yellow-500 px-2 py-1 rounded-full font-bold text-sm block text-white"},[e._v(" Details ")])])],1)})),i("loader",{directives:[{name:"show",rawName:"v-show",value:e.loadingRelatedEstates,expression:"loadingRelatedEstates"}],staticClass:"px-2 py-10"})],2)])],1)},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex justify-end px-4 text-yellow-500"},[i("i",{staticClass:"fas fa-plus-square"})])}];function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function h(e){if(Array.isArray(e))return d(e)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("3ca3"),i("ddb0");function p(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}i("fb6a"),i("b0c0"),i("25f0");function m(e,t){if(e){if("string"===typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){return h(e)||p(e)||m(e)||f()}var y=i("c1df"),g=i.n(y),v={name:"VueEnglishdatepicker",props:{value:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD"},classValue:{type:String,default:""},placeholder:{type:String,default:""},yearSelect:{type:Boolean,default:!0},monthSelect:{type:Boolean,default:!0}},model:{event:"change"},data(){return{date:g()(this.value||g()(),this.format),formatedValue:this.value,visible:!1,startingYear:1940,numberofYears:100,endDay:null,yearValue:""==this.value?g()().year():g()(this.value).year(),monthValue:""==this.value?g()().month():g()(this.value).month(),startMonthValue:null,currentDateValue:void 0}},computed:{getMonthsList(){return g.a.months()},year(){return this.date.year()},month(){return this.date.month()},weekdays(){return g.a.weekdaysMin()},days(){const e=this.date.clone().endOf("month").date();return Array(e).fill().map((e,t)=>g()([this.year,this.date.month(),t+1]))},startweek(){return this.date.clone().startOf("month").day()},formatedYear(){return this.date.format("YYYY")},formatedYearOrMonth(){return 0==this.monthSelect&&0==this.yearSelect?this.date.format("MMMM YYYY"):0==this.monthSelect?this.date.format("MMMM"):0==this.yearSelect?this.date.format("YYYY"):""},formatedDate(){return this.date.format("dddd, DD MMMM")}},methods:{active(e){return this.date.unix()===e.unix()},monthSelectChange(){this.date=g()([this.year,this.monthValue])},yearSelectChange(){this.date=g()([this.yearValue,this.month])},next(){let e=this.date.month()+1,t=this.year;e>11&&(t++,e=0),this.setMonthAndYear(e,t),this.date=g()([t,e])},prev(){let e=this.date.month()-1,t=this.year;e<0&&(t--,e=11),this.setMonthAndYear(e,t),this.date=g()([t,e])},select(e){this.date=e,this.formatedValue=this.date.format(this.format),this.$emit("change",this.formatedValue),this.hide()},show(){this.visible=!0,setTimeout(()=>document.addEventListener("click",this.hide),200)},hide(){this.visible=!1,document.removeEventListener("click",this.hide)},today(){this.select(g()()),this.setMonthAndYear(this.date.month(),this.date.year())},checkToday(e){let t=g()();return e.date()==t.date()&&e.year()==t.year()&&e.month()==t.month()},setMonthAndYear(e,t){this.monthValue=e,this.yearValue=t}}};function x(e,t,i,n,r,a,s,o,l,c){"boolean"!==typeof s&&(l=o,o=s,s=!1);const u="function"===typeof i?i.options:i;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),n&&(u._scopeId=n),a?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=d):t&&(d=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),d)if(u.functional){const e=u.render;u.render=function(t,i){return d.call(i),e(t,i)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return i}const b="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function w(e){return(e,t)=>L(e,t)}let M;const T={};function L(e,t){const i=b?t.media||"default":e,n=T[i]||(T[i]={ids:new Set,styles:[]});if(!n.ids.has(e)){n.ids.add(e);let i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",t.media&&n.element.setAttribute("media",t.media),void 0===M&&(M=document.head||document.getElementsByTagName("head")[0]),M.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(i),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const e=n.ids.size-1,t=document.createTextNode(i),r=n.element.childNodes;r[e]&&n.element.removeChild(r[e]),r.length?n.element.insertBefore(t,r[e]):n.element.appendChild(t)}}}const k=v;var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"datepicker",on:{click:function(e){e.stopPropagation()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.formatedValue,expression:"formatedValue"}],class:this.classValue,attrs:{type:"text",placeholder:this.placeholder},domProps:{value:e.formatedValue},on:{focus:function(t){return e.show()},input:function(t){t.target.composing||(e.formatedValue=t.target.value)}}}),e._v(" "),e.visible?i("div",{class:["calendar",{show:e.visible}]},[i("div",{staticClass:"calendar__header"},[i("div",{staticClass:"calendar__year"},[e._v(e._s(e.formatedYear))]),e._v(" "),i("div",{staticClass:"calendar__date"},[e._v(e._s(e.formatedDate))])]),e._v(" "),i("div",{staticClass:"calendar__body"},[i("div",{staticClass:"calendar__month"},[i("button",{staticClass:"calendar__month__prev",on:{click:function(t){return e.prev()}}},[i("b",[e._v(">")])]),e._v(" "),i("span",[e._v(e._s(e.formatedYearOrMonth))]),e._v(" "),this.monthSelect?i("select",{directives:[{name:"model",rawName:"v-model",value:e.monthValue,expression:"monthValue"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.monthValue=t.target.multiple?i:i[0]},e.monthSelectChange]}},e._l(e.getMonthsList,(function(e,t){return i("option",{key:e,staticStyle:{"text-align-last":"center"},attrs:{label:e},domProps:{value:t}})})),0):e._e(),e._v(" "),this.yearSelect?i("select",{directives:[{name:"model",rawName:"v-model",value:e.yearValue,expression:"yearValue"}],staticStyle:{"margin-left":"5px"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.yearValue=t.target.multiple?i:i[0]},e.yearSelectChange]}},e._l(e.numberofYears,(function(t){return i("option",{key:t,staticStyle:{"text-align-last":"center"},attrs:{label:e.startingYear+(t-1)},domProps:{value:e.startingYear+(t-1)}})})),0):e._e(),e._v(" "),i("button",{on:{click:function(t){return e.next()}}},[i("b",[e._v(">")])])]),e._v(" "),i("div",{staticStyle:{padding:"3px"}},[i("div",{staticClass:"calendar__weeks"},e._l(e.weekdays,(function(t,n){return i("div",{key:n,staticClass:"calendar__weekday"},[e._v("\n            "+e._s(t)+"\n          ")])})),0),e._v(" "),i("div",{staticClass:"calendar__days"},[i("div",{staticClass:"calendar__day_spacer",style:{gridColumn:"span "+e.startweek}}),e._v(" "),e._l(e.days,(function(t,n){return i("div",{key:n,class:["calendar__day",{selected:e.active(t)},{today:e.checkToday(t)}],on:{click:function(i){return e.select(t)}}},[e._v("\n            "+e._s(t.date())+"\n          ")])}))],2)])]),e._v(" "),i("div",{staticClass:"calendar__footer"},[i("button",{on:{click:function(t){return e.today()}}},[e._v("Today")])])]):e._e()])},D=[];const E=function(e){e&&e("data-v-680835cc_0",{source:'*[data-v-680835cc]{margin:0;box-sizing:border-box;font-family:"Open Sans",sans-serif}.datepicker[data-v-680835cc]{position:relative}.datepicker button[data-v-680835cc]{outline:0;border:0;background:0 0;cursor:pointer;transition:all .2s ease-in-out}.calendar[data-v-680835cc]{z-index:9;position:absolute;width:260px;top:100%;box-shadow:0 14px 45px rgba(0,0,0,.25),0 10px 18px rgba(0,0,0,.22);background:#fff;visibility:hidden;opacity:0}.calendar.show[data-v-680835cc]{visibility:visible;opacity:1}.calendar__header[data-v-680835cc]{padding:15px 10px;background:#5495c5;color:#fff}.calendar__year[data-v-680835cc]{opacity:.6;font-size:1rem;line-height:1.2rem}.calendar__date[data-v-680835cc]{font-size:1.2rem;line-height:1.5rem}.calendar__month[data-v-680835cc]{padding:5px 3px;display:flex;justify-content:space-between;align-items:center}.calendar__month select[data-v-680835cc]{height:28px;width:100px;border-radius:5px;border-color:#7ca3f1;text-align-last:center}.calendar__month button[data-v-680835cc]{width:25px;margin-right:4px;height:28px;margin-left:4px;border-radius:5px;color:#fff;text-align:center;background:#247ac4}.calendar__month button[data-v-680835cc]:hover{background:#663399}.calendar__month__prev[data-v-680835cc]{transform:rotate(180deg)}.calendar__days[data-v-680835cc],.calendar__weeks[data-v-680835cc]{display:grid;grid-template-columns:repeat(7,1fr)}.calendar__days[data-v-680835cc]{gap:4px}.calendar__day[data-v-680835cc],.calendar__weekday[data-v-680835cc]{text-align:center;font-size:12px}.calendar__weekday[data-v-680835cc]{opacity:.8;font-weight:300}.calendar__day[data-v-680835cc]{width:32px;height:32px;line-height:32px;font-weight:300;color:#1c94b8;font-weight:700;cursor:pointer;border-radius:5px;background:#dfeffc}.calendar__day.selected[data-v-680835cc]{background:#663399;color:#fff}.calendar__day.today[data-v-680835cc]{background:#f77777;color:#fff}.calendar__day[data-v-680835cc]:hover{background:#663399;color:#fff;opacity:.8}.calendar__footer[data-v-680835cc]{text-align:right}.calendar__footer button[data-v-680835cc]{padding:8px 10px;text-transform:uppercase;font-weight:700;color:#663399;opacity:.9}.calendar__footer button[data-v-680835cc]:hover{opacity:1}',map:void 0,media:void 0})},C="data-v-680835cc",P=void 0,Y=!1,A=x({render:S,staticRenderFns:D},E,k,C,Y,P,!1,w,void 0,void 0),I=function(e){I.installed||(I.installed=!0,e.component("VueEnglishdatepicker",A))};A.install=I;var z=A,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-wrapper rapperTour p-4"},[i("div",{staticClass:"modal-container h-auto containerTour"},[e._m(0),i("label",{staticClass:"my-2"},[e._v("First Name")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"First Name"}}),i("label",[e._v("Last Name")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"Last Name"}}),i("label",[e._v("Phone Number")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"Phone Number"}}),i("button",{staticClass:"block bg-yellow-500 w-full py-3 mt-6 text-white font-bold text-lg"},[e._v(" Book visit ")]),i("button",{staticClass:"block w-full py-3 my-2 text-gray-400 font-bold text-lg",on:{click:function(t){e.bookTour=!e.bookTour}}},[e._v(" Cancel ")])])])},R=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"italic text-gray-400 my-2"},[i("span",{staticClass:"w-2 h-2 bg-yellow-500"}),i("span",[e._v("Book Your visit by choosing te date "),i("br"),e._v(" And time from the calendar")])])}],F=i("2877"),B={},j=Object(F["a"])(B,O,R,!1,null,null,null),H=j.exports,N=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},U=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-wrapper rapperTour p-4"},[i("div",{staticClass:"modal-container h-auto containerContact"},[i("label",{staticClass:"my-2"},[e._v("First Name")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"First Name"}}),i("label",[e._v("Last Name")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"Last Name"}}),i("label",[e._v("Email")]),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"Email"}}),e._v(" Your phone number "),i("input",{staticClass:"px-3 py-2 my-2 border block w-full",attrs:{type:"text",placeholder:"Phone Number"}}),e._v(" Your message "),i("textarea",{staticClass:"border-2 block w-full h-32",attrs:{name:"Your message"}}),i("button",{staticClass:"block bg-yellow-500 w-full py-3 mt-6 text-white font-bold text-lg"},[e._v(" Submit ")])])])}],V={},W=Object(F["a"])(V,N,U,!1,null,null,null),$=W.exports,G=i("f0ca"),q=i.n(G),Z=(i("6f3c"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),X=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex items-center content-center justify-center"},[i("div",{staticClass:"dot-loader"}),i("div",{staticClass:"dot-loader dot-loader--2"}),i("div",{staticClass:"dot-loader dot-loader--3"})])}],J=(i("0fc5"),{}),K=Object(F["a"])(J,Z,X,!1,null,"7c548b2d",null),Q=K.exports;function ee(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function te(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(i){"undefined"===typeof e[i]?e[i]=t[i]:ee(t[i])&&ee(e[i])&&Object.keys(t[i]).length>0&&te(e[i],t[i])}))}var ie={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ne(){var e="undefined"!==typeof document?document:{};return te(e,ie),e}var re={document:ie,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function ae(){var e="undefined"!==typeof window?window:{};return te(e,re),e}function se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ue(e,t,i){return ue=ce()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=Function.bind.apply(e,n),a=new r;return i&&le(a,i.prototype),a},ue.apply(null,arguments)}function de(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function he(e){var t="function"===typeof Map?new Map:void 0;return he=function(e){if(null===e||!de(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return ue(e,arguments,oe(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),le(i,e)},he(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}var fe=function(e){function t(t){var i;return i=e.call.apply(e,[this].concat(t))||this,me(pe(i)),i}return se(t,e),t}(he(Array));function _e(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,_e(e)):t.push(e)})),t}function ye(e,t){return Array.prototype.filter.call(e,t)}function ge(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function ve(e,t){if("string"!==typeof e)return[e];for(var i=[],n=t.querySelectorAll(e),r=0;r<n.length;r+=1)i.push(n[r]);return i}function xe(e,t){var i=ae(),n=ne(),r=[];if(!t&&e instanceof fe)return e;if(!e)return new fe(r);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var s="div";0===a.indexOf("<li")&&(s="ul"),0===a.indexOf("<tr")&&(s="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(s="tr"),0===a.indexOf("<tbody")&&(s="table"),0===a.indexOf("<option")&&(s="select");var o=n.createElement(s);o.innerHTML=a;for(var l=0;l<o.childNodes.length;l+=1)r.push(o.childNodes[l])}else r=ve(e.trim(),t||n)}else if(e.nodeType||e===i||e===n)r.push(e);else if(Array.isArray(e)){if(e instanceof fe)return e;r=e}return new fe(ge(r))}function be(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=_e(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,n)})),this}function we(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=_e(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,n)})),this}function Me(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=_e(t.map((function(e){return e.split(" ")})));this.forEach((function(e){n.forEach((function(t){e.classList.toggle(t)}))}))}function Te(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=_e(t.map((function(e){return e.split(" ")})));return ye(this,(function(e){return n.filter((function(t){return e.classList.contains(t)})).length>0})).length>0}function Le(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(var n in e)this[i][n]=e[n],this[i].setAttribute(n,e[n]);return this}function ke(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function Se(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this}function De(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?e+"ms":e;return this}function Ee(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],r=t[1],a=t[2],s=t[3];function o(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),xe(t).is(r))a.apply(t,i);else for(var n=xe(t).parents(),s=0;s<n.length;s+=1)xe(n[s]).is(r)&&a.apply(n[s],i)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(n=t[0],a=t[1],s=t[2],r=void 0),s||(s=!1);for(var c,u=n.split(" "),d=0;d<this.length;d+=1){var h=this[d];if(r)for(c=0;c<u.length;c+=1){var p=u[c];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[p]||(h.dom7LiveListeners[p]=[]),h.dom7LiveListeners[p].push({listener:a,proxyListener:o}),h.addEventListener(p,o,s)}else for(c=0;c<u.length;c+=1){var m=u[c];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[m]||(h.dom7Listeners[m]=[]),h.dom7Listeners[m].push({listener:a,proxyListener:l}),h.addEventListener(m,l,s)}}return this}function Ce(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],r=t[1],a=t[2],s=t[3];"function"===typeof t[1]&&(n=t[0],a=t[1],s=t[2],r=void 0),s||(s=!1);for(var o=n.split(" "),l=0;l<o.length;l+=1)for(var c=o[l],u=0;u<this.length;u+=1){var d=this[u],h=void 0;if(!r&&d.dom7Listeners?h=d.dom7Listeners[c]:r&&d.dom7LiveListeners&&(h=d.dom7LiveListeners[c]),h&&h.length)for(var p=h.length-1;p>=0;p-=1){var m=h[p];a&&m.listener===a||a&&m.listener&&m.listener.dom7proxy&&m.listener.dom7proxy===a?(d.removeEventListener(c,m.proxyListener,s),h.splice(p,1)):a||(d.removeEventListener(c,m.proxyListener,s),h.splice(p,1))}}return this}function Pe(){for(var e=ae(),t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(var r=i[0].split(" "),a=i[1],s=0;s<r.length;s+=1)for(var o=r[s],l=0;l<this.length;l+=1){var c=this[l];if(e.CustomEvent){var u=new e.CustomEvent(o,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=i.filter((function(e,t){return t>0})),c.dispatchEvent(u),c.dom7EventData=[],delete c.dom7EventData}}return this}function Ye(e){var t=this;function i(n){n.target===this&&(e.call(this,n),t.off("transitionend",i))}return e&&t.on("transitionend",i),this}function Ae(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function Ie(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function ze(){if(this.length>0){var e=ae(),t=ne(),i=this[0],n=i.getBoundingClientRect(),r=t.body,a=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,o=i===e?e.scrollY:i.scrollTop,l=i===e?e.scrollX:i.scrollLeft;return{top:n.top+o-a,left:n.left+l-s}}return null}function Oe(){var e=ae();return this[0]?e.getComputedStyle(this[0],null):{}}function Re(e,t){var i,n=ae();if(1===arguments.length){if("string"!==typeof e){for(i=0;i<this.length;i+=1)for(var r in e)this[i].style[r]=e[r];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this}function Fe(e){return e?(this.forEach((function(t,i){e.apply(t,[t,i])})),this):this}function Be(e){var t=ye(this,e);return xe(t)}function je(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function He(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this}function Ne(e){var t,i,n=ae(),r=ne(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=xe(e),i=0;i<t.length;i+=1)if(t[i]===a)return!0;return!1}if(e===r)return a===r;if(e===n)return a===n;if(e.nodeType||e instanceof fe){for(t=e.nodeType?[e]:e,i=0;i<t.length;i+=1)if(t[i]===a)return!0;return!1}return!1}function Ue(){var e,t=this[0];if(t){e=0;while(null!==(t=t.previousSibling))1===t.nodeType&&(e+=1);return e}}function Ve(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return xe([]);if(e<0){var i=t+e;return xe(i<0?[]:[this[i]])}return xe([this[e]])}function We(){for(var e,t=ne(),i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(var n=0;n<this.length;n+=1)if("string"===typeof e){var r=t.createElement("div");r.innerHTML=e;while(r.firstChild)this[n].appendChild(r.firstChild)}else if(e instanceof fe)for(var a=0;a<e.length;a+=1)this[n].appendChild(e[a]);else this[n].appendChild(e)}return this}function $e(e){var t,i,n=ne();for(t=0;t<this.length;t+=1)if("string"===typeof e){var r=n.createElement("div");for(r.innerHTML=e,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(e instanceof fe)for(i=0;i<e.length;i+=1)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this}function Ge(e){return this.length>0?e?this[0].nextElementSibling&&xe(this[0].nextElementSibling).is(e)?xe([this[0].nextElementSibling]):xe([]):this[0].nextElementSibling?xe([this[0].nextElementSibling]):xe([]):xe([])}function qe(e){var t=[],i=this[0];if(!i)return xe([]);while(i.nextElementSibling){var n=i.nextElementSibling;e?xe(n).is(e)&&t.push(n):t.push(n),i=n}return xe(t)}function Ze(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&xe(t.previousElementSibling).is(e)?xe([t.previousElementSibling]):xe([]):t.previousElementSibling?xe([t.previousElementSibling]):xe([])}return xe([])}function Xe(e){var t=[],i=this[0];if(!i)return xe([]);while(i.previousElementSibling){var n=i.previousElementSibling;e?xe(n).is(e)&&t.push(n):t.push(n),i=n}return xe(t)}function Je(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?xe(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return xe(t)}function Ke(e){for(var t=[],i=0;i<this.length;i+=1){var n=this[i].parentNode;while(n)e?xe(n).is(e)&&t.push(n):t.push(n),n=n.parentNode}return xe(t)}function Qe(e){var t=this;return"undefined"===typeof e?xe([]):(t.is(e)||(t=t.parents(e).eq(0)),t)}function et(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].querySelectorAll(e),r=0;r<n.length;r+=1)t.push(n[r]);return xe(t)}function tt(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].children,r=0;r<n.length;r+=1)e&&!xe(n[r]).is(e)||t.push(n[r]);return xe(t)}function it(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}xe.fn=fe.prototype;var nt="resize scroll".split(" ");function rt(e){function t(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if("undefined"===typeof i[0]){for(var r=0;r<this.length;r+=1)nt.indexOf(e)<0&&(e in this[r]?this[r][e]():xe(this[r]).trigger(e));return this}return this.on.apply(this,[e].concat(i))}return t}rt("click"),rt("blur"),rt("focus"),rt("focusin"),rt("focusout"),rt("keyup"),rt("keydown"),rt("keypress"),rt("submit"),rt("change"),rt("mousedown"),rt("mousemove"),rt("mouseup"),rt("mouseenter"),rt("mouseleave"),rt("mouseout"),rt("mouseover"),rt("touchstart"),rt("touchend"),rt("touchmove"),rt("resize"),rt("scroll");var at={addClass:be,removeClass:we,hasClass:Te,toggleClass:Me,attr:Le,removeAttr:ke,transform:Se,transition:De,on:Ee,off:Ce,trigger:Pe,transitionEnd:Ye,outerWidth:Ae,outerHeight:Ie,styles:Oe,offset:ze,css:Re,each:Fe,html:je,text:He,is:Ne,index:Ue,eq:Ve,append:We,prepend:$e,next:Ge,nextAll:qe,prev:Ze,prevAll:Xe,parent:Je,parents:Ke,closest:Qe,find:et,children:tt,filter:Be,remove:it};Object.keys(at).forEach((function(e){xe.fn[e]=at[e]}));var st,ot,lt,ct=xe;function ut(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(i){}try{delete t[e]}catch(i){}}))}function dt(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function ht(){return Date.now()}function pt(e,t){void 0===t&&(t="x");var i,n,r,a=ae(),s=a.getComputedStyle(e,null);return a.WebKitCSSMatrix?(n=s.transform||s.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new a.WebKitCSSMatrix("none"===n?"":n)):(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),"x"===t&&(n=a.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=a.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}function mt(e){return"object"===typeof e&&null!==e&&e.constructor&&e.constructor===Object}function ft(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t+=1){var i=t<0||arguments.length<=t?void 0:arguments[t];if(void 0!==i&&null!==i)for(var n=Object.keys(Object(i)),r=0,a=n.length;r<a;r+=1){var s=n[r],o=Object.getOwnPropertyDescriptor(i,s);void 0!==o&&o.enumerable&&(mt(e[s])&&mt(i[s])?ft(e[s],i[s]):!mt(e[s])&&mt(i[s])?(e[s]={},ft(e[s],i[s])):e[s]=i[s])}}return e}function _t(e,t){Object.keys(t).forEach((function(i){mt(t[i])&&Object.keys(t[i]).forEach((function(n){"function"===typeof t[i][n]&&(t[i][n]=t[i][n].bind(e))})),e[i]=t[i]}))}function yt(){var e=ae(),t=ne();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:function(){return"MutationObserver"in e||"WebkitMutationObserver"in e}(),passiveListener:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(n){}return t}(),gestures:function(){return"ongesturestart"in e}()}}function gt(){return st||(st=yt()),st}function vt(e){var t=void 0===e?{}:e,i=t.userAgent,n=gt(),r=ae(),a=r.navigator.platform,s=i||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/),d=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="Win32"===a,f="MacIntel"===a,_=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&f&&n.touch&&_.indexOf(l+"x"+c)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),f=!1),u&&!m&&(o.os="android",o.android=!0),(d||p||h)&&(o.os="ios",o.ios=!0),o}function xt(e){return void 0===e&&(e={}),ot||(ot=vt(e)),ot}function bt(){var e=ae();function t(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}return{isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:t(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function wt(){return lt||(lt=bt()),lt}var Mt={name:"resize",create:function(){var e=this;ft(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=ae();t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler)},destroy:function(e){var t=ae();t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tt.apply(this,arguments)}var Lt={attach:function(e,t){void 0===t&&(t={});var i=ae(),n=this,r=i.MutationObserver||i.WebkitMutationObserver,a=new r((function(e){if(1!==e.length){var t=function(){n.emit("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else n.emit("observerUpdate",e[0])}));a.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),n.observer.observers.push(a)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),i=0;i<t.length;i+=1)e.observer.attach(t[i]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){var e=this;e.observer.observers.forEach((function(e){e.disconnect()})),e.observer.observers=[]}},kt={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){var e=this;_t(e,{observer:Tt({},Lt,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}},St={useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var n=t.modules[i];n.params&&ft(e,n.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var n=t.modules[i],r=e[i]||{};n.on&&t.on&&Object.keys(n.on).forEach((function(e){t.on(e,n.on[e])})),n.create&&n.create.bind(t)(r)}))}},Dt={on:function(e,t,i){var n=this;if("function"!==typeof t)return n;var r=i?"unshift":"push";return e.split(" ").forEach((function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)})),n},once:function(e,t,i){var n=this;if("function"!==typeof t)return n;function r(){n.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t.apply(n,a)}return r.__emitterProxy=t,n.on(e,r,i)},onAny:function(e,t){var i=this;if("function"!==typeof e)return i;var n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off:function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach((function(n,r){(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)}))})),i):i},emit:function(){var e,t,i,n=this;if(!n.eventsListeners)return n;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),i=n):(e=a[0].events,t=a[0].data,i=a[0].context||n),t.unshift(i);var o=Array.isArray(e)?e:e.split(" ");return o.forEach((function(e){n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach((function(n){n.apply(i,[e].concat(t))})),n.eventsListeners&&n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(e){e.apply(i,t)}))})),n}};function Et(){var e,t,i=this,n=i.$el;e="undefined"!==typeof i.params.width&&null!==i.params.width?i.params.width:n[0].clientWidth,t="undefined"!==typeof i.params.height&&null!==i.params.height?i.params.height:n[0].clientHeight,0===e&&i.isHorizontal()||0===t&&i.isVertical()||(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),ft(i,{width:e,height:t,size:i.isHorizontal()?e:t}))}function Ct(){var e=this,t=ae(),i=e.params,n=e.$wrapperEl,r=e.size,a=e.rtlTranslate,s=e.wrongRTL,o=e.virtual&&i.virtual.enabled,l=o?e.virtual.slides.length:e.slides.length,c=n.children("."+e.params.slideClass),u=o?e.virtual.slides.length:c.length,d=[],h=[],p=[];function m(e,t){return!i.cssMode||t!==c.length-1}var f=i.slidesOffsetBefore;"function"===typeof f&&(f=i.slidesOffsetBefore.call(e));var _=i.slidesOffsetAfter;"function"===typeof _&&(_=i.slidesOffsetAfter.call(e));var y=e.snapGrid.length,g=e.slidesGrid.length,v=i.spaceBetween,x=-f,b=0,w=0;if("undefined"!==typeof r){var M,T;"string"===typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*r),e.virtualSize=-v,a?c.css({marginLeft:"",marginTop:""}):c.css({marginRight:"",marginBottom:""}),i.slidesPerColumn>1&&(M=Math.floor(u/i.slidesPerColumn)===u/e.params.slidesPerColumn?u:Math.ceil(u/i.slidesPerColumn)*i.slidesPerColumn,"auto"!==i.slidesPerView&&"row"===i.slidesPerColumnFill&&(M=Math.max(M,i.slidesPerView*i.slidesPerColumn)));for(var L,k=i.slidesPerColumn,S=M/k,D=Math.floor(u/i.slidesPerColumn),E=0;E<u;E+=1){T=0;var C=c.eq(E);if(i.slidesPerColumn>1){var P=void 0,Y=void 0,A=void 0;if("row"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var I=Math.floor(E/(i.slidesPerGroup*i.slidesPerColumn)),z=E-i.slidesPerColumn*i.slidesPerGroup*I,O=0===I?i.slidesPerGroup:Math.min(Math.ceil((u-I*k*i.slidesPerGroup)/k),i.slidesPerGroup);A=Math.floor(z/O),Y=z-A*O+I*i.slidesPerGroup,P=Y+A*M/k,C.css({"-webkit-box-ordinal-group":P,"-moz-box-ordinal-group":P,"-ms-flex-order":P,"-webkit-order":P,order:P})}else"column"===i.slidesPerColumnFill?(Y=Math.floor(E/k),A=E-Y*k,(Y>D||Y===D&&A===k-1)&&(A+=1,A>=k&&(A=0,Y+=1))):(A=Math.floor(E/S),Y=E-A*S);C.css("margin-"+(e.isHorizontal()?"top":"left"),0!==A&&i.spaceBetween&&i.spaceBetween+"px")}if("none"!==C.css("display")){if("auto"===i.slidesPerView){var R=t.getComputedStyle(C[0],null),F=C[0].style.transform,B=C[0].style.webkitTransform;if(F&&(C[0].style.transform="none"),B&&(C[0].style.webkitTransform="none"),i.roundLengths)T=e.isHorizontal()?C.outerWidth(!0):C.outerHeight(!0);else if(e.isHorizontal()){var j=parseFloat(R.getPropertyValue("width")||0),H=parseFloat(R.getPropertyValue("padding-left")||0),N=parseFloat(R.getPropertyValue("padding-right")||0),U=parseFloat(R.getPropertyValue("margin-left")||0),V=parseFloat(R.getPropertyValue("margin-right")||0),W=R.getPropertyValue("box-sizing");if(W&&"border-box"===W)T=j+U+V;else{var $=C[0],G=$.clientWidth,q=$.offsetWidth;T=j+H+N+U+V+(q-G)}}else{var Z=parseFloat(R.getPropertyValue("height")||0),X=parseFloat(R.getPropertyValue("padding-top")||0),J=parseFloat(R.getPropertyValue("padding-bottom")||0),K=parseFloat(R.getPropertyValue("margin-top")||0),Q=parseFloat(R.getPropertyValue("margin-bottom")||0),ee=R.getPropertyValue("box-sizing");if(ee&&"border-box"===ee)T=Z+K+Q;else{var te=C[0],ie=te.clientHeight,ne=te.offsetHeight;T=Z+X+J+K+Q+(ne-ie)}}F&&(C[0].style.transform=F),B&&(C[0].style.webkitTransform=B),i.roundLengths&&(T=Math.floor(T))}else T=(r-(i.slidesPerView-1)*v)/i.slidesPerView,i.roundLengths&&(T=Math.floor(T)),c[E]&&(e.isHorizontal()?c[E].style.width=T+"px":c[E].style.height=T+"px");c[E]&&(c[E].swiperSlideSize=T),p.push(T),i.centeredSlides?(x=x+T/2+b/2+v,0===b&&0!==E&&(x=x-r/2-v),0===E&&(x=x-r/2-v),Math.abs(x)<.001&&(x=0),i.roundLengths&&(x=Math.floor(x)),w%i.slidesPerGroup===0&&d.push(x),h.push(x)):(i.roundLengths&&(x=Math.floor(x)),(w-Math.min(e.params.slidesPerGroupSkip,w))%e.params.slidesPerGroup===0&&d.push(x),h.push(x),x=x+T+v),e.virtualSize+=T+v,b=T,w+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+_,a&&s&&("slide"===i.effect||"coverflow"===i.effect)&&n.css({width:e.virtualSize+i.spaceBetween+"px"}),i.setWrapperSize&&(e.isHorizontal()?n.css({width:e.virtualSize+i.spaceBetween+"px"}):n.css({height:e.virtualSize+i.spaceBetween+"px"})),i.slidesPerColumn>1&&(e.virtualSize=(T+i.spaceBetween)*M,e.virtualSize=Math.ceil(e.virtualSize/i.slidesPerColumn)-i.spaceBetween,e.isHorizontal()?n.css({width:e.virtualSize+i.spaceBetween+"px"}):n.css({height:e.virtualSize+i.spaceBetween+"px"}),i.centeredSlides)){L=[];for(var re=0;re<d.length;re+=1){var se=d[re];i.roundLengths&&(se=Math.floor(se)),d[re]<e.virtualSize+d[0]&&L.push(se)}d=L}if(!i.centeredSlides){L=[];for(var oe=0;oe<d.length;oe+=1){var le=d[oe];i.roundLengths&&(le=Math.floor(le)),d[oe]<=e.virtualSize-r&&L.push(le)}d=L,Math.floor(e.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-r)}if(0===d.length&&(d=[0]),0!==i.spaceBetween&&(e.isHorizontal()?a?c.filter(m).css({marginLeft:v+"px"}):c.filter(m).css({marginRight:v+"px"}):c.filter(m).css({marginBottom:v+"px"})),i.centeredSlides&&i.centeredSlidesBounds){var ce=0;p.forEach((function(e){ce+=e+(i.spaceBetween?i.spaceBetween:0)})),ce-=i.spaceBetween;var ue=ce-r;d=d.map((function(e){return e<0?-f:e>ue?ue+_:e}))}if(i.centerInsufficientSlides){var de=0;if(p.forEach((function(e){de+=e+(i.spaceBetween?i.spaceBetween:0)})),de-=i.spaceBetween,de<r){var he=(r-de)/2;d.forEach((function(e,t){d[t]=e-he})),h.forEach((function(e,t){h[t]=e+he}))}}ft(e,{slides:c,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),u!==l&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==g&&e.emit("slidesGridLengthChange"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&e.updateSlidesOffset()}}function Pt(e){var t,i=this,n=[],r=0;if("number"===typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed),"auto"!==i.params.slidesPerView&&i.params.slidesPerView>1)if(i.params.centeredSlides)i.visibleSlides.each((function(e){n.push(e)}));else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){var a=i.activeIndex+t;if(a>i.slides.length)break;n.push(i.slides.eq(a)[0])}else n.push(i.slides.eq(i.activeIndex)[0]);for(t=0;t<n.length;t+=1)if("undefined"!==typeof n[t]){var s=n[t].offsetHeight;r=s>r?s:r}r&&i.$wrapperEl.css("height",r+"px")}function Yt(){for(var e=this,t=e.slides,i=0;i<t.length;i+=1)t[i].swiperSlideOffset=e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop}function At(e){void 0===e&&(e=this&&this.translate||0);var t=this,i=t.params,n=t.slides,r=t.rtlTranslate;if(0!==n.length){"undefined"===typeof n[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;r&&(a=e),n.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<n.length;s+=1){var o=n[s],l=(a+(i.centeredSlides?t.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+i.spaceBetween);if(i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight){var c=-(a-o.swiperSlideOffset),u=c+t.slidesSizesGrid[s],d=c>=0&&c<t.size-1||u>1&&u<=t.size||c<=0&&u>=t.size;d&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(s),n.eq(s).addClass(i.slideVisibleClass))}o.progress=r?-l:l}t.visibleSlides=ct(t.visibleSlides)}}function It(e){var t=this;if("undefined"===typeof e){var i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}var n=t.params,r=t.maxTranslate()-t.minTranslate(),a=t.progress,s=t.isBeginning,o=t.isEnd,l=s,c=o;0===r?(a=0,s=!0,o=!0):(a=(e-t.minTranslate())/r,s=a<=0,o=a>=1),ft(t,{progress:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",a)}function zt(){var e,t=this,i=t.slides,n=t.params,r=t.$wrapperEl,a=t.activeIndex,s=t.realIndex,o=t.virtual&&n.virtual.enabled;i.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),e=o?t.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+a+'"]'):i.eq(a),e.addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(n.slideDuplicateActiveClass));var l=e.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=i.eq(0),l.addClass(n.slideNextClass));var c=e.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===c.length&&(c=i.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function Ot(e){var t,i=this,n=i.rtlTranslate?i.translate:-i.translate,r=i.slidesGrid,a=i.snapGrid,s=i.params,o=i.activeIndex,l=i.realIndex,c=i.snapIndex,u=e;if("undefined"===typeof u){for(var d=0;d<r.length;d+=1)"undefined"!==typeof r[d+1]?n>=r[d]&&n<r[d+1]-(r[d+1]-r[d])/2?u=d:n>=r[d]&&n<r[d+1]&&(u=d+1):n>=r[d]&&(u=d);s.normalizeSlideIndex&&(u<0||"undefined"===typeof u)&&(u=0)}if(a.indexOf(n)>=0)t=a.indexOf(n);else{var h=Math.min(s.slidesPerGroupSkip,u);t=h+Math.floor((u-h)/s.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),u!==o){var p=parseInt(i.slides.eq(u).attr("data-swiper-slide-index")||u,10);ft(i,{snapIndex:t,realIndex:p,previousIndex:o,activeIndex:u}),i.emit("activeIndexChange"),i.emit("snapIndexChange"),l!==p&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")}else t!==c&&(i.snapIndex=t,i.emit("snapIndexChange"))}function Rt(e){var t=this,i=t.params,n=ct(e.target).closest("."+i.slideClass)[0],r=!1;if(n)for(var a=0;a<t.slides.length;a+=1)t.slides[a]===n&&(r=!0);if(!n||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(ct(n).attr("data-swiper-slide-index"),10):t.clickedIndex=ct(n).index(),i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Ft={updateSize:Et,updateSlides:Ct,updateAutoHeight:Pt,updateSlidesOffset:Yt,updateSlidesProgress:At,updateProgress:It,updateSlidesClasses:zt,updateActiveIndex:Ot,updateClickedSlide:Rt};function Bt(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,i=t.params,n=t.rtlTranslate,r=t.translate,a=t.$wrapperEl;if(i.virtualTranslate)return n?-r:r;if(i.cssMode)return r;var s=pt(a[0],e);return n&&(s=-s),s||0}function jt(e,t){var i,n=this,r=n.rtlTranslate,a=n.params,s=n.$wrapperEl,o=n.wrapperEl,l=n.progress,c=0,u=0,d=0;n.isHorizontal()?c=r?-e:e:u=e,a.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),a.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:a.virtualTranslate||s.transform("translate3d("+c+"px, "+u+"px, "+d+"px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u;var h=n.maxTranslate()-n.minTranslate();i=0===h?0:(e-n.minTranslate())/h,i!==l&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function Ht(){return-this.snapGrid[0]}function Nt(){return-this.snapGrid[this.snapGrid.length-1]}function Ut(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);var a=this,s=a.params,o=a.wrapperEl;if(a.animating&&s.preventInteractionOnTransition)return!1;var l,c=a.minTranslate(),u=a.maxTranslate();if(l=n&&e>c?c:n&&e<u?u:e,a.updateProgress(l),s.cssMode){var d,h=a.isHorizontal();if(0===t)o[h?"scrollLeft":"scrollTop"]=-l;else if(o.scrollTo)o.scrollTo((d={},d[h?"left":"top"]=-l,d.behavior="smooth",d));else o[h?"scrollLeft":"scrollTop"]=-l;return!0}return 0===t?(a.setTransition(0),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,i&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}var Vt={getTranslate:Bt,setTranslate:jt,minTranslate:Ht,maxTranslate:Nt,translateTo:Ut};function Wt(e,t){var i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)}function $t(e,t){void 0===e&&(e=!0);var i=this,n=i.activeIndex,r=i.params,a=i.previousIndex;if(!r.cssMode){r.autoHeight&&i.updateAutoHeight();var s=t;if(s||(s=n>a?"next":n<a?"prev":"reset"),i.emit("transitionStart"),e&&n!==a){if("reset"===s)return void i.emit("slideResetTransitionStart");i.emit("slideChangeTransitionStart"),"next"===s?i.emit("slideNextTransitionStart"):i.emit("slidePrevTransitionStart")}}}function Gt(e,t){void 0===e&&(e=!0);var i=this,n=i.activeIndex,r=i.previousIndex,a=i.params;if(i.animating=!1,!a.cssMode){i.setTransition(0);var s=t;if(s||(s=n>r?"next":n<r?"prev":"reset"),i.emit("transitionEnd"),e&&n!==r){if("reset"===s)return void i.emit("slideResetTransitionEnd");i.emit("slideChangeTransitionEnd"),"next"===s?i.emit("slideNextTransitionEnd"):i.emit("slidePrevTransitionEnd")}}}var qt={setTransition:Wt,transitionStart:$t,transitionEnd:Gt};function Zt(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"===typeof e){var r=parseInt(e,10),a=isFinite(r);if(!a)throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=r}var s=this,o=e;o<0&&(o=0);var l=s.params,c=s.snapGrid,u=s.slidesGrid,d=s.previousIndex,h=s.activeIndex,p=s.rtlTranslate,m=s.wrapperEl;if(s.animating&&l.preventInteractionOnTransition)return!1;var f=Math.min(s.params.slidesPerGroupSkip,o),_=f+Math.floor((o-f)/s.params.slidesPerGroup);_>=c.length&&(_=c.length-1),(h||l.initialSlide||0)===(d||0)&&i&&s.emit("beforeSlideChangeStart");var y,g=-c[_];if(s.updateProgress(g),l.normalizeSlideIndex)for(var v=0;v<u.length;v+=1)-Math.floor(100*g)>=Math.floor(100*u[v])&&(o=v);if(s.initialized&&o!==h){if(!s.allowSlideNext&&g<s.translate&&g<s.minTranslate())return!1;if(!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(h||0)!==o)return!1}if(y=o>h?"next":o<h?"prev":"reset",p&&-g===s.translate||!p&&g===s.translate)return s.updateActiveIndex(o),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==l.effect&&s.setTranslate(g),"reset"!==y&&(s.transitionStart(i,y),s.transitionEnd(i,y)),!1;if(l.cssMode){var x,b=s.isHorizontal(),w=-g;if(p&&(w=m.scrollWidth-m.offsetWidth-w),0===t)m[b?"scrollLeft":"scrollTop"]=w;else if(m.scrollTo)m.scrollTo((x={},x[b?"left":"top"]=w,x.behavior="smooth",x));else m[b?"scrollLeft":"scrollTop"]=w;return!0}return 0===t?(s.setTransition(0),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,n),s.transitionStart(i,y),s.transitionEnd(i,y)):(s.setTransition(t),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,n),s.transitionStart(i,y),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(i,y))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))),!0}function Xt(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var r=this,a=e;return r.params.loop&&(a+=r.loopedSlides),r.slideTo(a,t,i,n)}function Jt(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this,r=n.params,a=n.animating,s=n.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(a&&r.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return n.slideTo(n.activeIndex+s,e,t,i)}function Kt(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this,r=n.params,a=n.animating,s=n.snapGrid,o=n.slidesGrid,l=n.rtlTranslate;if(r.loop){if(a&&r.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}var c=l?n.translate:-n.translate;function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var d,h=u(c),p=s.map((function(e){return u(e)})),m=(s[p.indexOf(h)],s[p.indexOf(h)-1]);return"undefined"===typeof m&&r.cssMode&&s.forEach((function(e){!m&&h>=e&&(m=e)})),"undefined"!==typeof m&&(d=o.indexOf(m),d<0&&(d=n.activeIndex-1)),n.slideTo(d,e,t,i)}function Qt(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this;return n.slideTo(n.activeIndex,e,t,i)}function ei(e,t,i,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===n&&(n=.5);var r=this,a=r.activeIndex,s=Math.min(r.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){var c=r.snapGrid[o],u=r.snapGrid[o+1];l-c>(u-c)*n&&(a+=r.params.slidesPerGroup)}else{var d=r.snapGrid[o-1],h=r.snapGrid[o];l-d<=(h-d)*n&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,e,t,i)}function ti(){var e,t=this,i=t.params,n=t.$wrapperEl,r="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,a=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(ct(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?a<t.loopedSlides-r/2||a>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),a=n.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),dt((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-r?(t.loopFix(),a=n.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),dt((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}var ii={slideTo:Zt,slideToLoop:Xt,slideNext:Jt,slidePrev:Kt,slideReset:Qt,slideToClosest:ei,slideToClickedSlide:ti};function ni(){var e=this,t=ne(),i=e.params,n=e.$wrapperEl;n.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var r=n.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var a=i.slidesPerGroup-r.length%i.slidesPerGroup;if(a!==i.slidesPerGroup){for(var s=0;s<a;s+=1){var o=ct(t.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);n.append(o)}r=n.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);var l=[],c=[];r.each((function(t,i){var n=ct(t);i<e.loopedSlides&&c.push(t),i<r.length&&i>=r.length-e.loopedSlides&&l.push(t),n.attr("data-swiper-slide-index",i)}));for(var u=0;u<c.length;u+=1)n.append(ct(c[u].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var d=l.length-1;d>=0;d-=1)n.prepend(ct(l[d].cloneNode(!0)).addClass(i.slideDuplicateClass))}function ri(){var e=this;e.emit("beforeLoopFix");var t,i=e.activeIndex,n=e.slides,r=e.loopedSlides,a=e.allowSlidePrev,s=e.allowSlideNext,o=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-o[i],u=c-e.getTranslate();if(i<r){t=n.length-3*r+i,t+=r;var d=e.slideTo(t,0,!1,!0);d&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)}else if(i>=n.length-r){t=-n.length+i+r,t+=r;var h=e.slideTo(t,0,!1,!0);h&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)}e.allowSlidePrev=a,e.allowSlideNext=s,e.emit("loopFix")}function ai(){var e=this,t=e.$wrapperEl,i=e.params,n=e.slides;t.children("."+i.slideClass+"."+i.slideDuplicateClass+",."+i.slideClass+"."+i.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}var si={loopCreate:ni,loopFix:ri,loopDestroy:ai};function oi(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var i=t.el;i.style.cursor="move",i.style.cursor=e?"-webkit-grabbing":"-webkit-grab",i.style.cursor=e?"-moz-grabbin":"-moz-grab",i.style.cursor=e?"grabbing":"grab"}}function li(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}var ci={setGrabCursor:oi,unsetGrabCursor:li};function ui(e){var t=this,i=t.$wrapperEl,n=t.params;if(n.loop&&t.loopDestroy(),"object"===typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&i.append(e[r]);else i.append(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update()}function di(e){var t=this,i=t.params,n=t.$wrapperEl,r=t.activeIndex;i.loop&&t.loopDestroy();var a=r+1;if("object"===typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)e[s]&&n.prepend(e[s]);a=r+e.length}else n.prepend(e);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update(),t.slideTo(a,0,!1)}function hi(e,t){var i=this,n=i.$wrapperEl,r=i.params,a=i.activeIndex,s=a;r.loop&&(s-=i.loopedSlides,i.loopDestroy(),i.slides=n.children("."+r.slideClass));var o=i.slides.length;if(e<=0)i.prependSlide(t);else if(e>=o)i.appendSlide(t);else{for(var l=s>e?s+1:s,c=[],u=o-1;u>=e;u-=1){var d=i.slides.eq(u);d.remove(),c.unshift(d)}if("object"===typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&n.append(t[h]);l=s>e?s+t.length:s}else n.append(t);for(var p=0;p<c.length;p+=1)n.append(c[p]);r.loop&&i.loopCreate(),r.observer&&i.support.observer||i.update(),r.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}}function pi(e){var t=this,i=t.params,n=t.$wrapperEl,r=t.activeIndex,a=r;i.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.slides=n.children("."+i.slideClass));var s,o=a;if("object"===typeof e&&"length"in e){for(var l=0;l<e.length;l+=1)s=e[l],t.slides[s]&&t.slides.eq(s).remove(),s<o&&(o-=1);o=Math.max(o,0)}else s=e,t.slides[s]&&t.slides.eq(s).remove(),s<o&&(o-=1),o=Math.max(o,0);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update(),i.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)}function mi(){for(var e=this,t=[],i=0;i<e.slides.length;i+=1)t.push(i);e.removeSlide(t)}var fi={appendSlide:ui,prependSlide:di,addSlide:hi,removeSlide:pi,removeAllSlides:mi};function _i(e){var t=this,i=ne(),n=ae(),r=t.touchEventsData,a=t.params,s=t.touches;if(!t.animating||!a.preventInteractionOnTransition){var o=e;o.originalEvent&&(o=o.originalEvent);var l=ct(o.target);if(("wrapper"!==a.touchEventsTarget||l.closest(t.wrapperEl).length)&&(r.isTouchEvent="touchstart"===o.type,(r.isTouchEvent||!("which"in o)||3!==o.which)&&!(!r.isTouchEvent&&"button"in o&&o.button>0)&&(!r.isTouched||!r.isMoved))){var c=!!a.noSwipingClass&&""!==a.noSwipingClass;if(c&&o.target&&o.target.shadowRoot&&e.path&&e.path[0]&&(l=ct(e.path[0])),a.noSwiping&&l.closest(a.noSwipingSelector?a.noSwipingSelector:"."+a.noSwipingClass)[0])t.allowClick=!0;else if(!a.swipeHandler||l.closest(a.swipeHandler)[0]){s.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,s.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var u=s.currentX,d=s.currentY,h=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,p=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(!h||!(u<=p||u>=n.innerWidth-p)){if(ft(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=u,s.startY=d,r.touchStartTime=ht(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==o.type){var m=!0;l.is(r.formElements)&&(m=!1),i.activeElement&&ct(i.activeElement).is(r.formElements)&&i.activeElement!==l[0]&&i.activeElement.blur();var f=m&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!f||l[0].isContentEditable||o.preventDefault()}t.emit("touchStart",o)}}}}}function yi(e){var t=ne(),i=this,n=i.touchEventsData,r=i.params,a=i.touches,s=i.rtlTranslate,o=e;if(o.originalEvent&&(o=o.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===o.type){var l="touchmove"===o.type&&o.targetTouches&&(o.targetTouches[0]||o.changedTouches[0]),c="touchmove"===o.type?l.pageX:o.pageX,u="touchmove"===o.type?l.pageY:o.pageY;if(o.preventedByNestedSwiper)return a.startX=c,void(a.startY=u);if(!i.allowTouchMove)return i.allowClick=!1,void(n.isTouched&&(ft(a,{startX:c,startY:u,currentX:c,currentY:u}),n.touchStartTime=ht()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(i.isVertical()){if(u<a.startY&&i.translate<=i.maxTranslate()||u>a.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(c<a.startX&&i.translate<=i.maxTranslate()||c>a.startX&&i.translate>=i.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&o.target===t.activeElement&&ct(o.target).is(n.formElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){a.currentX=c,a.currentY=u;var d=a.currentX-a.startX,h=a.currentY-a.startY;if(!(i.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(h,2))<i.params.threshold)){var p;if("undefined"===typeof n.isScrolling)i.isHorizontal()&&a.currentY===a.startY||i.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:d*d+h*h>=25&&(p=180*Math.atan2(Math.abs(h),Math.abs(d))/Math.PI,n.isScrolling=i.isHorizontal()?p>r.touchAngle:90-p>r.touchAngle);if(n.isScrolling&&i.emit("touchMoveOpposite",o),"undefined"===typeof n.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){i.allowClick=!1,!r.cssMode&&o.cancelable&&o.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&o.stopPropagation(),n.isMoved||(r.loop&&i.loopFix(),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",o)),i.emit("sliderMove",o),n.isMoved=!0;var m=i.isHorizontal()?d:h;a.diff=m,m*=r.touchRatio,s&&(m=-m),i.swipeDirection=m>0?"prev":"next",n.currentTranslate=m+n.startTranslate;var f=!0,_=r.resistanceRatio;if(r.touchReleaseOnEdges&&(_=0),m>0&&n.currentTranslate>i.minTranslate()?(f=!1,r.resistance&&(n.currentTranslate=i.minTranslate()-1+Math.pow(-i.minTranslate()+n.startTranslate+m,_))):m<0&&n.currentTranslate<i.maxTranslate()&&(f=!1,r.resistance&&(n.currentTranslate=i.maxTranslate()+1-Math.pow(i.maxTranslate()-n.startTranslate-m,_))),f&&(o.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(m)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,void(a.diff=i.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(i.updateActiveIndex(),i.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:a[i.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:a[i.isHorizontal()?"currentX":"currentY"],time:ht()})),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",o)}function gi(e){var t=this,i=t.touchEventsData,n=t.params,r=t.touches,a=t.rtlTranslate,s=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,c=e;if(c.originalEvent&&(c=c.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",c),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,d=ht(),h=d-i.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap click",c),h<300&&d-i.lastClickTime<300&&t.emit("doubleTap doubleClick",c)),i.lastClickTime=ht(),dt((function(){t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===r.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,u=n.followFinger?a?t.translate:-t.translate:-i.currentTranslate,!n.cssMode)if(n.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(n.freeModeMomentum){if(i.velocities.length>1){var p=i.velocities.pop(),m=i.velocities.pop(),f=p.position-m.position,_=p.time-m.time;t.velocity=f/_,t.velocity/=2,Math.abs(t.velocity)<n.freeModeMinimumVelocity&&(t.velocity=0),(_>150||ht()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeModeMomentumVelocityRatio,i.velocities.length=0;var y=1e3*n.freeModeMomentumRatio,g=t.velocity*y,v=t.translate+g;a&&(v=-v);var x,b,w=!1,M=20*Math.abs(t.velocity)*n.freeModeMomentumBounceRatio;if(v<t.maxTranslate())n.freeModeMomentumBounce?(v+t.maxTranslate()<-M&&(v=t.maxTranslate()-M),x=t.maxTranslate(),w=!0,i.allowMomentumBounce=!0):v=t.maxTranslate(),n.loop&&n.centeredSlides&&(b=!0);else if(v>t.minTranslate())n.freeModeMomentumBounce?(v-t.minTranslate()>M&&(v=t.minTranslate()+M),x=t.minTranslate(),w=!0,i.allowMomentumBounce=!0):v=t.minTranslate(),n.loop&&n.centeredSlides&&(b=!0);else if(n.freeModeSticky){for(var T,L=0;L<l.length;L+=1)if(l[L]>-v){T=L;break}v=Math.abs(l[T]-v)<Math.abs(l[T-1]-v)||"next"===t.swipeDirection?l[T]:l[T-1],v=-v}if(b&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(y=a?Math.abs((-v-t.translate)/t.velocity):Math.abs((v-t.translate)/t.velocity),n.freeModeSticky){var k=Math.abs((a?-v:v)-t.translate),S=t.slidesSizesGrid[t.activeIndex];y=k<S?n.speed:k<2*S?1.5*n.speed:2.5*n.speed}}else if(n.freeModeSticky)return void t.slideToClosest();n.freeModeMomentumBounce&&w?(t.updateProgress(x),t.setTransition(y),t.setTranslate(v),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd((function(){t&&!t.destroyed&&i.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(n.speed),setTimeout((function(){t.setTranslate(x),s.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(v),t.setTransition(y),t.setTranslate(v),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(v),t.updateActiveIndex(),t.updateSlidesClasses()}else if(n.freeModeSticky)return void t.slideToClosest();(!n.freeModeMomentum||h>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var D=0,E=t.slidesSizesGrid[0],C=0;C<o.length;C+=C<n.slidesPerGroupSkip?1:n.slidesPerGroup){var P=C<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;"undefined"!==typeof o[C+P]?u>=o[C]&&u<o[C+P]&&(D=C,E=o[C+P]-o[C]):u>=o[C]&&(D=C,E=o[o.length-1]-o[o.length-2])}var Y=(u-o[D])/E,A=D<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(h>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(Y>=n.longSwipesRatio?t.slideTo(D+A):t.slideTo(D)),"prev"===t.swipeDirection&&(Y>1-n.longSwipesRatio?t.slideTo(D+A):t.slideTo(D))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);var I=t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl);I?c.target===t.navigation.nextEl?t.slideTo(D+A):t.slideTo(D):("next"===t.swipeDirection&&t.slideTo(D+A),"prev"===t.swipeDirection&&t.slideTo(D))}}}function vi(){var e=this,t=e.params,i=e.el;if(!i||0!==i.offsetWidth){t.breakpoints&&e.setBreakpoint();var n=e.allowSlideNext,r=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function xi(e){var t=this;t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function bi(){var e,t=this,i=t.wrapperEl,n=t.rtlTranslate;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=n?i.scrollWidth-i.offsetWidth-i.scrollLeft:-i.scrollLeft:t.translate=-i.scrollTop,-0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();var r=t.maxTranslate()-t.minTranslate();e=0===r?0:(t.translate-t.minTranslate())/r,e!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}var wi=!1;function Mi(){}function Ti(){var e=this,t=ne(),i=e.params,n=e.touchEvents,r=e.el,a=e.wrapperEl,s=e.device,o=e.support;e.onTouchStart=_i.bind(e),e.onTouchMove=yi.bind(e),e.onTouchEnd=gi.bind(e),i.cssMode&&(e.onScroll=bi.bind(e)),e.onClick=xi.bind(e);var l=!!i.nested;if(!o.touch&&o.pointerEvents)r.addEventListener(n.start,e.onTouchStart,!1),t.addEventListener(n.move,e.onTouchMove,l),t.addEventListener(n.end,e.onTouchEnd,!1);else{if(o.touch){var c=!("touchstart"!==n.start||!o.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(n.start,e.onTouchStart,c),r.addEventListener(n.move,e.onTouchMove,o.passiveListener?{passive:!1,capture:l}:l),r.addEventListener(n.end,e.onTouchEnd,c),n.cancel&&r.addEventListener(n.cancel,e.onTouchEnd,c),wi||(t.addEventListener("touchstart",Mi),wi=!0)}(i.simulateTouch&&!s.ios&&!s.android||i.simulateTouch&&!o.touch&&s.ios)&&(r.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,l),t.addEventListener("mouseup",e.onTouchEnd,!1))}(i.preventClicks||i.preventClicksPropagation)&&r.addEventListener("click",e.onClick,!0),i.cssMode&&a.addEventListener("scroll",e.onScroll),i.updateOnWindowResize?e.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",vi,!0):e.on("observerUpdate",vi,!0)}function Li(){var e=this,t=ne(),i=e.params,n=e.touchEvents,r=e.el,a=e.wrapperEl,s=e.device,o=e.support,l=!!i.nested;if(!o.touch&&o.pointerEvents)r.removeEventListener(n.start,e.onTouchStart,!1),t.removeEventListener(n.move,e.onTouchMove,l),t.removeEventListener(n.end,e.onTouchEnd,!1);else{if(o.touch){var c=!("onTouchStart"!==n.start||!o.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,e.onTouchStart,c),r.removeEventListener(n.move,e.onTouchMove,l),r.removeEventListener(n.end,e.onTouchEnd,c),n.cancel&&r.removeEventListener(n.cancel,e.onTouchEnd,c)}(i.simulateTouch&&!s.ios&&!s.android||i.simulateTouch&&!o.touch&&s.ios)&&(r.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,l),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(i.preventClicks||i.preventClicksPropagation)&&r.removeEventListener("click",e.onClick,!0),i.cssMode&&a.removeEventListener("scroll",e.onScroll),e.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",vi)}var ki={attachEvents:Ti,detachEvents:Li};function Si(){var e=this,t=e.activeIndex,i=e.initialized,n=e.loopedSlides,r=void 0===n?0:n,a=e.params,s=e.$el,o=a.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var l=e.getBreakpoint(o);if(l&&e.currentBreakpoint!==l){var c=l in o?o[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=c[e];"undefined"!==typeof t&&(c[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var u=c||e.originalParams,d=a.slidesPerColumn>1,h=u.slidesPerColumn>1;d&&!h?(s.removeClass(a.containerModifierClass+"multirow "+a.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!d&&h&&(s.addClass(a.containerModifierClass+"multirow"),"column"===u.slidesPerColumnFill&&s.addClass(a.containerModifierClass+"multirow-column"),e.emitContainerClasses());var p=u.direction&&u.direction!==a.direction,m=a.loop&&(u.slidesPerView!==a.slidesPerView||p);p&&i&&e.changeDirection(),ft(e.params,u),ft(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),m&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}}function Di(e){var t=ae();if(e){var i=!1,n=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var i=parseFloat(e.substr(1)),n=t.innerHeight*i;return{value:n,point:e}}return{value:e,point:e}}));n.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var r=0;r<n.length;r+=1){var a=n[r],s=a.point,o=a.value;o<=t.innerWidth&&(i=s)}return i||"max"}}var Ei={setBreakpoint:Si,getBreakpoint:Di};function Ci(){var e=this,t=e.classNames,i=e.params,n=e.rtl,r=e.$el,a=e.device,s=[];s.push("initialized"),s.push(i.direction),i.freeMode&&s.push("free-mode"),i.autoHeight&&s.push("autoheight"),n&&s.push("rtl"),i.slidesPerColumn>1&&(s.push("multirow"),"column"===i.slidesPerColumnFill&&s.push("multirow-column")),a.android&&s.push("android"),a.ios&&s.push("ios"),i.cssMode&&s.push("css-mode"),s.forEach((function(e){t.push(i.containerModifierClass+e)})),r.addClass(t.join(" ")),e.emitContainerClasses()}function Pi(){var e=this,t=e.$el,i=e.classNames;t.removeClass(i.join(" ")),e.emitContainerClasses()}var Yi={addClasses:Ci,removeClasses:Pi};function Ai(e,t,i,n,r,a){var s,o=ae();function l(){a&&a()}var c=ct(e).parent("picture")[0];c||e.complete&&r?l():t?(s=new o.Image,s.onload=l,s.onerror=l,n&&(s.sizes=n),i&&(s.srcset=i),t&&(s.src=t)):l()}function Ii(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var i=0;i<e.imagesToLoad.length;i+=1){var n=e.imagesToLoad[i];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,t)}}var zi={loadImage:Ai,preloadImages:Ii};function Oi(){var e=this,t=e.params,i=e.isLocked,n=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&n?e.isLocked=n<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,i!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),i&&i!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}var Ri={checkOverflow:Oi},Fi={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Bi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ji(e,t,i){return t&&Bi(e.prototype,t),i&&Bi(e,i),e}var Hi={modular:St,eventsEmitter:Dt,update:Ft,translate:Vt,transition:qt,slide:ii,loop:si,grabCursor:ci,manipulation:fi,events:ki,breakpoints:Ei,checkOverflow:Ri,classes:Yi,images:zi},Ni={},Ui=function(){function e(){for(var t,i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];1===r.length&&r[0].constructor&&r[0].constructor===Object?i=r[0]:(t=r[0],i=r[1]),i||(i={}),i=ft({},i),t&&!i.el&&(i.el=t);var s=this;s.support=gt(),s.device=xt({userAgent:i.userAgent}),s.browser=wt(),s.eventsListeners={},s.eventsAnyListeners=[],"undefined"===typeof s.modules&&(s.modules={}),Object.keys(s.modules).forEach((function(e){var t=s.modules[e];if(t.params){var n=Object.keys(t.params)[0],r=t.params[n];if("object"!==typeof r||null===r)return;if(!(n in i)||!("enabled"in r))return;!0===i[n]&&(i[n]={enabled:!0}),"object"!==typeof i[n]||"enabled"in i[n]||(i[n].enabled=!0),i[n]||(i[n]={enabled:!1})}}));var o=ft({},Fi);s.useParams(o),s.params=ft({},o,Ni,i),s.originalParams=ft({},s.params),s.passedParams=ft({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach((function(e){s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=ct;var l=ct(s.params.el);if(t=l[0],t){if(l.length>1){var c=[];return l.each((function(t){var n=ft({},i,{el:t});c.push(new e(n))})),c}var u;return t.swiper=s,t&&t.shadowRoot&&t.shadowRoot.querySelector?(u=ct(t.shadowRoot.querySelector("."+s.params.wrapperClass)),u.children=function(e){return l.children(e)}):u=l.children("."+s.params.wrapperClass),ft(s,{$el:l,el:t,$wrapperEl:u,wrapperEl:u[0],classNames:[],slides:ct(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},rtl:"rtl"===t.dir.toLowerCase()||"rtl"===l.css("direction"),rtlTranslate:"horizontal"===s.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===l.css("direction")),wrongRTL:"-webkit-box"===u.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["mousedown","mousemove","mouseup"];return s.support.pointerEvents&&(t=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},s.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:ht(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}}var t=e.prototype;return t.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},t.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},t.emitSlidesClasses=function(){var e=this;e.params._emitClasses&&e.el&&e.slides.each((function(t){var i=e.getSlideClasses(t);e.emit("_slideClass",t,i)}))},t.slidesPerViewDynamic=function(){var e=this,t=e.params,i=e.slides,n=e.slidesGrid,r=e.size,a=e.activeIndex,s=1;if(t.centeredSlides){for(var o,l=i[a].swiperSlideSize,c=a+1;c<i.length;c+=1)i[c]&&!o&&(l+=i[c].swiperSlideSize,s+=1,l>r&&(o=!0));for(var u=a-1;u>=0;u-=1)i[u]&&!o&&(l+=i[u].swiperSlideSize,s+=1,l>r&&(o=!0))}else for(var d=a+1;d<i.length;d+=1)n[d]-n[a]<r&&(s+=1);return s},t.update=function(){var e=this;if(e&&!e.destroyed){var t,i=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(t=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),t||r()),n.watchOverflow&&i!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}},t.changeDirection=function(e,t){void 0===t&&(t=!0);var i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(""+i.params.containerModifierClass+n).addClass(""+i.params.containerModifierClass+e),i.emitContainerClasses(),i.params.direction=e,i.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i},t.init=function(){var e=this;e.initialized||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit"))},t.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=this,n=i.params,r=i.$el,a=i.$wrapperEl,s=i.slides;return"undefined"===typeof i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttr("style"),a.removeAttr("style"),s&&s.length&&s.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==e&&(i.$el[0].swiper=null,ut(i)),i.destroyed=!0),null},e.extendDefaults=function(e){ft(Ni,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var i=t.name||Object.keys(e.prototype.modules).length+"_"+ht();e.prototype.modules[i]=t},e.use=function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)},ji(e,null,[{key:"extendedDefaults",get:function(){return Ni}},{key:"defaults",get:function(){return Fi}}]),e}();Object.keys(Hi).forEach((function(e){Object.keys(Hi[e]).forEach((function(t){Ui.prototype[t]=Hi[e][t]}))})),Ui.use([Mt,kt]);var Vi=Ui,Wi=(i("bbe3"),i("bc3a")),$i=i.n(Wi),Gi=i("0a63"),qi={props:{estate:null},components:{VueEnglishdatepicker:z,DatePick:q.a,Loader:Q,Carousel:Gi["Carousel"],Slide:Gi["Slide"],ToorModal:H,ContactModal:$},data:function(){return{loadingRelatedEstates:!1,relatedEstates:[],relatedEstateApiUrl:"https://apivitexport.azurewebsites.net/api/estates/".concat(this.estate.EstateID,"/related-estates"),bookTour:!1,date:"2019-01-01",picSwiper:null,relatedEstatesOpen:!1,contact:{Address1:"",Address2:"",Number:"",Box:"",Zip:"",EstateIds:[3515113],OfficeIds:[4381],CountryId:1,StatusId:1,LanguageId:"fr-BE",Name:"New contact",PrivateEmail:"test_contact@whise.mail"}}},methods:{displayToor:function(){this.$modal.show("toor")},displayContactModal:function(){this.$modal.show("contact")},displayCreateContact:function(){this.$modal.show("createContact")},prevSlide:function(){this.picSwiper.slidePrev()},nextSlide:function(){this.picSwiper.slideNext()},addContact:function(){var e={ClientId:445,OfficeId:4381},t="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImlhdCI6MTYxMDkyOTE0M30.eyJzZXJ2aWNlQ29uc3VtZXJJZCI6MTE2LCJ0eXBlSWQiOjIsImNsaWVudElkIjozMjUyfQ.wBJavsF3YRYI1FU-a0xYvSLNnaObs_bt7YahP3V82qM",i={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};$i.a.post("https://api.whise.eu/v1/admin/clients/token",e,i).then((function(e){var t=e.data.token;console.log(t);var i={headers:{Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImlhdCI6MTYxMTA2MjI1N30.eyJzZXJ2aWNlQ29uc3VtZXJJZCI6MjMzLCJ0eXBlSWQiOjQsImNsaWVudElkIjo0NDV9.lsZ7HrGZ-vU0kh6xBcavI2Y-UP1BM4a8NnIAKcY33Fk","Content-Type":"application/json"}},n={Name:"New contact",PrivateEmail:"test_contact@whise.mail",EstateIds:[3515113],OfficeIds:[4381],CountryId:1,StatusId:1,LanguageId:"fr-BE"};$i.a.post("https://api.whise.eu/v1/contacts/create",n,i).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},loadRelatedEstates:function(){var e=this;this.loadingRelatedEstates=!0,$i.a.get(this.relatedEstateApiUrl).then((function(t){var i;e.relatedEstateApiUrl=t.data.next_page_url,(i=e.relatedEstates).push.apply(i,_(t.data.data)),e.loadingRelatedEstates=!1})).catch((function(t){e.loadingRelatedEstates=!1,console.log(t)}))},displayRelatedEstateDetails:function(e){this.$parent.$parent.displayDetails(e)},initSwiper:function(){this.picSwiper=new Vi(this.$refs.swiperContainer,{cssMode:!0,navigation:{nextEl:this.$refs.swiperButtonNext,prevEl:this.$refs.swiperButtonPrev},pagination:{el:this.$refs.swiperPagination},mousewheel:!0,keyboard:!0})}},mounted:function(){this.initSwiper(),this.loadRelatedEstates()}},Zi=qi,Xi=(i("6b49"),Object(F["a"])(Zi,c,u,!1,null,"198fbfdd",null)),Ji=Xi.exports,Ki={components:{EstateModal:Ji,Carousel:Gi["Carousel"],Slide:Gi["Slide"]},data:function(){return{selectedEstate:{estate:null,relatedEstates:null}}},methods:{displayDetails:function(e){this.selectedEstate=e,this.$modal.show("estate-details")}},props:{estates:null,activeMap:!1},name:"estateBlog"},Qi=Ki,en=(i("5852"),Object(F["a"])(Qi,o,l,!1,null,"4cf8e599",null)),tn=en.exports,nn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"flex justify-center w-full"},[e.pagination.current_page>1?i("li",[i("a",{staticClass:"text-md font-semibold p-2",attrs:{href:"javascript:void(0)","aria-label":"Previous"},on:{click:function(t){return t.preventDefault(),e.changePage(e.pagination.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("«")])])]):e._e(),e._l(e.pagesNumber,(function(t){return i("li",{key:t},[i("a",{staticClass:"text-md font-semibold p-2",class:{"text-yellow-500":t==e.pagination.current_page},attrs:{href:"javascript:void(0)"},on:{click:function(i){return i.preventDefault(),e.changePage(t)}}},[e._v(e._s(t))])])})),e.pagination.current_page<e.pagination.last_page?i("li",[i("a",{staticClass:"text-md font-semibold p-2",attrs:{href:"javascript:void(0)","aria-label":"Next"},on:{click:function(t){return t.preventDefault(),e.changePage(e.pagination.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])]):e._e()],2)},rn=[],an=(i("a9e3"),{props:{pagination:{type:null,required:!0},offset:{type:Number,default:4}},computed:{pagesNumber:function(){if(!this.pagination.to)return[];var e=this.pagination.current_page-this.offset;e<1&&(e=1);var t=e+2*this.offset;t>=this.pagination.last_page&&(t=this.pagination.last_page);for(var i=[],n=e;n<=t;n++)i.push(n);return i}},methods:{changePage:function(e){this.pagination.current_page=e,this.$emit("paginate",e)}}}),sn=an,on=Object(F["a"])(sn,nn,rn,!1,null,null,null),ln=on.exports,cn=i("8e5f"),un=i.n(cn),dn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-mask w-full"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container w-1/2 h-auto"},[i("button",{staticClass:"modal-default-button float-right",on:{click:function(t){return e.$emit("close")}}},[i("i",{staticClass:"fas fa-times"})]),e._m(0),e._m(1),i("div",{staticClass:"flex justify-end"},[i("span",{staticClass:"bg-gray-300 px-6 py-2 text-center cursor-pointer mr-2 rounded",on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),i("span",{staticClass:"bg-yellow-500 px-8 py-2 text-center cursor-pointer rounded"},[e._v("Apply")])])])])])},hn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid grid-cols-2 gap-8 my-8"},[i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Zip Code"}}),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"SubCategory"}}),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Min Area"}}),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Max Area"}}),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Number of rooms"}}),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"text",placeholder:"Number of bathrooms"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid grid-cols-4 mb-12"},[i("span",[i("label",{staticClass:"m-2"},[e._v(" Parking")]),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"checkbox",placeholder:"Number of bathrooms"}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Garden")]),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"checkbox",placeholder:"Number of bathrooms"}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Furnished")]),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"checkbox",placeholder:"Number of bathrooms"}})]),i("span",[i("label",{staticClass:"m-2"},[e._v(" Terrace")]),i("input",{staticClass:"px-3 py-2 border",attrs:{type:"checkbox",placeholder:"Number of bathrooms"}})])])}],pn={props:{estate:null}},mn=pn,fn=(i("a483"),Object(F["a"])(mn,dn,hn,!1,null,"8ff7e72a",null)),_n=fn.exports,yn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-8"},[i("button",{staticClass:"mr-2 hidden",on:{click:e.drawMarkers}},[e._v("Draw markers")]),i("button",{staticClass:"mr-2 hidden",on:{click:e.drawDirection}},[e._v("Draw directions")]),i("button",{staticClass:"mr-2 hidden",on:{click:e.cleanMap}},[e._v("Clear Map")]),i("GmapMap",{staticClass:"w-full h-screen",attrs:{center:e.center,zoom:17,"map-type-id":"terrain"}},e._l(e.markers,(function(t,n){return i("GmapMarker",{key:n,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(i){e.center=t.position}}})})),1)],1)},gn=[],vn={lat:33.99809471978008,lng:-6.859350160559402},xn={lat:33.99809471978008,lng:-6.859350160559402},bn={name:"Map",data:function(){return{markers:[],center:vn}},methods:{drawMarkers:function(){this.markers=[{position:vn},{position:xn}]},drawDirection:function(){},cleanMap:function(){}}},wn=bn,Mn=Object(F["a"])(wn,yn,gn,!1,null,null,null),Tn=Mn.exports,Ln=i("2ef0"),kn=i.n(Ln),Sn=(i("4160"),i("13d5"),i("159b"),{arrayToQueryString:function(e,t){var i="";return e.forEach((function(e,n){i+="".concat(t,"[").concat(n,"]=").concat(encodeURIComponent(e),"&")})),i},flatten:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?flatten(t):t)}),[])})),inArray:function(e,t){return 0!=e.filter((function(e){return e==t})).length}}),Dn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"h-full w-full py-3 px-6 mr-4"},[i("button",{on:{click:function(t){return e.openEstateModal()}}},[e._v("test")]),i("div",{staticClass:"basemap",attrs:{id:"map"}})])},En=[],Cn=i("e192"),Pn=i.n(Cn),Yn={mapBoxAccessToken:"pk.eyJ1IjoiaG91ZGFzcyIsImEiOiJja2sxOHE5anAwb3phMzBuMmVuNG9ydzlvIn0.i74N4mdlw0AG4ufLHyQqbA"},An={props:{estateCoordinates:null},name:"BaseMap",data:function(){return{map:null}},methods:{openEstateModal:function(){new Pn.a.Popup({offset:[0,-15]}).setLngLat([-6.84939,33.999691]).setHTML("test").setLngLat([-6.84939,33.999691]).addTo(this.map)}},mounted:function(){var e=this;Pn.a.accessToken=Yn.mapBoxAccessToken,this.map=new Pn.a.Map({container:"map",style:"mapbox://styles/examples/cjgiiz9ck002j2ss5zur1vjji",center:[-6.84939,33.999691],zoom:12}),this.estateCoordinates&&this.estateCoordinates.forEach((function(t){(new Pn.a.Marker).setLngLat([-6.84939,33.999691]).addTo(e.map);e.map.on("click",(function(t){new Pn.a.Popup({offset:[0,-15]}).setLngLat([-6.84939,33.999691]).setHTML("test").setLngLat([-6.84939,33.999691]).addTo(e.map)}))}))}},In=An,zn=(i("bf3c"),Object(F["a"])(In,Dn,En,!1,null,"52b167ad",null)),On=zn.exports,Rn={name:"properties",components:{Loader:Q,Estates:tn,EstatePagination:ln,Multiselect:un.a,ExtraFilters:_n,Map:Tn,BaseMap:On,Carousel:Gi["Carousel"],Slide:Gi["Slide"]},data:function(){return{loading:!1,checkbox:!1,message:!1,show:!0,grid:"",filters:{keyword:"",purpose:"for rent",minPrice:"",maxPrice:"",countries:[],categories:[],zipcode:"",subcategories:[],zipCodes:[],minArea:"",maxArea:"",rooms:"",bathrooms:"",parkingValue:"",garden:!1,furnished:!1,terrace:!1,parking:!1},estates:[],pagination:null,page:1,countries:[],categories:[],popup:!1,messagePopup:!1,activeMap:!1,parking:null}},computed:{subcategories:function(){return kn.a.flatten(this.filters.categories.map((function(e){return e.subcategories})))},zipCodes:function(){return kn.a.flatten(this.filters.countries.map((function(e){return e.zipCodes})))}},methods:{toggleCheckbox:function(){this.checkbox=!this.checkbox,this.$emit("setCheckboxVal",this.checkbox),this.activeMap=!this.activeMap},gridClass:function(){},togglePurpose:function(){this.filters.purpose="for rent"==this.filters.purpose?"for sale":"for rent",this.getEstates()},paginate:function(e){this.page=e,this.getEstates()},getEstates:function(){var e=this;this.filterFromQueryString(),this.loading=!0;var t=kn.a.map(this.filters.countries,"id"),i=kn.a.map(this.filters.categories,"id"),n=kn.a.map(this.filters.subcategories,"id"),r=kn.a.map(this.filters.zipCodes,"Zip"),a=Sn.arrayToQueryString(t,"countries"),s=Sn.arrayToQueryString(i,"categories"),o=Sn.arrayToQueryString(n,"subcategories"),l=Sn.arrayToQueryString(r,"zipCodes"),c="page=".concat(this.page,"&keyword=").concat(this.filters.keyword,"&purpose=").concat(this.filters.purpose,"&parking=").concat(this.filters.parking?1:0,"&minPrice=").concat(this.filters.minPrice,"&maxPrice=").concat(this.filters.maxPrice,"&minArea=").concat(this.filters.minArea,"&maxArea=").concat(this.filters.maxArea,"&rooms=").concat(this.filters.rooms,"&bathrooms=").concat(this.filters.bathrooms,"\n      &terrace=").concat(this.filters.terrace?1:0,"\n      &furnished=").concat(this.filters.furnished?1:0,"\n      &garden=").concat(this.filters.garden?1:0,"\n      &").concat(a,"&").concat(s,"&").concat(o,"&").concat(l);$i.a.get("https://apivitexport.azurewebsites.net/api/estates?".concat(c)).then((function(t){e.estates=t.data.data,e.pagination={current_page:t.data.current_page,first_page_url:t.data.first_page_url,from:t.data.from,to:t.data.to,last_page:t.data.last_page},e.loading=!1})).catch((function(t){e.loading=!1,console.log(t)}))},getCategories:function(){var e=this;return s(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$i.a.get("https://apivitexport.azurewebsites.net/api/categories");case 2:i=t.sent,e.categories=i.data.data;case 4:case"end":return t.stop()}}),t)})))()},getCountries:function(){var e=this;return s(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$i.a.get("https://apivitexport.azurewebsites.net/api/countries");case 2:i=t.sent,e.countries=i.data.data;case 4:case"end":return t.stop()}}),t)})))()},applyExtraFilters:function(){this.getEstates(),this.messagePopup=!1},clearFilter:function(e,t,i){switch(e){case"minPrice":this.filters.minPrice=0;break;case"maxPrice":this.filters.maxPrice=0;break;case"categories":this.filters.categories=this.filters.categories.filter((function(e){return e[t]!==i}));break;case"subcategories":this.filters.subcategories=this.filters.subcategories.filter((function(e){return e[t]!==i}));break;case"countries":this.filters.countries=this.filters.countries.filter((function(e){return e[t]!==i}));break;case"zipCodes":this.filters.zipCodes=this.filters.zipCodes.filter((function(e){return e[t]!==i}));break;case"minArea":this.filters.minArea=0;break;case"maxArea":this.filters.maxArea=0;break;case"rooms":this.filters.rooms=0;break;case"bathrooms":this.filters.bathrooms=0;break;case"parking":this.filters.parking=0;break;case"terrace":this.filters.terrace=0;break;case"garden":this.filters.garden=0;break;case"furnished":this.filters.furnished=0;break;case"zipcode":this.filters.zipcode=0;break;default:break}},isCountrySelected:function(e){return this.filters.countries.filter((function(t){return t.id===e})).length>0},isCategorySelected:function(e){return this.filters.categories.filter((function(t){return t.id===e})).length>0},isSubCategorySelected:function(e){return this.filters.subcategories.filter((function(t){return t.id===e})).length>0},isZipCodeSelected:function(e){return this.filters.zipCodes.filter((function(t){return t.id===e})).length>0},hideExtraFilters:function(){this.popup=!1},displayExtraFilters:function(e){this.popup=!this.popup},test:function(){this.$router.replace({query:{keyword:"test 33333"}}),this.$route.query.keyword="test 222"},filterFromQueryString:function(){var e=this.$route.query;e.keyword&&(this.filters.keyword=e.keyword,console.log(e.keyword)),e.countries&&(this.filters.countries=kn.a.isArray(e.countries)?kn.a.filter(this.countries,(function(t){return Sn.inArray(e.countries,t.id)})):kn.a.filter(this.countries,(function(t){return t.id==e.countries}))),e.categories&&(this.filters.categories=kn.a.isArray(e.categories)?kn.a.filter(this.categories,(function(t){return Sn.inArray(e.categories,t.id)})):kn.a.filter(this.categories,(function(t){return t.id==e.categories}))),e.purpose&&(this.filters.purpose=e.purpose,console.log(e.purpose))},openModal:function(){this.$modal.show("example")}},watch:{"filters.keyword":function(){var e={countries:kn.a.map(this.filters.countries,"id"),categories:kn.a.map(this.filters.categories,"id"),keyword:this.filters.keyword,purpose:this.filters.purpose};this.$router.replace({query:e}).catch((function(){}))},"filters.purpose":function(){var e={countries:kn.a.map(this.filters.countries,"id"),categories:kn.a.map(this.filters.categories,"id"),keyword:this.filters.keyword,purpose:this.filters.purpose};this.$router.replace({query:e}).catch((function(){}))},"filters.countries":function(){var e={countries:kn.a.map(this.filters.countries,"id"),categories:kn.a.map(this.filters.categories,"id"),keyword:this.filters.keyword,purpose:this.filters.purpose};this.$router.replace({query:e}).catch((function(){}))},"filters.categories":function(){var e={countries:kn.a.map(this.filters.countries,"id"),categories:kn.a.map(this.filters.categories,"id"),keyword:this.filters.keyword,purpose:this.filters.purpose};this.$router.replace({query:e}).catch((function(){}))}},mounted:function(){var e=this;return s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:return t.next=4,e.getCountries();case 4:e.getEstates();case 5:case"end":return t.stop()}}),t)})))()}},Fn=Rn,Bn=(i("60bc"),i("c69c"),Object(F["a"])(Fn,n,r,!1,null,"5bac7d54",null));t["default"]=Bn.exports},"10e8":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,i){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}});return t}))},"13d5":function(e,t,i){"use strict";var n=i("23e7"),r=i("d58f").left,a=i("a640"),s=i("ae40"),o=i("2d00"),l=i("605d"),c=a("reduce"),u=s("reduce",{1:0}),d=!l&&o>79&&o<83;n({target:"Array",proto:!0,forced:!c||!u||d},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"13e9":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,n){var r=t.words[n];return 1===n.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},"14c3":function(e,t,i){var n=i("c6b6"),r=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var a=i.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"159b":function(e,t,i){var n=i("da84"),r=i("fdbc"),a=i("17c2"),s=i("9112");for(var o in r){var l=n[o],c=l&&l.prototype;if(c&&c.forEach!==a)try{s(c,"forEach",a)}catch(u){c.forEach=a}}},"167b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var i=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(i="a"),e+i},week:{dow:1,doy:4}});return t}))},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,r=i("a640"),a=i("ae40"),s=r("forEach"),o=a("forEach");e.exports=s&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1b45":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},"1cfd":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(t,r,a,s){var o=i(t),l=n[e][i(t)];return 2===o&&(l=l[r?0:1]),l.replace(/%d/i,t)}},a=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],s=e.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}});return s}))},"1fc1":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,n){var r={ss:i?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:i?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:i?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===n?i?"хвіліна":"хвіліну":"h"===n?i?"гадзіна":"гадзіну":e+" "+t(r[n],+e)}var n=e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:i,mm:i,h:i,hh:i,d:"дзень",dd:i,M:"месяц",MM:i,y:"год",yy:i},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}});return n}))},"201b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,i){return"ი"===i?t+"ში":t+i+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20===0||e%100===0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}});return t}))},"22f8":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,i){return e<12?"오전":"오후"}});return t}))},2421:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},n=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"],r=e.defineLocale("ku",{months:n,monthsShort:n,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,i){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return i[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}});return r}))},2554:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i){var n=e+" ";switch(i){case"ss":return n+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",n;case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",n;case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",n;case"dd":return n+=1===e?"dan":"dana",n;case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",n;case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",n}}var i=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},"25f0":function(e,t,i){"use strict";var n=i("6eeb"),r=i("825a"),a=i("d039"),s=i("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var e=r(this),t=String(e.source),i=e.flags,n=String(void 0===i&&e instanceof RegExp&&!("flags"in l)?s.call(e):i);return"/"+t+"/"+n}),{unsafe:!0})},"26f9":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function i(e,t,i,n){return t?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"}function n(e,t,i,n){return t?a(i)[0]:n?a(i)[1]:a(i)[2]}function r(e){return e%10===0||e>10&&e<20}function a(e){return t[e].split("_")}function s(e,t,i,s){var o=e+" ";return 1===e?o+n(e,t,i[0],s):t?o+(r(e)?a(i)[1]:a(i)[0]):s?o+a(i)[1]:o+(r(e)?a(i)[1]:a(i)[2])}var o=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:i,ss:s,m:n,mm:s,h:n,hh:s,d:n,dd:s,M:n,MM:s,y:n,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return o}))},2921:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,i){return e<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},"293c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,n){var r=t.words[n];return 1===n.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},2973:function(e,t,i){},"2bfb":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,i){return e<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t}))},"2e8c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}});return t}))},3886:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}});return t}))},"39a6":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},"39bd":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function n(e,t,i,n){var r="";if(t)switch(i){case"s":r="काही सेकंद";break;case"ss":r="%d सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे";break}else switch(i){case"s":r="काही सेकंदां";break;case"ss":r="%d सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां";break}return r.replace(/%d/i,e)}var r=e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,i){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}});return r}))},"3a39":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},n=e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,i){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});return n}))},"3a6c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t}))},"3b1b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"},i=e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){var i=e%10,n=e>=100?100:null;return e+(t[e]||t[i]||t[n])},week:{dow:1,doy:7}});return i}))},"3c0d":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),i="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),n=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],r=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function a(e){return e>1&&e<5&&1!==~~(e/10)}function s(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"pár sekund":"pár sekundami";case"ss":return t||n?r+(a(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":n?"minutu":"minutou";case"mm":return t||n?r+(a(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?r+(a(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||n?"den":"dnem";case"dd":return t||n?r+(a(e)?"dny":"dní"):r+"dny";case"M":return t||n?"měsíc":"měsícem";case"MM":return t||n?r+(a(e)?"měsíce":"měsíců"):r+"měsíci";case"y":return t||n?"rok":"rokem";case"yy":return t||n?r+(a(e)?"roky":"let"):r+"lety"}}var o=e.defineLocale("cs",{months:t,monthsShort:i,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},"3ca3":function(e,t,i){"use strict";var n=i("6547").charAt,r=i("69f3"),a=i("7dd0"),s="String Iterator",o=r.set,l=r.getterFor(s);a(String,"String",(function(e){o(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),i=t.string,r=t.index;return r>=i.length?{value:void 0,done:!0}:(e=n(i,r),t.index+=e.length,{value:e,done:!1})}))},"3de5":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},i={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"},n=e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,i){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return n}))},"3e92":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},i={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"},n=e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}});return n}))},4160:function(e,t,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"423e":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});return t}))},"440c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[i][0]:r[i][1]}function i(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"a "+e:"an "+e}function n(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"viru "+e:"virun "+e}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,i=e/10;return r(0===t?i:t)}if(e<1e4){while(e>=10)e/=10;return r(e)}return e/=1e3,r(e)}var a=e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:i,past:n,s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="4678"},"485c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"},i=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,i){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var i=e%10,n=e%100-i,r=e>=100?100:null;return e+(t[i]||t[n]||t[r])},week:{dow:1,doy:7}});return i}))},"49ab":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1200?"上午":1200===n?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t}))},"4ba9":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i){var n=e+" ";switch(i){case"ss":return n+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",n;case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",n;case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",n;case"dd":return n+=1===e?"dan":"dana",n;case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",n;case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",n}}var i=e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},"4df4":function(e,t,i){"use strict";var n=i("0366"),r=i("7b0b"),a=i("9bdd"),s=i("e95a"),o=i("50c4"),l=i("8418"),c=i("35a1");e.exports=function(e){var t,i,u,d,h,p,m=r(e),f="function"==typeof this?this:Array,_=arguments.length,y=_>1?arguments[1]:void 0,g=void 0!==y,v=c(m),x=0;if(g&&(y=n(y,_>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(t=o(m.length),i=new f(t);t>x;x++)p=g?y(m[x],x):m[x],l(i,x,p);else for(d=v.call(m),h=d.next,i=new f;!(u=h.call(d)).done;x++)p=g?a(d,y,[u.value,x],!0):u.value,l(i,x,p);return i.length=x,i}},5038:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});return t}))},5120:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],i=["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],n=["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],r=["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],a=["Do","Lu","Má","Cé","Dé","A","Sa"],s=e.defineLocale("ga",{months:t,monthsShort:i,monthsParseExact:!0,weekdays:n,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},5294:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],i=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"],n=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,i){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}});return n}))},"52bd":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,i){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},5319:function(e,t,i){"use strict";var n=i("d784"),r=i("825a"),a=i("7b0b"),s=i("50c4"),o=i("a691"),l=i("1d80"),c=i("8aa5"),u=i("14c3"),d=Math.max,h=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,_=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,i,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,v=y?"$":"$0";return[function(i,n){var r=l(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,r,n):t.call(String(r),i,n)},function(e,n){if(!y&&g||"string"===typeof n&&-1===n.indexOf(v)){var a=i(t,e,this,n);if(a.done)return a.value}var l=r(e),p=String(this),m="function"===typeof n;m||(n=String(n));var f=l.global;if(f){var b=l.unicode;l.lastIndex=0}var w=[];while(1){var M=u(l,p);if(null===M)break;if(w.push(M),!f)break;var T=String(M[0]);""===T&&(l.lastIndex=c(p,s(l.lastIndex),b))}for(var L="",k=0,S=0;S<w.length;S++){M=w[S];for(var D=String(M[0]),E=d(h(o(M.index),p.length),0),C=[],P=1;P<M.length;P++)C.push(_(M[P]));var Y=M.groups;if(m){var A=[D].concat(C,E,p);void 0!==Y&&A.push(Y);var I=String(n.apply(void 0,A))}else I=x(D,p,E,C,Y,n);E>=k&&(L+=p.slice(k,E)+I,k=E+D.length)}return L+p.slice(k)}];function x(e,i,n,r,s,o){var l=n+e.length,c=r.length,u=f;return void 0!==s&&(s=a(s),u=m),t.call(o,u,(function(t,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return i.slice(0,n);case"'":return i.slice(l);case"<":o=s[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>c){var d=p(u/10);return 0===d?t:d<=c?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):t}o=r[u-1]}return void 0===o?"":o}))}}))},"55c9":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}});return a}))},"576c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},5852:function(e,t,i){"use strict";i("dc4a")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),r=i("5899"),a="["+r+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),l=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(s,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:l(1),end:l(2),trim:l(3)}},"598a":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],i=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"],n=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,i){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}});return n}))},"5aff":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"},i=e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,i){switch(i){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var n=e%10,r=e%100-n,a=e>=100?100:null;return e+(t[n]||t[r]||t[a])}},week:{dow:1,doy:7}});return i}))},"5b14":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function i(e,t,i,n){var r=e;switch(i){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"ss":return r+(n||t)?" másodperc":" másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return r+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return r+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return r+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return r+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return r+(n||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}var r=e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,i){return e<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},"5c3a":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}});return t}))},"5cbb":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}});return t}))},"5fbd":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?":e":1===t||2===t?":a":":e";return e+i},week:{dow:1,doy:4}});return t}))},6117:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return n<600?"يېرىم كېچە":n<900?"سەھەر":n<1130?"چۈشتىن بۇرۇن":n<1230?"چۈش":n<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}});return t}))},6403:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},6547:function(e,t,i){var n=i("a691"),r=i("1d80"),a=function(e){return function(t,i){var a,s,o=String(r(t)),l=n(i),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l),a<55296||a>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):a:e?o.slice(l,l+2):s-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},"65db":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,i){return e>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t}))},6784:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],i=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"],n=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,i){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}});return n}))},6887:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+r(n[i],e)}function i(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function n(e){return e>9?n(e%10):e}function r(e,t){return 2===t?a(e):e}function a(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var s=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],o=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,c=/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],d=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],h=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i],p=e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:h,fullWeekdaysParse:u,shortWeekdaysParse:d,minWeekdaysParse:h,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:l,monthsShortStrictRegex:c,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:i},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,i){return e<12?"a.m.":"g.m."}});return p}))},"688b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},6909:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-ев":0===i?e+"-ен":i>10&&i<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}});return t}))},"6b39":function(e,t,i){},"6b49":function(e,t,i){"use strict";i("2973")},"6b75":function(e,t,i){},"6ce3":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},"6d79":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"},i=e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var i=e%10,n=e>=100?100:null;return e+(t[e]||t[i]||t[n])},week:{dow:1,doy:7}});return i}))},"6d83":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});return t}))},"6e98":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},"6f12":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},"6f3c":function(e,t,i){},"6f50":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},7118:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),n=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return n}))},7156:function(e,t,i){var n=i("861d"),r=i("d2bb");e.exports=function(e,t,i){var a,s;return r&&"function"==typeof(a=t.constructor)&&a!==i&&n(s=a.prototype)&&s!==i.prototype&&r(e,s),e}},7333:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}});return t}))},"746f":function(e,t,i){var n=i("428f"),r=i("5135"),a=i("e538"),s=i("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||s(t,e,{value:a.f(e)})}},"74dc":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t}))},"7be6":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),i="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function n(e){return e>1&&e<5}function r(e,t,i,r){var a=e+" ";switch(i){case"s":return t||r?"pár sekúnd":"pár sekundami";case"ss":return t||r?a+(n(e)?"sekundy":"sekúnd"):a+"sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?a+(n(e)?"minúty":"minút"):a+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?a+(n(e)?"hodiny":"hodín"):a+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?a+(n(e)?"dni":"dní"):a+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?a+(n(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?a+(n(e)?"roky":"rokov"):a+"rokmi"}}var a=e.defineLocale("sk",{months:t,monthsShort:i,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},"7f33":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}});return t}))},8155:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||n?"sekundi":"sekundah":e<5?t||n?"sekunde":"sekundah":"sekund",r;case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||n?"minuti":"minutama":e<5?t||n?"minute":"minutami":t||n?"minut":"minutami",r;case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||n?"uri":"urama":e<5?t||n?"ure":"urami":t||n?"ur":"urami",r;case"d":return t||n?"en dan":"enim dnem";case"dd":return r+=1===e?t||n?"dan":"dnem":2===e?t||n?"dni":"dnevoma":t||n?"dni":"dnevi",r;case"M":return t||n?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||n?"mesec":"mesecem":2===e?t||n?"meseca":"mesecema":e<5?t||n?"mesece":"meseci":t||n?"mesecev":"meseci",r;case"y":return t||n?"eno leto":"enim letom";case"yy":return r+=1===e?t||n?"leto":"letom":2===e?t||n?"leti":"letoma":e<5?t||n?"leta":"leti":t||n?"let":"leti",r}}var i=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},8179:function(e,t,i){},"81e9":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),i=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function n(e,t,i,n){var a="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":a=n?"sekunnin":"sekuntia";break;case"m":return n?"minuutin":"minuutti";case"mm":a=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":a=n?"tunnin":"tuntia";break;case"d":return n?"päivän":"päivä";case"dd":a=n?"päivän":"päivää";break;case"M":return n?"kuukauden":"kuukausi";case"MM":a=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":a=n?"vuoden":"vuotta";break}return a=r(e,n)+" "+a,a}function r(e,n){return e<10?n?i[e]:t[e]:e}var a=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},8230:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},n=e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return i[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}});return n}))},8418:function(e,t,i){"use strict";var n=i("c04e"),r=i("9bf2"),a=i("5c6c");e.exports=function(e,t,i){var s=n(t);s in e?r.f(e,s,a(0,i)):e[s]=i}},"84aa":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-ев":0===i?e+"-ен":i>10&&i<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}});return t}))},8689:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},i={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"},n=e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return n}))},8840:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},"898b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"});return a}))},"8aa5":function(e,t,i){"use strict";var n=i("6547").charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},"8d47":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}var i=e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"===typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,i){return e>11?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,i){var n=this._calendarEl[e],r=i&&i.hours();return t(n)&&(n=n.apply(i)),n.replace("{}",r%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}});return i}))},"8d57":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),n=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function a(e,t,i){var n=e+" ";switch(i){case"ss":return n+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return n+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return n+(r(e)?"godziny":"godzin");case"ww":return n+(r(e)?"tygodnie":"tygodni");case"MM":return n+(r(e)?"miesiące":"miesięcy");case"yy":return n+(r(e)?"lata":"lat")}}var s=e.defineLocale("pl",{months:function(e,n){return e?/D MMMM/.test(n)?i[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:a,M:"miesiąc",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},"8df48":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},i={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},n=e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,i){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return i[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});return n}))},"8e73":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},i={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},a=function(e){return function(t,i,a,s){var o=n(t),l=r[e][n(t)];return 2===o&&(l=l[i?0:1]),l.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],o=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return i[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}});return o}))},9043:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},i={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"},n=e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,i){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}});return n}))},"90ea":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t}))},9263:function(e,t,i){"use strict";var n=i("ad6d"),r=i("9f7f"),a=RegExp.prototype.exec,s=String.prototype.replace,o=a,l=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(o=function(e){var t,i,r,o,d=this,h=c&&d.sticky,p=n.call(d),m=d.source,f=0,_=e;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),_=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(m="(?: "+m+")",_=" "+_,f++),i=new RegExp("^(?:"+m+")",p)),u&&(i=new RegExp("^"+m+"$(?!\\s)",p)),l&&(t=d.lastIndex),r=a.call(h?i:d,_),h?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:l&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=o},"957c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,n){var r={ss:i?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:i?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?i?"минута":"минуту":e+" "+t(r[n],+e)}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],r=e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:i,m:i,mm:i,h:"час",hh:i,d:"день",dd:i,w:"неделя",ww:i,M:"месяц",MM:i,y:"год",yy:i},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}});return r}))},"958b":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){switch(i){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}var i=e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,i){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}});return i}))},9609:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"},i=e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var i=e%10,n=e>=100?100:null;return e+(t[e]||t[i]||t[n])},week:{dow:1,doy:7}});return i}))},9686:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},i={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"},n=e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}});return n}))},"96cf":function(e,t,i){var n=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(Y){l=function(e,t,i){return e[t]=i}}function c(e,t,i,n){var r=t&&t.prototype instanceof _?t:_,a=Object.create(r.prototype),s=new E(n||[]);return a._invoke=L(e,i,s),a}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(Y){return{type:"throw",arg:Y}}}e.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",f={};function _(){}function y(){}function g(){}var v={};v[a]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(C([])));b&&b!==i&&n.call(b,a)&&(v=b);var w=g.prototype=_.prototype=Object.create(v);function M(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function i(r,a,s,o){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,o)}),(function(e){i("throw",e,s,o)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,o)}))}o(l.arg)}var r;function a(e,n){function a(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function L(e,t,i){var n=d;return function(r,a){if(n===p)throw new Error("Generator is already running");if(n===m){if("throw"===r)throw a;return P()}i.method=r,i.arg=a;while(1){var s=i.delegate;if(s){var o=k(s,i);if(o){if(o===f)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var l=u(e,t,i);if("normal"===l.type){if(n=i.done?m:h,l.arg===f)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=m,i.method="throw",i.arg=l.arg)}}}function k(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator["return"]&&(i.method="return",i.arg=t,k(e,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(n,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,f;var a=r.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,f):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var i=e[a];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function i(){while(++r<e.length)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=w.constructor=g,g.constructor=y,y.displayName=l(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,o,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},M(T.prototype),T.prototype[s]=function(){return this},e.AsyncIterator=T,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var s=new T(c(t,i,n,r),a);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},M(w),l(w,o,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return o.type="throw",o.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),D(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;D(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:C(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},"972c":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i){var n={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100===0)&&(r=" de "),e+r+n[i]}var i=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return i}))},9797:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?i=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(i=n[t]),e+i},week:{dow:1,doy:4}});return t}))},"99af":function(e,t,i){"use strict";var n=i("23e7"),r=i("d039"),a=i("e8b5"),s=i("861d"),o=i("7b0b"),l=i("50c4"),c=i("8418"),u=i("65f0"),d=i("1dde"),h=i("b622"),p=i("2d00"),m=h("isConcatSpreadable"),f=9007199254740991,_="Maximum allowed index exceeded",y=p>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d("concat"),v=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)},x=!y||!g;n({target:"Array",proto:!0,forced:x},{concat:function(e){var t,i,n,r,a,s=o(this),d=u(s,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?s:arguments[t],v(a)){if(r=l(a.length),h+r>f)throw TypeError(_);for(i=0;i<r;i++,h++)i in a&&c(d,h,a[i])}else{if(h>=f)throw TypeError(_);c(d,h++,a)}return d.length=h,d}})},"9bdd":function(e,t,i){var n=i("825a"),r=i("2a62");e.exports=function(e,t,i,a){try{return a?t(n(i)[0],i[1]):t(i)}catch(s){throw r(e),s}}},"9f26":function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,i=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,n=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,r=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i],a=e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:t,monthsShortStrictRegex:i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return a}))},"9f7f":function(e,t,i){"use strict";var n=i("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a356:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},n=function(e){return function(n,r,a,s){var o=t(n),l=i[e][t(n)];return 2===o&&(l=l[r?0:1]),l.replace(/%d/i,n)}},r=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],a=e.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}});return a}))},a483:function(e,t,i){"use strict";i("8179")},a4d3:function(e,t,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d066"),s=i("c430"),o=i("83ab"),l=i("4930"),c=i("fdbf"),u=i("d039"),d=i("5135"),h=i("e8b5"),p=i("861d"),m=i("825a"),f=i("7b0b"),_=i("fc6a"),y=i("c04e"),g=i("5c6c"),v=i("7c73"),x=i("df75"),b=i("241c"),w=i("057f"),M=i("7418"),T=i("06cf"),L=i("9bf2"),k=i("d1e7"),S=i("9112"),D=i("6eeb"),E=i("5692"),C=i("f772"),P=i("d012"),Y=i("90e3"),A=i("b622"),I=i("e538"),z=i("746f"),O=i("d44e"),R=i("69f3"),F=i("b727").forEach,B=C("hidden"),j="Symbol",H="prototype",N=A("toPrimitive"),U=R.set,V=R.getterFor(j),W=Object[H],$=r.Symbol,G=a("JSON","stringify"),q=T.f,Z=L.f,X=w.f,J=k.f,K=E("symbols"),Q=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ie=E("wks"),ne=r.QObject,re=!ne||!ne[H]||!ne[H].findChild,ae=o&&u((function(){return 7!=v(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=q(W,t);n&&delete W[t],Z(e,t,i),n&&e!==W&&Z(W,t,n)}:Z,se=function(e,t){var i=K[e]=v($[H]);return U(i,{type:j,tag:e,description:t}),o||(i.description=t),i},oe=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},le=function(e,t,i){e===W&&le(Q,t,i),m(e);var n=y(t,!0);return m(i),d(K,n)?(i.enumerable?(d(e,B)&&e[B][n]&&(e[B][n]=!1),i=v(i,{enumerable:g(0,!1)})):(d(e,B)||Z(e,B,g(1,{})),e[B][n]=!0),ae(e,n,i)):Z(e,n,i)},ce=function(e,t){m(e);var i=_(t),n=x(i).concat(me(i));return F(n,(function(t){o&&!de.call(i,t)||le(e,t,i[t])})),e},ue=function(e,t){return void 0===t?v(e):ce(v(e),t)},de=function(e){var t=y(e,!0),i=J.call(this,t);return!(this===W&&d(K,t)&&!d(Q,t))&&(!(i||!d(this,t)||!d(K,t)||d(this,B)&&this[B][t])||i)},he=function(e,t){var i=_(e),n=y(t,!0);if(i!==W||!d(K,n)||d(Q,n)){var r=q(i,n);return!r||!d(K,n)||d(i,B)&&i[B][n]||(r.enumerable=!0),r}},pe=function(e){var t=X(_(e)),i=[];return F(t,(function(e){d(K,e)||d(P,e)||i.push(e)})),i},me=function(e){var t=e===W,i=X(t?Q:_(e)),n=[];return F(i,(function(e){!d(K,e)||t&&!d(W,e)||n.push(K[e])})),n};if(l||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Y(e),i=function(e){this===W&&i.call(Q,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ae(this,t,g(1,e))};return o&&re&&ae(W,t,{configurable:!0,set:i}),se(t,e)},D($[H],"toString",(function(){return V(this).tag})),D($,"withoutSetter",(function(e){return se(Y(e),e)})),k.f=de,L.f=le,T.f=he,b.f=w.f=pe,M.f=me,I.f=function(e){return se(A(e),e)},o&&(Z($[H],"description",{configurable:!0,get:function(){return V(this).description}}),s||D(W,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),F(x(ie),(function(e){z(e)})),n({target:j,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var i=$(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!o},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:he}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),n({target:"Object",stat:!0,forced:u((function(){M.f(1)}))},{getOwnPropertySymbols:function(e){return M.f(f(e))}}),G){var fe=!l||u((function(){var e=$();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));n({target:"JSON",stat:!0,forced:fe},{stringify:function(e,t,i){var n,r=[e],a=1;while(arguments.length>a)r.push(arguments[a++]);if(n=t,(p(t)||void 0!==e)&&!oe(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),r[1]=t,G.apply(null,r)}})}$[H][N]||S($[H],N,$[H].valueOf),O($,j),P[B]=!0},a630:function(e,t,i){var n=i("23e7"),r=i("4df4"),a=i("1c7e"),s=!a((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:r})},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},a7fa:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return t}))},a9e3:function(e,t,i){"use strict";var n=i("83ab"),r=i("da84"),a=i("94ca"),s=i("6eeb"),o=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),d=i("d039"),h=i("7c73"),p=i("241c").f,m=i("06cf").f,f=i("9bf2").f,_=i("58a8").trim,y="Number",g=r[y],v=g.prototype,x=l(h(v))==y,b=function(e){var t,i,n,r,a,s,o,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=_(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(a=c.slice(2),s=a.length,o=0;o<s;o++)if(l=a.charCodeAt(o),l<48||l>r)return NaN;return parseInt(a,n)}return+c};if(a(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,M=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof M&&(x?d((function(){v.valueOf.call(i)})):l(i)!=y)?c(new g(b(t)),i,M):b(t)},T=n?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;T.length>L;L++)o(g,w=T[L])&&!o(M,w)&&f(M,w,m(g,w));M.prototype=v,v.constructor=M,s(r,y,M)}},aaf2:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return n?r[i][0]:r[i][1]}var i=e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){switch(t){case"D":return e+"वेर";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}});return i}))},ac1f:function(e,t,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,i){"use strict";var n=i("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ada2:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,n){var r={ss:i?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:i?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:i?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===n?i?"хвилина":"хвилину":"h"===n?i?"година":"годину":e+" "+t(r[n],+e)}function n(e,t){var i,n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n["nominative"].slice(1,7).concat(n["nominative"].slice(0,1)):e?(i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative",n[i][e.day()]):n["nominative"]}function r(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}var a=e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:n,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:r("[Сьогодні "),nextDay:r("[Завтра "),lastDay:r("[Вчора "),nextWeek:r("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[Минулої] dddd [").call(this);case 1:case 2:case 4:return r("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:i,m:i,mm:i,h:"годину",hh:i,d:"день",dd:i,M:"місяць",MM:i,y:"рік",yy:i},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});return a}))},b0c0:function(e,t,i){var n=i("83ab"),r=i("9bf2").f,a=Function.prototype,s=a.toString,o=/^\s*function ([^ (]*)/,l="name";n&&!(l in a)&&r(a,l,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},b29d:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,i){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});return t}))},b3eb:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},b469:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},b53d:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t}))},b540:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t}))},b5b7:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"});return a}))},b7e9:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},b84c:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},b97c:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function i(e,t,i){return i?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function n(e,n,r){return e+" "+i(t[r],e,n)}function r(e,n,r){return i(t[r],e,n)}function a(e,t){return t?"dažas sekundes":"dažām sekundēm"}var s=e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:a,ss:n,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},bb71:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},bbe3:function(e,t,i){},bf3c:function(e,t,i){"use strict";i("ea9e")},c109:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}});return t}))},c1df:function(e,t,i){(function(e){var t;//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(t,i){e.exports=i()})(0,(function(){"use strict";var n,r;function a(){return n.apply(null,arguments)}function s(e){n=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(c(e,t))return!1;return!0}function d(e){return void 0===e}function h(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function p(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function m(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function f(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,i,n){return qi(e,t,i,n,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=y()),e._pf}function v(e){if(null==e._isValid){var t=g(e),i=r.call(t.parsedDateParts,(function(e){return null!=e})),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function x(e){var t=_(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var b=a.momentProperties=[],w=!1;function M(e,t){var i,n,r;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=g(t)),d(t._locale)||(e._locale=t._locale),b.length>0)for(i=0;i<b.length;i++)n=b[i],r=t[n],d(r)||(e[n]=r);return e}function T(e){M(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,a.updateOffset(this),w=!1)}function L(e){return e instanceof T||null!=e&&null!=e._isAMomentObject}function k(e){!1===a.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return f((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),i){var n,r,s,o=[];for(r=0;r<arguments.length;r++){if(n="","object"===typeof arguments[r]){for(s in n+="\n["+r+"] ",arguments[0])c(arguments[0],s)&&(n+=s+": "+arguments[0][s]+", ");n=n.slice(0,-2)}else n=arguments[r];o.push(n)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var D,E={};function C(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),E[e]||(k(t),E[e]=!0)}function P(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Y(e){var t,i;for(i in e)c(e,i)&&(t=e[i],P(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var i,n=f({},e);for(i in t)c(t,i)&&(l(e[i])&&l(t[i])?(n[i]={},f(n[i],e[i]),f(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)c(e,i)&&!c(t,i)&&l(e[i])&&(n[i]=f({},n[i]));return n}function I(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i};var z={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,i){var n=this._calendar[e]||this._calendar["sameElse"];return P(n)?n.call(t,i):n}function R(e,t,i){var n=""+Math.abs(e),r=t-n.length,a=e>=0;return(a?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},H={};function N(e,t,i,n){var r=n;"string"===typeof n&&(r=function(){return this[n]()}),e&&(H[e]=r),t&&(H[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),i&&(H[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,i,n=e.match(F);for(t=0,i=n.length;t<i;t++)H[n[t]]?n[t]=H[n[t]]:n[t]=U(n[t]);return function(t){var r,a="";for(r=0;r<i;r++)a+=P(n[r])?n[r].call(t,e):n[r];return a}}function W(e,t){return e.isValid()?(t=$(t,e.localeData()),j[t]=j[t]||V(t),j[t](e)):e.localeData().invalidDate()}function $(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}B.lastIndex=0;while(i>=0&&B.test(e))e=e.replace(B,n),B.lastIndex=0,i-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(F).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Z="Invalid date";function X(){return this._invalidDate}var J="%d",K=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var ee={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function te(e,t,i,n){var r=this._relativeTime[i];return P(r)?r(e,t,i,n):r.replace(/%d/i,e)}function ie(e,t){var i=this._relativeTime[e>0?"future":"past"];return P(i)?i(t):i.replace(/%s/i,t)}var ne={};function re(e,t){var i=e.toLowerCase();ne[i]=ne[i+"s"]=ne[t]=e}function ae(e){return"string"===typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function se(e){var t,i,n={};for(i in e)c(e,i)&&(t=ae(i),t&&(n[t]=e[i]));return n}var oe={};function le(e,t){oe[e]=t}function ce(e){var t,i=[];for(t in e)c(e,t)&&i.push({unit:t,priority:oe[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}function ue(e){return e%4===0&&e%100!==0||e%400===0}function de(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function he(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=de(t)),i}function pe(e,t){return function(i){return null!=i?(fe(this,e,i),a.updateOffset(this,t),this):me(this,e)}}function me(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(i=he(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),tt(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function _e(e){return e=ae(e),P(this[e])?this[e]():this}function ye(e,t){if("object"===typeof e){e=se(e);var i,n=ce(e);for(i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=ae(e),P(this[e]))return this[e](t);return this}var ge,ve=/\d/,xe=/\d\d/,be=/\d{3}/,we=/\d{4}/,Me=/[+-]?\d{6}/,Te=/\d\d?/,Le=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,De=/\d{1,4}/,Ee=/[+-]?\d{1,6}/,Ce=/\d+/,Pe=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Ie=/[+-]?\d+(\.\d{1,3})?/,ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Oe(e,t,i){ge[e]=P(t)?t:function(e,n){return e&&i?i:t}}function Re(e,t){return c(ge,e)?ge[e](t._strict,t._locale):new RegExp(Fe(e))}function Fe(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,r){return t||i||n||r})))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var je={};function He(e,t){var i,n=t;for("string"===typeof e&&(e=[e]),h(t)&&(n=function(e,i){i[t]=he(e)}),i=0;i<e.length;i++)je[e[i]]=n}function Ne(e,t){He(e,(function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)}))}function Ue(e,t,i){null!=t&&c(je,e)&&je[e](t,i._a,i,e)}var Ve,We=0,$e=1,Ge=2,qe=3,Ze=4,Xe=5,Je=6,Ke=7,Qe=8;function et(e,t){return(e%t+t)%t}function tt(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=et(t,12);return e+=(t-i)/12,1===i?ue(e)?29:28:31-i%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),re("month","M"),le("month",8),Oe("M",Te),Oe("MM",Te,xe),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),He(["M","MM"],(function(e,t){t[$e]=he(e)-1})),He(["MMM","MMMM"],(function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[$e]=r:g(i).invalidMonth=e}));var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=ze,st=ze;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months["standalone"]}function lt(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function ct(e,t,i){var n,r,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=_([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===t?(r=Ve.call(this._shortMonthsParse,s),-1!==r?r:null):(r=Ve.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===t?(r=Ve.call(this._shortMonthsParse,s),-1!==r?r:(r=Ve.call(this._longMonthsParse,s),-1!==r?r:null)):(r=Ve.call(this._longMonthsParse,s),-1!==r?r:(r=Ve.call(this._shortMonthsParse,s),-1!==r?r:null))}function ut(e,t,i){var n,r,a;if(this._monthsParseExact)return ct.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=_([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function dt(e,t){var i;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=he(t);else if(t=e.localeData().monthsParse(t),!h(t))return e;return i=Math.min(e.date(),tt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ht(e){return null!=e?(dt(this,e),a.updateOffset(this,!0),this):me(this,"Month")}function pt(){return tt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(c(this,"_monthsRegex")||_t.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(c(this,"_monthsRegex")||_t.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=st),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _t(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],a=[];for(t=0;t<12;t++)i=_([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)n[t]=Be(n[t]),r[t]=Be(r[t]);for(t=0;t<24;t++)a[t]=Be(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function yt(e){return ue(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),re("year","y"),le("year",1),Oe("Y",Pe),Oe("YY",Te,xe),Oe("YYYY",De,we),Oe("YYYYY",Ee,Me),Oe("YYYYYY",Ee,Me),He(["YYYYY","YYYYYY"],We),He("YYYY",(function(e,t){t[We]=2===e.length?a.parseTwoDigitYear(e):he(e)})),He("YY",(function(e,t){t[We]=a.parseTwoDigitYear(e)})),He("Y",(function(e,t){t[We]=parseInt(e,10)})),a.parseTwoDigitYear=function(e){return he(e)+(he(e)>68?1900:2e3)};var gt=pe("FullYear",!0);function vt(){return ue(this.year())}function xt(e,t,i,n,r,a,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,i,n,r,a,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,i,n,r,a,s),o}function bt(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,i){var n=7+t-i,r=(7+bt(e,0,n).getUTCDay()-t)%7;return-r+n-1}function Mt(e,t,i,n,r){var a,s,o=(7+i-n)%7,l=wt(e,n,r),c=1+7*(t-1)+o+l;return c<=0?(a=e-1,s=yt(a)+c):c>yt(e)?(a=e+1,s=c-yt(e)):(a=e,s=c),{year:a,dayOfYear:s}}function Tt(e,t,i){var n,r,a=wt(e.year(),t,i),s=Math.floor((e.dayOfYear()-a-1)/7)+1;return s<1?(r=e.year()-1,n=s+Lt(r,t,i)):s>Lt(e.year(),t,i)?(n=s-Lt(e.year(),t,i),r=e.year()+1):(r=e.year(),n=s),{week:n,year:r}}function Lt(e,t,i){var n=wt(e,t,i),r=wt(e+1,t,i);return(yt(e)-n+r)/7}function kt(e){return Tt(e,this._week.dow,this._week.doy).week}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),re("week","w"),re("isoWeek","W"),le("week",5),le("isoWeek",5),Oe("w",Te),Oe("ww",Te,xe),Oe("W",Te),Oe("WW",Te,xe),Ne(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=he(e)}));var St={dow:0,doy:6};function Dt(){return this._week.dow}function Et(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=Tt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Yt(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function It(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),re("day","d"),re("weekday","e"),re("isoWeekday","E"),le("day",11),le("weekday",11),le("isoWeekday",11),Oe("d",Te),Oe("e",Te),Oe("E",Te),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ne(["dd","ddd","dddd"],(function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:g(i).invalidWeekday=e})),Ne(["d","e","E"],(function(e,t,i,n){t[n]=he(e)}));var zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=ze,Bt=ze,jt=ze;function Ht(e,t){var i=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?It(i,this._week.dow):e?i[e.day()]:i}function Nt(e){return!0===e?It(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?It(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,i){var n,r,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=_([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===t?(r=Ve.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===t?(r=Ve.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=Ve.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===t?(r=Ve.call(this._weekdaysParse,s),-1!==r?r:(r=Ve.call(this._shortWeekdaysParse,s),-1!==r?r:(r=Ve.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===t?(r=Ve.call(this._shortWeekdaysParse,s),-1!==r?r:(r=Ve.call(this._weekdaysParse,s),-1!==r?r:(r=Ve.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=Ve.call(this._minWeekdaysParse,s),-1!==r?r:(r=Ve.call(this._weekdaysParse,s),-1!==r?r:(r=Ve.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function Wt(e,t,i){var n,r,a;if(this._weekdaysParseExact)return Vt.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=_([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function $t(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Yt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Zt(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Jt(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,i,n,r,a,s=[],o=[],l=[],c=[];for(t=0;t<7;t++)i=_([2e3,1]).day(t),n=Be(this.weekdaysMin(i,"")),r=Be(this.weekdaysShort(i,"")),a=Be(this.weekdays(i,"")),s.push(n),o.push(r),l.push(a),c.push(n),c.push(r),c.push(a);s.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qt(){return this.hours()%12||12}function ei(){return this.hours()||24}function ti(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ii(e,t){return t._meridiemParse}function ni(e){return"p"===(e+"").toLowerCase().charAt(0)}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Qt),N("k",["kk",2],0,ei),N("hmm",0,0,(function(){return""+Qt.apply(this)+R(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+Qt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),ti("a",!0),ti("A",!1),re("hour","h"),le("hour",13),Oe("a",ii),Oe("A",ii),Oe("H",Te),Oe("h",Te),Oe("k",Te),Oe("HH",Te,xe),Oe("hh",Te,xe),Oe("kk",Te,xe),Oe("hmm",Le),Oe("hmmss",ke),Oe("Hmm",Le),Oe("Hmmss",ke),He(["H","HH"],qe),He(["k","kk"],(function(e,t,i){var n=he(e);t[qe]=24===n?0:n})),He(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),He(["h","hh"],(function(e,t,i){t[qe]=he(e),g(i).bigHour=!0})),He("hmm",(function(e,t,i){var n=e.length-2;t[qe]=he(e.substr(0,n)),t[Ze]=he(e.substr(n)),g(i).bigHour=!0})),He("hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[qe]=he(e.substr(0,n)),t[Ze]=he(e.substr(n,2)),t[Xe]=he(e.substr(r)),g(i).bigHour=!0})),He("Hmm",(function(e,t,i){var n=e.length-2;t[qe]=he(e.substr(0,n)),t[Ze]=he(e.substr(n))})),He("Hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[qe]=he(e.substr(0,n)),t[Ze]=he(e.substr(n,2)),t[Xe]=he(e.substr(r))}));var ri=/[ap]\.?m?\.?/i,ai=pe("Hours",!0);function si(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var oi,li={calendar:z,longDateFormat:G,invalidDate:Z,ordinal:J,dayOfMonthOrdinalParse:K,relativeTime:ee,months:it,monthsShort:nt,week:St,weekdays:zt,weekdaysMin:Rt,weekdaysShort:Ot,meridiemParse:ri},ci={},ui={};function di(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function hi(e){return e?e.toLowerCase().replace("_","-"):e}function pi(e){var t,i,n,r,a=0;while(a<e.length){r=hi(e[a]).split("-"),t=r.length,i=hi(e[a+1]),i=i?i.split("-"):null;while(t>0){if(n=mi(r.slice(0,t).join("-")),n)return n;if(i&&i.length>=t&&di(r,i)>=t-1)break;t--}a++}return oi}function mi(n){var r=null;if(void 0===ci[n]&&"undefined"!==typeof e&&e&&e.exports)try{r=oi._abbr,t,i("4678")("./"+n),fi(r)}catch(a){ci[n]=null}return ci[n]}function fi(e,t){var i;return e&&(i=d(t)?gi(e):_i(e,t),i?oi=i:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),oi._abbr}function _i(e,t){if(null!==t){var i,n=li;if(t.abbr=e,null!=ci[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ci[e]._config;else if(null!=t.parentLocale)if(null!=ci[t.parentLocale])n=ci[t.parentLocale]._config;else{if(i=mi(t.parentLocale),null==i)return ui[t.parentLocale]||(ui[t.parentLocale]=[]),ui[t.parentLocale].push({name:e,config:t}),null;n=i._config}return ci[e]=new I(A(n,t)),ui[e]&&ui[e].forEach((function(e){_i(e.name,e.config)})),fi(e),ci[e]}return delete ci[e],null}function yi(e,t){if(null!=t){var i,n,r=li;null!=ci[e]&&null!=ci[e].parentLocale?ci[e].set(A(ci[e]._config,t)):(n=mi(e),null!=n&&(r=n._config),t=A(r,t),null==n&&(t.abbr=e),i=new I(t),i.parentLocale=ci[e],ci[e]=i),fi(e)}else null!=ci[e]&&(null!=ci[e].parentLocale?(ci[e]=ci[e].parentLocale,e===fi()&&fi(e)):null!=ci[e]&&delete ci[e]);return ci[e]}function gi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return oi;if(!o(e)){if(t=mi(e),t)return t;e=[e]}return pi(e)}function vi(){return D(ci)}function xi(e){var t,i=e._a;return i&&-2===g(e).overflow&&(t=i[$e]<0||i[$e]>11?$e:i[Ge]<1||i[Ge]>tt(i[We],i[$e])?Ge:i[qe]<0||i[qe]>24||24===i[qe]&&(0!==i[Ze]||0!==i[Xe]||0!==i[Je])?qe:i[Ze]<0||i[Ze]>59?Ze:i[Xe]<0||i[Xe]>59?Xe:i[Je]<0||i[Je]>999?Je:-1,g(e)._overflowDayOfYear&&(t<We||t>Ge)&&(t=Ge),g(e)._overflowWeeks&&-1===t&&(t=Ke),g(e)._overflowWeekday&&-1===t&&(t=Qe),g(e).overflow=t),e}var bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mi=/Z|[+-]\d\d(?::?\d\d)?/,Ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Li=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ki=/^\/?Date\((-?\d+)/i,Si=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Di={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ei(e){var t,i,n,r,a,s,o=e._i,l=bi.exec(o)||wi.exec(o);if(l){for(g(e).iso=!0,t=0,i=Ti.length;t<i;t++)if(Ti[t][1].exec(l[1])){r=Ti[t][0],n=!1!==Ti[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=Li.length;t<i;t++)if(Li[t][1].exec(l[3])){a=(l[2]||" ")+Li[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Mi.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(a||"")+(s||""),Hi(e)}else e._isValid=!1}function Ci(e,t,i,n,r,a){var s=[Pi(e),nt.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return a&&s.push(parseInt(a,10)),s}function Pi(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Yi(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ai(e,t,i){if(e){var n=Ot.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(n!==r)return g(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Ii(e,t,i){if(e)return Di[e];if(t)return 0;var n=parseInt(i,10),r=n%100,a=(n-r)/100;return 60*a+r}function zi(e){var t,i=Si.exec(Yi(e._i));if(i){if(t=Ci(i[4],i[3],i[2],i[5],i[6],i[7]),!Ai(i[1],t,e))return;e._a=t,e._tzm=Ii(i[8],i[9],i[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Oi(e){var t=ki.exec(e._i);null===t?(Ei(e),!1===e._isValid&&(delete e._isValid,zi(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:a.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ri(e,t,i){return null!=e?e:null!=t?t:i}function Fi(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bi(e){var t,i,n,r,a,s=[];if(!e._d){for(n=Fi(e),e._w&&null==e._a[Ge]&&null==e._a[$e]&&ji(e),null!=e._dayOfYear&&(a=Ri(e._a[We],n[We]),(e._dayOfYear>yt(a)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),i=bt(a,0,e._dayOfYear),e._a[$e]=i.getUTCMonth(),e._a[Ge]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[Ze]&&0===e._a[Xe]&&0===e._a[Je]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?bt:xt).apply(null,s),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(g(e).weekdayMismatch=!0)}}function ji(e){var t,i,n,r,a,s,o,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,s=4,i=Ri(t.GG,e._a[We],Tt(Zi(),1,4).year),n=Ri(t.W,1),r=Ri(t.E,1),(r<1||r>7)&&(l=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,c=Tt(Zi(),a,s),i=Ri(t.gg,e._a[We],c.year),n=Ri(t.w,c.week),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),n<1||n>Lt(i,a,s)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(o=Mt(i,n,r,a,s),e._a[We]=o.year,e._dayOfYear=o.dayOfYear)}function Hi(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],g(e).empty=!0;var t,i,n,r,s,o,l=""+e._i,c=l.length,u=0;for(n=$(e._f,e._locale).match(F)||[],t=0;t<n.length;t++)r=n[t],i=(l.match(Re(r,e))||[])[0],i&&(s=l.substr(0,l.indexOf(i)),s.length>0&&g(e).unusedInput.push(s),l=l.slice(l.indexOf(i)+i.length),u+=i.length),H[r]?(i?g(e).empty=!1:g(e).unusedTokens.push(r),Ue(r,i,e)):e._strict&&!i&&g(e).unusedTokens.push(r);g(e).charsLeftOver=c-u,l.length>0&&g(e).unusedInput.push(l),e._a[qe]<=12&&!0===g(e).bigHour&&e._a[qe]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[qe]=Ni(e._locale,e._a[qe],e._meridiem),o=g(e).era,null!==o&&(e._a[We]=e._locale.erasConvertYear(o,e._a[We])),Bi(e),xi(e)}else zi(e);else Ei(e)}function Ni(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function Ui(e){var t,i,n,r,a,s,o=!1;if(0===e._f.length)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,s=!1,t=M({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Hi(t),v(t)&&(s=!0),a+=g(t).charsLeftOver,a+=10*g(t).unusedTokens.length,g(t).score=a,o?a<n&&(n=a,i=t):(null==n||a<n||s)&&(n=a,i=t,s&&(o=!0));f(e,i||t)}function Vi(e){if(!e._d){var t=se(e._i),i=void 0===t.day?t.date:t.day;e._a=m([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bi(e)}}function Wi(e){var t=new T(xi($i(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function $i(e){var t=e._i,i=e._f;return e._locale=e._locale||gi(e._l),null===t||void 0===i&&""===t?x({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),L(t)?new T(xi(t)):(p(t)?e._d=t:o(i)?Ui(e):i?Hi(e):Gi(e),v(e)||(e._d=null),e))}function Gi(e){var t=e._i;d(t)?e._d=new Date(a.now()):p(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Oi(e):o(t)?(e._a=m(t.slice(0),(function(e){return parseInt(e,10)})),Bi(e)):l(t)?Vi(e):h(t)?e._d=new Date(t):a.createFromInputFallback(e)}function qi(e,t,i,n,r){var a={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(l(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=i,a._i=e,a._f=t,a._strict=n,Wi(a)}function Zi(e,t,i,n){return qi(e,t,i,n,!1)}a.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var Xi=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zi.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:x()})),Ji=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zi.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:x()}));function Ki(e,t){var i,n;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Zi();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}function Qi(){var e=[].slice.call(arguments,0);return Ki("isBefore",e)}function en(){var e=[].slice.call(arguments,0);return Ki("isAfter",e)}var tn=function(){return Date.now?Date.now():+new Date},nn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rn(e){var t,i,n=!1;for(t in e)if(c(e,t)&&(-1===Ve.call(nn,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<nn.length;++i)if(e[nn[i]]){if(n)return!1;parseFloat(e[nn[i]])!==he(e[nn[i]])&&(n=!0)}return!0}function an(){return this._isValid}function sn(){return En(NaN)}function on(e){var t=se(e),i=t.year||0,n=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rn(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+s+7*a,this._months=+r+3*n+12*i,this._data={},this._locale=gi(),this._bubble()}function ln(e){return e instanceof on}function cn(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function un(e,t,i){var n,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&he(e[n])!==he(t[n]))&&s++;return s+a}function dn(e,t){N(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+R(~~(e/60),2)+t+R(~~e%60,2)}))}dn("Z",":"),dn("ZZ",""),Oe("Z",Ae),Oe("ZZ",Ae),He(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=pn(Ae,e)}));var hn=/([\+\-]|\d\d)/gi;function pn(e,t){var i,n,r,a=(t||"").match(e);return null===a?null:(i=a[a.length-1]||[],n=(i+"").match(hn)||["-",0,0],r=60*n[1]+he(n[2]),0===r?0:"+"===n[0]?r:-r)}function mn(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(L(e)||p(e)?e.valueOf():Zi(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),a.updateOffset(i,!1),i):Zi(e).local()}function fn(e){return-Math.round(e._d.getTimezoneOffset())}function _n(e,t,i){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(e=pn(Ae,e),null===e)return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=fn(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?In(this,En(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:fn(this)}function yn(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gn(e){return this.utcOffset(0,e)}function vn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fn(this),"m")),this}function xn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=pn(Ye,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bn(e){return!!this.isValid()&&(e=e?Zi(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mn(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e,t={};return M(t,this),t=$i(t),t._a?(e=t._isUTC?_(t._a):Zi(t._a),this._isDSTShifted=this.isValid()&&un(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tn(){return!!this.isValid()&&!this._isUTC}function Ln(){return!!this.isValid()&&this._isUTC}function kn(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}a.updateOffset=function(){};var Sn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Dn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function En(e,t){var i,n,r,a=e,s=null;return ln(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Sn.exec(e))?(i="-"===s[1]?-1:1,a={y:0,d:he(s[Ge])*i,h:he(s[qe])*i,m:he(s[Ze])*i,s:he(s[Xe])*i,ms:he(cn(1e3*s[Je]))*i}):(s=Dn.exec(e))?(i="-"===s[1]?-1:1,a={y:Cn(s[2],i),M:Cn(s[3],i),w:Cn(s[4],i),d:Cn(s[5],i),h:Cn(s[6],i),m:Cn(s[7],i),s:Cn(s[8],i)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(r=Yn(Zi(a.from),Zi(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),n=new on(a),ln(e)&&c(e,"_locale")&&(n._locale=e._locale),ln(e)&&c(e,"_isValid")&&(n._isValid=e._isValid),n}function Cn(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Pn(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Yn(e,t){var i;return e.isValid()&&t.isValid()?(t=mn(t,e),e.isBefore(t)?i=Pn(e,t):(i=Pn(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function An(e,t){return function(i,n){var r,a;return null===n||isNaN(+n)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=i,i=n,n=a),r=En(i,n),In(this,r,e),this}}function In(e,t,i,n){var r=t._milliseconds,s=cn(t._days),o=cn(t._months);e.isValid()&&(n=null==n||n,o&&dt(e,me(e,"Month")+o*i),s&&fe(e,"Date",me(e,"Date")+s*i),r&&e._d.setTime(e._d.valueOf()+r*i),n&&a.updateOffset(e,s||o))}En.fn=on.prototype,En.invalid=sn;var zn=An(1,"add"),On=An(-1,"subtract");function Rn(e){return"string"===typeof e||e instanceof String}function Fn(e){return L(e)||p(e)||Rn(e)||h(e)||jn(e)||Bn(e)||null===e||void 0===e}function Bn(e){var t,i,n=l(e)&&!u(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)i=a[t],r=r||c(e,i);return n&&r}function jn(e){var t=o(e),i=!1;return t&&(i=0===e.filter((function(t){return!h(t)&&Rn(e)})).length),t&&i}function Hn(e){var t,i,n=l(e)&&!u(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)i=a[t],r=r||c(e,i);return n&&r}function Nn(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Un(e,t){1===arguments.length&&(arguments[0]?Fn(arguments[0])?(e=arguments[0],t=void 0):Hn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||Zi(),n=mn(i,this).startOf("day"),r=a.calendarFormat(this,n)||"sameElse",s=t&&(P(t[r])?t[r].call(this,i):t[r]);return this.format(s||this.localeData().calendar(r,this,Zi(i)))}function Vn(){return new T(this)}function Wn(e,t){var i=L(e)?e:Zi(e);return!(!this.isValid()||!i.isValid())&&(t=ae(t)||"millisecond","millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function $n(e,t){var i=L(e)?e:Zi(e);return!(!this.isValid()||!i.isValid())&&(t=ae(t)||"millisecond","millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function Gn(e,t,i,n){var r=L(e)?e:Zi(e),a=L(t)?t:Zi(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(n=n||"()",("("===n[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(a,i):!this.isAfter(a,i)))}function qn(e,t){var i,n=L(e)?e:Zi(e);return!(!this.isValid()||!n.isValid())&&(t=ae(t)||"millisecond","millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function Zn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jn(e,t,i){var n,r,a;if(!this.isValid())return NaN;if(n=mn(e,this),!n.isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=ae(t),t){case"year":a=Kn(this,n)/12;break;case"month":a=Kn(this,n);break;case"quarter":a=Kn(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-r)/864e5;break;case"week":a=(this-n-r)/6048e5;break;default:a=this-n}return i?a:de(a)}function Kn(e,t){if(e.date()<t.date())return-Kn(t,e);var i,n,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return t-a<0?(i=e.clone().add(r-1,"months"),n=(t-a)/(a-i)):(i=e.clone().add(r+1,"months"),n=(t-a)/(i-a)),-(r+n)||0}function Qn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function er(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?W(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",n=a+'[")]',this.format(e+t+i+n)}function ir(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(L(e)&&e.isValid()||Zi(e).isValid())?En({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rr(e){return this.from(Zi(),e)}function ar(e,t){return this.isValid()&&(L(e)&&e.isValid()||Zi(e).isValid())?En({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sr(e){return this.to(Zi(),e)}function or(e){var t;return void 0===e?this._locale._abbr:(t=gi(e),null!=t&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lr=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function cr(){return this._locale}var ur=1e3,dr=60*ur,hr=60*dr,pr=3506328*hr;function mr(e,t){return(e%t+t)%t}function fr(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-pr:new Date(e,t,i).valueOf()}function _r(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-pr:Date.UTC(e,t,i)}function yr(e){var t,i;if(e=ae(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?_r:fr,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mr(t+(this._isUTC?0:this.utcOffset()*dr),hr);break;case"minute":t=this._d.valueOf(),t-=mr(t,dr);break;case"second":t=this._d.valueOf(),t-=mr(t,ur);break}return this._d.setTime(t),a.updateOffset(this,!0),this}function gr(e){var t,i;if(e=ae(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?_r:fr,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hr-mr(t+(this._isUTC?0:this.utcOffset()*dr),hr)-1;break;case"minute":t=this._d.valueOf(),t+=dr-mr(t,dr)-1;break;case"second":t=this._d.valueOf(),t+=ur-mr(t,ur)-1;break}return this._d.setTime(t),a.updateOffset(this,!0),this}function vr(){return this._d.valueOf()-6e4*(this._offset||0)}function xr(){return Math.floor(this.valueOf()/1e3)}function br(){return new Date(this.valueOf())}function wr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tr(){return this.isValid()?this.toISOString():null}function Lr(){return v(this)}function kr(){return f({},g(this))}function Sr(){return g(this).overflow}function Dr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Er(e,t){var i,n,r,s=this._eras||gi("en")._eras;for(i=0,n=s.length;i<n;++i){switch(typeof s[i].since){case"string":r=a(s[i].since).startOf("day"),s[i].since=r.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":r=a(s[i].until).startOf("day").valueOf(),s[i].until=r.valueOf();break}}return s}function Cr(e,t,i){var n,r,a,s,o,l=this.eras();for(e=e.toUpperCase(),n=0,r=l.length;n<r;++n)if(a=l[n].name.toUpperCase(),s=l[n].abbr.toUpperCase(),o=l[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[n];break;case"NNNN":if(a===e)return l[n];break;case"NNNNN":if(o===e)return l[n];break}else if([a,s,o].indexOf(e)>=0)return l[n]}function Pr(e,t){var i=e.since<=e.until?1:-1;return void 0===t?a(e.since).year():a(e.since).year()+(t-e.offset)*i}function Yr(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""}function Ar(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""}function Ir(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""}function zr(){var e,t,i,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=r[e].since<=r[e].until?1:-1,n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-a(r[e].since).year())*i+r[e].offset;return this.year()}function Or(e){return c(this,"_erasNameRegex")||Ur.call(this),e?this._erasNameRegex:this._erasRegex}function Rr(e){return c(this,"_erasAbbrRegex")||Ur.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fr(e){return c(this,"_erasNarrowRegex")||Ur.call(this),e?this._erasNarrowRegex:this._erasRegex}function Br(e,t){return t.erasAbbrRegex(e)}function jr(e,t){return t.erasNameRegex(e)}function Hr(e,t){return t.erasNarrowRegex(e)}function Nr(e,t){return t._eraYearOrdinalRegex||Ce}function Ur(){var e,t,i=[],n=[],r=[],a=[],s=this.eras();for(e=0,t=s.length;e<t;++e)n.push(Be(s[e].name)),i.push(Be(s[e].abbr)),r.push(Be(s[e].narrow)),a.push(Be(s[e].name)),a.push(Be(s[e].abbr)),a.push(Be(s[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function Vr(e,t){N(0,[e,e.length],0,t)}function Wr(e){return Jr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $r(e){return Jr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gr(){return Lt(this.year(),1,4)}function qr(){return Lt(this.isoWeekYear(),1,4)}function Zr(){var e=this.localeData()._week;return Lt(this.year(),e.dow,e.doy)}function Xr(){var e=this.localeData()._week;return Lt(this.weekYear(),e.dow,e.doy)}function Jr(e,t,i,n,r){var a;return null==e?Tt(this,n,r).year:(a=Lt(e,n,r),t>a&&(t=a),Kr.call(this,e,t,i,n,r))}function Kr(e,t,i,n,r){var a=Mt(e,t,i,n,r),s=bt(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),Oe("N",Br),Oe("NN",Br),Oe("NNN",Br),Oe("NNNN",jr),Oe("NNNNN",Hr),He(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?g(i).era=r:g(i).invalidEra=e})),Oe("y",Ce),Oe("yy",Ce),Oe("yyy",Ce),Oe("yyyy",Ce),Oe("yo",Nr),He(["y","yy","yyy","yyyy"],We),He(["yo"],(function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[We]=i._locale.eraYearOrdinalParse(e,r):t[We]=parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vr("gggg","weekYear"),Vr("ggggg","weekYear"),Vr("GGGG","isoWeekYear"),Vr("GGGGG","isoWeekYear"),re("weekYear","gg"),re("isoWeekYear","GG"),le("weekYear",1),le("isoWeekYear",1),Oe("G",Pe),Oe("g",Pe),Oe("GG",Te,xe),Oe("gg",Te,xe),Oe("GGGG",De,we),Oe("gggg",De,we),Oe("GGGGG",Ee,Me),Oe("ggggg",Ee,Me),Ne(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=he(e)})),Ne(["gg","GG"],(function(e,t,i,n){t[n]=a.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),re("quarter","Q"),le("quarter",7),Oe("Q",ve),He("Q",(function(e,t){t[$e]=3*(he(e)-1)})),N("D",["DD",2],"Do","date"),re("date","D"),le("date",9),Oe("D",Te),Oe("DD",Te,xe),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),He(["D","DD"],Ge),He("Do",(function(e,t){t[Ge]=he(e.match(Te)[0])}));var ea=pe("Date",!0);function ta(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}N("DDD",["DDDD",3],"DDDo","dayOfYear"),re("dayOfYear","DDD"),le("dayOfYear",4),Oe("DDD",Se),Oe("DDDD",be),He(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=he(e)})),N("m",["mm",2],0,"minute"),re("minute","m"),le("minute",14),Oe("m",Te),Oe("mm",Te,xe),He(["m","mm"],Ze);var ia=pe("Minutes",!1);N("s",["ss",2],0,"second"),re("second","s"),le("second",15),Oe("s",Te),Oe("ss",Te,xe),He(["s","ss"],Xe);var na,ra,aa=pe("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),re("millisecond","ms"),le("millisecond",16),Oe("S",Se,ve),Oe("SS",Se,xe),Oe("SSS",Se,be),na="SSSS";na.length<=9;na+="S")Oe(na,Ce);function sa(e,t){t[Je]=he(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")He(na,sa);function oa(){return this._isUTC?"UTC":""}function la(){return this._isUTC?"Coordinated Universal Time":""}ra=pe("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var ca=T.prototype;function ua(e){return Zi(1e3*e)}function da(){return Zi.apply(null,arguments).parseZone()}function ha(e){return e}ca.add=zn,ca.calendar=Un,ca.clone=Vn,ca.diff=Jn,ca.endOf=gr,ca.format=ir,ca.from=nr,ca.fromNow=rr,ca.to=ar,ca.toNow=sr,ca.get=_e,ca.invalidAt=Sr,ca.isAfter=Wn,ca.isBefore=$n,ca.isBetween=Gn,ca.isSame=qn,ca.isSameOrAfter=Zn,ca.isSameOrBefore=Xn,ca.isValid=Lr,ca.lang=lr,ca.locale=or,ca.localeData=cr,ca.max=Ji,ca.min=Xi,ca.parsingFlags=kr,ca.set=ye,ca.startOf=yr,ca.subtract=On,ca.toArray=wr,ca.toObject=Mr,ca.toDate=br,ca.toISOString=er,ca.inspect=tr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ca[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ca.toJSON=Tr,ca.toString=Qn,ca.unix=xr,ca.valueOf=vr,ca.creationData=Dr,ca.eraName=Yr,ca.eraNarrow=Ar,ca.eraAbbr=Ir,ca.eraYear=zr,ca.year=gt,ca.isLeapYear=vt,ca.weekYear=Wr,ca.isoWeekYear=$r,ca.quarter=ca.quarters=Qr,ca.month=ht,ca.daysInMonth=pt,ca.week=ca.weeks=Ct,ca.isoWeek=ca.isoWeeks=Pt,ca.weeksInYear=Zr,ca.weeksInWeekYear=Xr,ca.isoWeeksInYear=Gr,ca.isoWeeksInISOWeekYear=qr,ca.date=ea,ca.day=ca.days=$t,ca.weekday=Gt,ca.isoWeekday=qt,ca.dayOfYear=ta,ca.hour=ca.hours=ai,ca.minute=ca.minutes=ia,ca.second=ca.seconds=aa,ca.millisecond=ca.milliseconds=ra,ca.utcOffset=_n,ca.utc=gn,ca.local=vn,ca.parseZone=xn,ca.hasAlignedHourOffset=bn,ca.isDST=wn,ca.isLocal=Tn,ca.isUtcOffset=Ln,ca.isUtc=kn,ca.isUTC=kn,ca.zoneAbbr=oa,ca.zoneName=la,ca.dates=S("dates accessor is deprecated. Use date instead.",ea),ca.months=S("months accessor is deprecated. Use month instead",ht),ca.years=S("years accessor is deprecated. Use year instead",gt),ca.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yn),ca.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mn);var pa=I.prototype;function ma(e,t,i,n){var r=gi(),a=_().set(n,t);return r[i](a,e)}function fa(e,t,i){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return ma(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ma(e,n,i,"month");return r}function _a(e,t,i,n){"boolean"===typeof e?(h(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,h(t)&&(i=t,t=void 0),t=t||"");var r,a=gi(),s=e?a._week.dow:0,o=[];if(null!=i)return ma(t,(i+s)%7,n,"day");for(r=0;r<7;r++)o[r]=ma(t,(r+s)%7,n,"day");return o}function ya(e,t){return fa(e,t,"months")}function ga(e,t){return fa(e,t,"monthsShort")}function va(e,t,i){return _a(e,t,i,"weekdays")}function xa(e,t,i){return _a(e,t,i,"weekdaysShort")}function ba(e,t,i){return _a(e,t,i,"weekdaysMin")}pa.calendar=O,pa.longDateFormat=q,pa.invalidDate=X,pa.ordinal=Q,pa.preparse=ha,pa.postformat=ha,pa.relativeTime=te,pa.pastFuture=ie,pa.set=Y,pa.eras=Er,pa.erasParse=Cr,pa.erasConvertYear=Pr,pa.erasAbbrRegex=Rr,pa.erasNameRegex=Or,pa.erasNarrowRegex=Fr,pa.months=ot,pa.monthsShort=lt,pa.monthsParse=ut,pa.monthsRegex=ft,pa.monthsShortRegex=mt,pa.week=kt,pa.firstDayOfYear=Et,pa.firstDayOfWeek=Dt,pa.weekdays=Ht,pa.weekdaysMin=Ut,pa.weekdaysShort=Nt,pa.weekdaysParse=Wt,pa.weekdaysRegex=Zt,pa.weekdaysShortRegex=Xt,pa.weekdaysMinRegex=Jt,pa.isPM=ni,pa.meridiem=si,fi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===he(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),a.lang=S("moment.lang is deprecated. Use moment.locale instead.",fi),a.langData=S("moment.langData is deprecated. Use moment.localeData instead.",gi);var wa=Math.abs;function Ma(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function Ta(e,t,i,n){var r=En(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function La(e,t){return Ta(this,e,t,1)}function ka(e,t){return Ta(this,e,t,-1)}function Sa(e){return e<0?Math.floor(e):Math.ceil(e)}function Da(){var e,t,i,n,r,a=this._milliseconds,s=this._days,o=this._months,l=this._data;return a>=0&&s>=0&&o>=0||a<=0&&s<=0&&o<=0||(a+=864e5*Sa(Ca(o)+s),s=0,o=0),l.milliseconds=a%1e3,e=de(a/1e3),l.seconds=e%60,t=de(e/60),l.minutes=t%60,i=de(t/60),l.hours=i%24,s+=de(i/24),r=de(Ea(s)),o+=r,s-=Sa(Ca(r)),n=de(o/12),o%=12,l.days=s,l.months=o,l.years=n,this}function Ea(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Pa(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if(e=ae(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+Ea(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function Ya(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*he(this._months/12):NaN}function Aa(e){return function(){return this.as(e)}}var Ia=Aa("ms"),za=Aa("s"),Oa=Aa("m"),Ra=Aa("h"),Fa=Aa("d"),Ba=Aa("w"),ja=Aa("M"),Ha=Aa("Q"),Na=Aa("y");function Ua(){return En(this)}function Va(e){return e=ae(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var $a=Wa("milliseconds"),Ga=Wa("seconds"),qa=Wa("minutes"),Za=Wa("hours"),Xa=Wa("days"),Ja=Wa("months"),Ka=Wa("years");function Qa(){return de(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function is(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function ns(e,t,i,n){var r=En(e).abs(),a=es(r.as("s")),s=es(r.as("m")),o=es(r.as("h")),l=es(r.as("d")),c=es(r.as("M")),u=es(r.as("w")),d=es(r.as("y")),h=a<=i.ss&&["s",a]||a<i.s&&["ss",a]||s<=1&&["m"]||s<i.m&&["mm",s]||o<=1&&["h"]||o<i.h&&["hh",o]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(h=h||u<=1&&["w"]||u<i.w&&["ww",u]),h=h||c<=1&&["M"]||c<i.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=n,is.apply(null,h)}function rs(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function as(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,r=!1,a=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(a=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),i=this.localeData(),n=ns(this,!r,a,i),r&&(n=i.pastFuture(+this,n)),i.postformat(n)}var os=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,r,a,s,o,l=os(this._milliseconds)/1e3,c=os(this._days),u=os(this._months),d=this.asSeconds();return d?(e=de(l/60),t=de(e/60),l%=60,e%=60,i=de(u/12),u%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",a=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",o=ls(this._milliseconds)!==ls(d)?"-":"",r+"P"+(i?a+i+"Y":"")+(u?a+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+n+"S":"")):"P0D"}var us=on.prototype;return us.isValid=an,us.abs=Ma,us.add=La,us.subtract=ka,us.as=Pa,us.asMilliseconds=Ia,us.asSeconds=za,us.asMinutes=Oa,us.asHours=Ra,us.asDays=Fa,us.asWeeks=Ba,us.asMonths=ja,us.asQuarters=Ha,us.asYears=Na,us.valueOf=Ya,us._bubble=Da,us.clone=Ua,us.get=Va,us.milliseconds=$a,us.seconds=Ga,us.minutes=qa,us.hours=Za,us.days=Xa,us.weeks=Qa,us.months=Ja,us.years=Ka,us.humanize=ss,us.toISOString=cs,us.toString=cs,us.toJSON=cs,us.locale=or,us.localeData=cr,us.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),us.lang=lr,N("X",0,0,"unix"),N("x",0,0,"valueOf"),Oe("x",Pe),Oe("X",Ie),He("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),He("x",(function(e,t,i){i._d=new Date(he(e))})),
//! moment.js
a.version="2.29.1",s(Zi),a.fn=ca,a.min=Qi,a.max=en,a.now=tn,a.utc=_,a.unix=ua,a.months=ya,a.isDate=p,a.locale=fi,a.invalid=x,a.duration=En,a.isMoment=L,a.weekdays=va,a.parseZone=da,a.localeData=gi,a.isDuration=ln,a.monthsShort=ga,a.weekdaysMin=ba,a.defineLocale=_i,a.updateLocale=yi,a.locales=vi,a.weekdaysShort=xa,a.normalizeUnits=ae,a.relativeTimeRounding=rs,a.relativeTimeThreshold=as,a.calendarFormat=Nn,a.prototype=ca,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}))}).call(this,i("62e4")(e))},c69c:function(e,t,i){"use strict";i("6b75")},c7aa:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10===0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,i){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?i?'לפנה"צ':"לפני הצהריים":e<18?i?'אחה"צ':"אחרי הצהריים":"בערב"}});return t}))},c8f3:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,i){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},cf1e:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,n){var r=t.words[n];return 1===n.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i}))},cf51:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,i){return e>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function i(e,t,i,n){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return n||t?r[i][0]:r[i][1]}return t}))},cf75:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function i(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq",t}function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret",t}function r(e,t,i,n){var r=a(e);switch(i){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function a(e){var i=Math.floor(e%1e3/100),n=Math.floor(e%100/10),r=e%10,a="";return i>0&&(a+=t[i]+"vatlh"),n>0&&(a+=(""!==a?" ":"")+t[n]+"maH"),r>0&&(a+=(""!==a?" ":"")+t[r]),""===a?"pagh":a}var s=e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:i,past:n,s:"puS lup",ss:r,m:"wa’ tup",mm:r,h:"wa’ rep",hh:r,d:"wa’ jaj",dd:r,M:"wa’ jar",MM:r,y:"wa’ DIS",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},d26a:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},i={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"},n=e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,i){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}});return n}))},d28b:function(e,t,i){var n=i("746f");n("iterator")},d2d4:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"});return t}))},d58f:function(e,t,i){var n=i("1c0b"),r=i("7b0b"),a=i("44ad"),s=i("50c4"),o=function(e){return function(t,i,o,l){n(i);var c=r(t),u=a(c),d=s(c.length),h=e?d-1:0,p=e?-1:1;if(o<2)while(1){if(h in u){l=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(l=i(l,u[h],h,c));return l}};e.exports={left:o(!1),right:o(!0)}},d69a:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},d6b6:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}});return t}))},d716:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var i=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(i="a"),e+i},week:{dow:1,doy:4}});return t}))},d784:function(e,t,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),a=i("b622"),s=i("9263"),o=i("9112"),l=a("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,d){var m=a(e),f=!r((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),_=f&&!r((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[m]=/./[m]),i.exec=function(){return t=!0,null},i[m](""),!t}));if(!f||!_||"replace"===e&&(!c||!u||h)||"split"===e&&!p){var y=/./[m],g=i(m,""[e],(function(e,t,i,n,r){return t.exec===s?f&&!r?{done:!0,value:y.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),v=g[0],x=g[1];n(String.prototype,e,v),n(RegExp.prototype,m,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}d&&o(RegExp.prototype[m],"sham",!0)}},d9f8:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}});return t}))},db29:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return a}))},dc4a:function(e,t,i){},dc4d:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},n=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i],r=[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i],a=e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:n,longMonthsParse:n,shortMonthsParse:r,monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}});return a}))},ddb0:function(e,t,i){var n=i("da84"),r=i("fdbc"),a=i("e260"),s=i("9112"),o=i("b622"),l=o("iterator"),c=o("toStringTag"),u=a.values;for(var d in r){var h=n[d],p=h&&h.prototype;if(p){if(p[l]!==u)try{s(p,l,u)}catch(f){p[l]=u}if(p[c]||s(p,c,d),r[d])for(var m in a)if(p[m]!==a[m])try{s(p,m,a[m])}catch(f){p[m]=a[m]}}}},e01a:function(e,t,i){"use strict";var n=i("23e7"),r=i("83ab"),a=i("da84"),s=i("5135"),o=i("861d"),l=i("9bf2").f,c=i("e893"),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(h,u);var p=h.prototype=u.prototype;p.constructor=h;var m=p.toString,f="Symbol(test)"==String(u("test")),_=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=m.call(e);if(s(d,e))return"";var i=f?t.slice(7,-1):t.replace(_,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},e0c5:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},i={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"},n=e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}});return n}))},e192:function(e,t,i){(function(t,i){e.exports=i()})(0,(function(){"use strict";var e,t,i;function n(n,r){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",s={};e(s),i=r(s),"undefined"!==typeof window&&(i.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=r;else e=r}return n(["exports"],(function(e){var t=i;function i(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=i,this.p2y=n}i.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},i.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},i.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},i.prototype.solveCurveX=function(e,t){var i,n,r,a,s;for(void 0===t&&(t=1e-6),r=e,s=0;s<8;s++){if(a=this.sampleCurveX(r)-e,Math.abs(a)<t)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r-=a/o}if((r=e)<(i=0))return i;if(r>(n=1))return n;for(;i<n;){if(a=this.sampleCurveX(r),Math.abs(a-e)<t)return r;e>a?i=r:n=r,r=.5*(n-i)+i}return r},i.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var n=r;function r(e,t){this.x=e,this.y=t}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),i=Math.sin(e),n=i*this.x+t*this.y;return this.x=t*this.x-i*this.y,this.y=n,this},_rotateAround:function(e,t){var i=Math.cos(e),n=Math.sin(e),r=t.y+n*(this.x-t.x)+i*(this.y-t.y);return this.x=t.x+i*(this.x-t.x)-n*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e};var a="undefined"!=typeof self?self:{};function s(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!s(e[i],t[i]))return!1;return!0}return e===t}const o=Math.pow(2,53)-1,l=Math.PI/180,c=180/Math.PI;function u(e){return e*l}function d(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,i=t*e;return 4*(e<.5?i:3*(e-t)+i-.75)}function h(e,i,n,r){const a=new t(e,i,n,r);return function(e){return a.solve(e)}}const p=h(.25,.1,.25,1);function m(e,t,i){return Math.min(i,Math.max(t,e))}function f(e,t,i){const n=i-t,r=((e-t)%n+n)%n+t;return r===t?i:r}function _(e){const t=[];for(const i in e)t.push(e[i]);return t}function y(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}let g=1;function v(){return g++}function x(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function b(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function w(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function M(e,t){return-1!==e.indexOf(t,e.length-t.length)}function T(e,t,i){const n={};for(const r in e)n[r]=t.call(i||this,e[r],r,e);return n}function L(e,t,i){const n={};for(const r in e)t.call(i||this,e[r],r,e)&&(n[r]=e[r]);return n}function k(e){return Array.isArray(e)?e.map(k):"object"==typeof e&&e?T(e,k):e}const S={};function D(e){S[e]||("undefined"!=typeof console&&console.warn(e),S[e]=!0)}function E(e,t,i){return(i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}function C(e){let t=0;for(let i,n,r=0,a=e.length,s=a-1;r<a;s=r++)i=e[r],n=e[s],t+=(n.x-i.x)*(i.y+n.y);return t}function P(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Y(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,i,n,r)=>{const a=n||r;return t[i]=!a||a.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let A,I,z=null;function O(e){if(null==z){const t=e.navigator?e.navigator.userAgent:null;z=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return z}function R(e){try{const t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}let F,B=!1;const j={now:()=>void 0!==F?F:a.performance.now(),setErrorState(){B=!0},setNow(e){F=e},restoreNow(){F=void 0},frame(e){if(B)return{cancel:()=>{}};const t=a.requestAnimationFrame(e);return{cancel:()=>a.cancelAnimationFrame(t)}},getImageData(e,t=0){const i=a.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(A||(A=a.document.createElement("a")),A.href=e,A.href),get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==I&&(I=a.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}};let H;const N={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==H){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{H=null!=Object({NODE_ENV:"production",BASE_URL:"/"}).API_URL_REGEX?new RegExp(Object({NODE_ENV:"production",BASE_URL:"/"}).API_URL_REGEX):e}catch(t){H=e}}return H},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},U={supported:!1,testSupport:function(e){!$&&W&&(G?q(e):V=e)}};let V,W,$=!1,G=!1;function q(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,W),e.isContextLost())return;U.supported=!0}catch(e){}e.deleteTexture(t),$=!0}a.document&&(W=a.document.createElement("img"),W.onload=function(){V&&q(V),V=null,G=!0},W.onerror=function(){$=!0,V=null},W.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Z="01";function X(e){return 0===e.indexOf("mapbox:")}function J(e){return N.API_URL_REGEX.test(e)}const K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Q(e){const t=e.match(K);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ee(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function te(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class ie{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=te(N.ACCESS_TOKEN);let i="";return i=t&&t.u?a.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):N.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${i}`:"mapbox.eventData:"+i}fetchEventData(){const e=R("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{const e=a.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const n=a.localStorage.getItem(i);n&&(this.anonId=n)}catch(e){D("Unable to read from LocalStorage")}}saveEventData(){const e=R("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){D("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,i,n){if(!N.EVENTS_URL)return;const r=Q(N.EVENTS_URL);r.params.push("access_token="+(n||N.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.0.1",skuId:Z,userId:this.anonId},s=t?y(a,t):a,o={url:ee(r),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Me(o,e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(n)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const ne=new class extends ie{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>X(e)||J(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=te(N.ACCESS_TOKEN),i=t?t.u:N.ACCESS_TOKEN;let n=i!==this.eventData.tokenU;b(this.anonId)||(this.anonId=x(),n=!0);const r=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(r),i=(r-this.eventData.lastSuccess)/864e5;n=n||i>=1||i<-1||e.getDate()!==t.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},e=>{e||(this.eventData.lastSuccess=r,this.eventData.tokenU=i)},e)}},re=ne.postTurnstileEvent.bind(ne),ae=new class extends ie{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,i,n){this.skuToken=t,this.errorCb=n,N.EVENTS_URL&&(i||N.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),b(this.anonId)||(this.anonId=x()),this.postEvent(i,{skuToken:this.skuToken},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},se=ae.postMapLoadEvent.bind(ae),oe=new class extends ie{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,i,n){if(!N.API_URL||!N.SESSION_PATH)return;const r=Q(N.API_URL+N.SESSION_PATH);r.params.push("sku="+(t||"")),r.params.push("access_token="+(n||N.ACCESS_TOKEN||""));const a={url:ee(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Te(a,e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(n)})}getSessionAPI(e,t,i,n){this.skuToken=t,this.errorCb=n,N.SESSION_PATH&&N.API_URL&&(i||N.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error("NO_ACCESS_TOKEN")))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||this.getSession(i,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},le=oe.getSessionAPI.bind(oe);let ce,ue,de=500,he=50;function pe(){a.caches&&!ce&&(ce=a.caches.open("mapbox-tiles"))}function me(e){const t=e.indexOf("?");return t<0?e:e.slice(0,t)}let fe,_e=1/0;function ye(){return null==fe&&(fe=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),fe}const ge={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ge);class ve extends Error{constructor(e,t,i){401===t&&J(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=i}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const xe=P()?()=>self.worker&&self.worker.referrer:()=>("blob:"===a.location.protocol?a.parent:a).location.href,be=function(e,t){if(!(/^file:/.test(i=e.url)||/^file:/.test(xe())&&!/^\w+:/.test(i))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){const i=new a.AbortController,n=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:xe(),signal:i.signal});let r=!1,s=!1;const o=(l=n.url).indexOf("sku=")>0&&J(l);var l;"json"===e.type&&n.headers.set("Accept","application/json");const c=(i,r,l)=>{if(s)return;if(i&&"SecurityError"!==i.message&&D(i),r&&l)return u(r);const c=Date.now();a.fetch(n).then(i=>{if(i.ok){const e=o?i.clone():null;return u(i,e,c)}return t(new ve(i.statusText,i.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},u=(i,o,l)=>{("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then(e=>{s||(o&&l&&function(e,t,i){if(pe(),!ce)return;const n={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((e,t)=>n.headers.set(t,e));const r=Y(t.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&n.headers.set("Expires",new Date(i+1e3*r["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-i<42e4||function(e,t){if(void 0===ue)try{new Response(new ReadableStream),ue=!0}catch(e){ue=!1}ue?t(e.body):e.blob().then(t)}(t,t=>{const i=new a.Response(t,n);pe(),ce&&ce.then(t=>t.put(me(e.url),i)).catch(e=>D(e.message))}))}(n,o,l),r=!0,t(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))}).catch(e=>{s||t(new Error(e.message))})};return o?function(e,t){if(pe(),!ce)return t(null);const i=me(e.url);ce.then(e=>{e.match(i).then(n=>{const r=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),i=Y(e.headers.get("Cache-Control")||"");return t>Date.now()&&!i["no-cache"]}(n);e.delete(i),r&&e.put(i,n.clone()),t(null,n,r)}).catch(t)}).catch(t)}(n,c):c(null,null),{cancel:()=>{s=!0,r||i.abort()}}}(e,t);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var i;return function(e,t){const i=new a.XMLHttpRequest;i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer");for(const n in e.headers)i.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=()=>{t(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===e.type)try{n=JSON.parse(i.response)}catch(e){return t(e)}t(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else t(new ve(i.statusText,i.status,e.url))},i.send(e.body),{cancel:()=>i.abort()}}(e,t)},we=function(e,t){return be(y(e,{type:"arrayBuffer"}),t)},Me=function(e,t){return be(y(e,{method:"POST"}),t)},Te=function(e,t){return be(y(e,{method:"GET"}),t)};function Le(e){const t=a.document.createElement("a");return t.href=e,t.protocol===a.document.location.protocol&&t.host===a.document.location.host}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Se,De;Se=[],De=0;const Ee=function(e,t){if(U.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),De>=N.MAX_PARALLEL_IMAGE_REQUESTS){const i={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return Se.push(i),i}De++;let i=!1;const n=()=>{if(!i)for(i=!0,De--;Se.length&&De<N.MAX_PARALLEL_IMAGE_REQUESTS;){const e=Se.shift(),{requestParameters:t,callback:i,cancelled:n}=e;n||(e.cancel=Ee(t,i).cancel)}},r=we(e,(e,i,r,s)=>{n(),e?t(e):i&&(ye()?function(e,t){const i=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(i).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(i,t):function(e,t,i,n){const r=new a.Image,s=a.URL;r.onload=()=>{t(null,r),s.revokeObjectURL(r.src),r.onload=null,a.requestAnimationFrame(()=>{r.src=ke})},r.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new a.Blob([new Uint8Array(e)],{type:"image/png"});r.cacheControl=i,r.expires=n,r.src=e.byteLength?s.createObjectURL(o):ke}(i,t,r,s))});return{cancel:()=>{r.cancel(),n()}}};function Ce(e,t,i){i[e]&&-1!==i[e].indexOf(t)||(i[e]=i[e]||[],i[e].push(t))}function Pe(e,t,i){if(i&&i[e]){const n=i[e].indexOf(t);-1!==n&&i[e].splice(n,1)}}class Ye{constructor(e,t={}){y(this,t),this.type=e}}class Ae extends Ye{constructor(e,t={}){super("error",y({error:e},t))}}class Ie{on(e,t){return this._listeners=this._listeners||{},Ce(e,t,this._listeners),this}off(e,t){return Pe(e,t,this._listeners),Pe(e,t,this._oneTimeListeners),this}once(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Ce(e,t,this._oneTimeListeners),this}fire(e,t){"string"==typeof e&&(e=new Ye(e,t||{}));const i=e.type;if(this.listens(i)){e.target=this;const t=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of t)i.call(this,e);const n=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const a of n)Pe(i,a,this._oneTimeListeners),a.call(this,e);const r=this._eventedParent;r&&(y(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof Ae&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Oe{constructor(e,t,i,n){this.message=(e?e+": ":"")+i,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function Re(e){const t=e.value;return t?[new Oe(e.key,t,"constants have been deprecated as of v8")]:[]}function Fe(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}function Be(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function je(e){if(Array.isArray(e))return e.map(je);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const i in e)t[i]=je(e[i]);return t}return Be(e)}class He extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class Ne{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[i,n]of t)this.bindings[i]=n}concat(e){return new Ne(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Ue={kind:"null"},Ve={kind:"number"},We={kind:"string"},$e={kind:"boolean"},Ge={kind:"color"},qe={kind:"object"},Ze={kind:"value"},Xe={kind:"collator"},Je={kind:"formatted"},Ke={kind:"resolvedImage"};function Qe(e,t){return{kind:"array",itemType:e,N:t}}function et(e){if("array"===e.kind){const t=et(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const tt=[Ue,Ve,We,$e,Ge,Je,qe,Qe(Ze),Ke];function it(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!it(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of tt)if(!it(e,t))return null}return`Expected ${et(e)} but found ${et(t)} instead.`}function nt(e,t){return t.some(t=>t.kind===e.kind)}function rt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function at(e,t){return e(t={exports:{}},t.exports),t.exports}var st=at((function(e,t){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function r(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function s(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}try{t.parseCSSColor=function(e){var t,o=e.replace(/ /g,"").toLowerCase();if(o in i)return i[o].slice();if("#"===o[0])return 4===o.length?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===o.length&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=o.indexOf("("),c=o.indexOf(")");if(-1!==l&&c+1===o.length){var u=o.substr(0,l),d=o.substr(l+1,c-(l+1)).split(","),h=1;switch(u){case"rgba":if(4!==d.length)return null;h=a(d.pop());case"rgb":return 3!==d.length?null:[r(d[0]),r(d[1]),r(d[2]),h];case"hsla":if(4!==d.length)return null;h=a(d.pop());case"hsl":if(3!==d.length)return null;var p=(parseFloat(d[0])%360+360)%360/360,m=a(d[1]),f=a(d[2]),_=f<=.5?f*(m+1):f+m-f*m,y=2*f-_;return[n(255*s(y,_,p+1/3)),n(255*s(y,_,p)),n(255*s(y,_,p-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor;class ot{constructor(e,t,i,n=1){this.r=e,this.g=t,this.b=i,this.a=n}static parse(e){if(!e)return;if(e instanceof ot)return e;if("string"!=typeof e)return;const t=st(e);return t?new ot(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,i,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(i)},${n})`}toArray(){const{r:e,g:t,b:i,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*i/n,n]}}ot.black=new ot(0,0,0,1),ot.white=new ot(1,1,1,1),ot.transparent=new ot(0,0,0,0),ot.red=new ot(1,0,0,1),ot.blue=new ot(0,0,1,1);class lt{constructor(e,t,i){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ct{constructor(e,t,i,n,r){this.text=e,this.image=t,this.scale=i,this.fontStack=n,this.textColor=r}}class ut{constructor(e){this.sections=e}static fromString(e){return new ut([new ct(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof ut?e:ut.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const i={};t.fontStack&&(i["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(i["font-scale"]=t.scale),t.textColor&&(i["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(i)}return e}}class dt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new dt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function ht(e,t,i,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,i,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,i,n]:[e,t,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function pt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ot)return!0;if(e instanceof lt)return!0;if(e instanceof ut)return!0;if(e instanceof dt)return!0;if(Array.isArray(e)){for(const t of e)if(!pt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!pt(e[t]))return!1;return!0}return!1}function mt(e){if(null===e)return Ue;if("string"==typeof e)return We;if("boolean"==typeof e)return $e;if("number"==typeof e)return Ve;if(e instanceof ot)return Ge;if(e instanceof lt)return Xe;if(e instanceof ut)return Je;if(e instanceof dt)return Ke;if(Array.isArray(e)){const t=e.length;let i;for(const n of e){const e=mt(n);if(i){if(i===e)continue;i=Ze;break}i=e}return Qe(i||Ze,t)}return qe}function ft(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof ot||e instanceof ut||e instanceof dt?e.toString():JSON.stringify(e)}class _t{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!pt(e[1]))return t.error("invalid value");const i=e[1];let n=mt(i);const r=t.expectedType;return"array"!==n.kind||0!==n.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(n=r),new _t(n,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ot?["rgba"].concat(this.value.toArray()):this.value instanceof ut?this.value.serialize():this.value}}class yt{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const gt={string:We,number:Ve,boolean:$e,object:qe};class vt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i,n=1;const r=e[0];if("array"===r){let r,a;if(e.length>2){const i=e[1];if("string"!=typeof i||!(i in gt)||"object"===i)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=gt[i],n++}else r=Ze;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}i=Qe(r,a)}else i=gt[r];const a=[];for(;n<e.length;n++){const i=t.parse(e[n],n,Ze);if(!i)return null;a.push(i)}return new vt(i,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if(!it(this.type,mt(i)))return i;if(t===this.args.length-1)throw new yt(`Expected value to be of type ${et(this.type)}, but found ${et(mt(i))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const i=e.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){t.push(i.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}class xt{constructor(e){this.type=Je,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[1];if(!Array.isArray(i)&&"object"==typeof i)return t.error("First argument must be an image or text section.");const n=[];let r=!1;for(let a=1;a<=e.length-1;++a){const i=e[a];if(r&&"object"==typeof i&&!Array.isArray(i)){r=!1;let e=null;if(i["font-scale"]&&(e=t.parse(i["font-scale"],1,Ve),!e))return null;let a=null;if(i["text-font"]&&(a=t.parse(i["text-font"],1,Qe(We)),!a))return null;let s=null;if(i["text-color"]&&(s=t.parse(i["text-color"],1,Ge),!s))return null;const o=n[n.length-1];o.scale=e,o.font=a,o.textColor=s}else{const i=t.parse(e[a],1,Ze);if(!i)return null;const s=i.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,n.push({content:i,scale:null,font:null,textColor:null})}}return new xt(n)}evaluate(e){return new ut(this.sections.map(t=>{const i=t.content.evaluate(e);return mt(i)===Ke?new ct("",i,null,null,null):new ct(ft(i),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const i={};t.scale&&(i["font-scale"]=t.scale.serialize()),t.font&&(i["text-font"]=t.font.serialize()),t.textColor&&(i["text-color"]=t.textColor.serialize()),e.push(i)}return e}}class bt{constructor(e){this.type=Ke,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const i=t.parse(e[1],1,We);return i?new bt(i):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),i=dt.fromString(t);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(t)>-1),i}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const wt={"to-boolean":$e,"to-color":Ge,"to-number":Ve,"to-string":We};class Mt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[0];if(("to-boolean"===i||"to-string"===i)&&2!==e.length)return t.error("Expected one argument.");const n=wt[i],r=[];for(let a=1;a<e.length;a++){const i=t.parse(e[a],a,Ze);if(!i)return null;r.push(i)}return new Mt(n,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,i;for(const n of this.args){if(t=n.evaluate(e),i=null,t instanceof ot)return t;if("string"==typeof t){const i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&(i=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:ht(t[0],t[1],t[2],t[3]),!i))return new ot(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new yt(i||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const i of this.args){if(t=i.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new yt(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?ut.fromString(ft(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?dt.fromString(ft(this.args[0].evaluate(e))):ft(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new xt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new bt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Tt=["Unknown","Point","LineString","Polygon"];class Lt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Tt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ot.parse(e)),t}}class kt{constructor(e,t,i,n){this.name=e,this.type=t,this._evaluate=i,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const i=e[0],n=kt.definitions[i];if(!n)return t.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,s=a.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let o=null;for(const[l,c]of s){o=new qt(t.registry,t.path,null,t.scope);const n=[];let a=!1;for(let t=1;t<e.length;t++){const i=e[t],r=Array.isArray(l)?l[t-1]:l.type,s=o.parse(i,1+n.length,r);if(!s){a=!0;break}n.push(s)}if(!a)if(Array.isArray(l)&&l.length!==n.length)o.error(`Expected ${l.length} arguments, but found ${n.length} instead.`);else{for(let e=0;e<n.length;e++){const t=Array.isArray(l)?l[e]:l.type,i=n[e];o.concat(e+1).checkSubtype(t,i.type)}if(0===o.errors.length)return new kt(i,r,c,n)}}if(1===s.length)t.errors.push(...o.errors);else{const i=(s.length?s:a).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(et).join(", ")})`:`(${et(t.type)}...)`;var t}).join(" | "),n=[];for(let r=1;r<e.length;r++){const i=t.parse(e[r],1+n.length);if(!i)return null;n.push(et(i.type))}t.error(`Expected arguments of type ${i}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){kt.definitions=t;for(const i in t)e[i]=kt}}class St{constructor(e,t,i){this.type=Xe,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const i=e[1];if("object"!=typeof i||Array.isArray(i))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,$e);if(!n)return null;const r=t.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,$e);if(!r)return null;let a=null;return i.locale&&(a=t.parse(i.locale,1,We),!a)?null:new St(n,r,a)}evaluate(e){return new lt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}function Dt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Et(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Ct(e,t){const i=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(i*r*8192),Math.round(n*r*8192)]}function Pt(e,t,i){const n=e[0]-t[0],r=e[1]-t[1],a=e[0]-i[0],s=e[1]-i[1];return n*s-a*r==0&&n*a<=0&&r*s<=0}function Yt(e,t){let i=!1;for(let s=0,o=t.length;s<o;s++){const o=t[s];for(let t=0,s=o.length;t<s-1;t++){if(Pt(e,o[t],o[t+1]))return!1;(r=o[t])[1]>(n=e)[1]!=(a=o[t+1])[1]>n[1]&&n[0]<(a[0]-r[0])*(n[1]-r[1])/(a[1]-r[1])+r[0]&&(i=!i)}}var n,r,a;return i}function At(e,t){for(let i=0;i<t.length;i++)if(Yt(e,t[i]))return!0;return!1}function It(e,t,i,n){const r=n[0]-i[0],a=n[1]-i[1],s=(e[0]-i[0])*a-r*(e[1]-i[1]),o=(t[0]-i[0])*a-r*(t[1]-i[1]);return s>0&&o<0||s<0&&o>0}function zt(e,t,i){for(const c of i)for(let i=0;i<c.length-1;++i)if(0!=(o=[(s=c[i+1])[0]-(a=c[i])[0],s[1]-a[1]])[0]*(l=[(r=t)[0]-(n=e)[0],r[1]-n[1]])[1]-o[1]*l[0]&&It(n,r,a,s)&&It(a,s,n,r))return!0;var n,r,a,s,o,l;return!1}function Ot(e,t){for(let i=0;i<e.length;++i)if(!Yt(e[i],t))return!1;for(let i=0;i<e.length-1;++i)if(zt(e[i],e[i+1],t))return!1;return!0}function Rt(e,t){for(let i=0;i<t.length;i++)if(Ot(e,t[i]))return!0;return!1}function Ft(e,t,i){const n=[];for(let r=0;r<e.length;r++){const a=[];for(let n=0;n<e[r].length;n++){const s=Ct(e[r][n],i);Dt(t,s),a.push(s)}n.push(a)}return n}function Bt(e,t,i){const n=[];for(let r=0;r<e.length;r++){const a=Ft(e[r],t,i);n.push(a)}return n}function jt(e,t,i,n){if(e[0]<i[0]||e[0]>i[2]){const t=.5*n;let r=e[0]-i[0]>t?-n:i[0]-e[0]>t?n:0;0===r&&(r=e[0]-i[2]>t?-n:i[2]-e[0]>t?n:0),e[0]+=r}Dt(t,e)}function Ht(e,t,i,n){const r=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],s=[];for(const o of e)for(const e of o){const n=[e.x+a[0],e.y+a[1]];jt(n,t,i,r),s.push(n)}return s}function Nt(e,t,i,n){const r=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],s=[];for(const l of e){const e=[];for(const i of l){const n=[i.x+a[0],i.y+a[1]];Dt(t,n),e.push(n)}s.push(e)}if(t[2]-t[0]<=r/2){(o=t)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const e of s)for(const n of e)jt(n,t,i,r)}var o;return s}class Ut{constructor(e,t){this.type=$e,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(pt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const i=t.features[e].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Ut(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Ut(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Ut(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const a=Ft(t.coordinates,n,r),s=Ht(e.geometry(),i,n,r);if(!Et(i,n))return!1;for(const e of s)if(!Yt(e,a))return!1}if("MultiPolygon"===t.type){const a=Bt(t.coordinates,n,r),s=Ht(e.geometry(),i,n,r);if(!Et(i,n))return!1;for(const e of s)if(!At(e,a))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const a=Ft(t.coordinates,n,r),s=Nt(e.geometry(),i,n,r);if(!Et(i,n))return!1;for(const e of s)if(!Ot(e,a))return!1}if("MultiPolygon"===t.type){const a=Bt(t.coordinates,n,r),s=Nt(e.geometry(),i,n,r);if(!Et(i,n))return!1;for(const e of s)if(!Rt(e,a))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Vt(e){if(e instanceof kt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Ut)return!1;let t=!0;return e.eachChild(e=>{t&&!Vt(e)&&(t=!1)}),t}function Wt(e){if(e instanceof kt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!Wt(e)&&(t=!1)}),t}function $t(e,t){if(e instanceof kt&&t.indexOf(e.name)>=0)return!1;let i=!0;return e.eachChild(e=>{i&&!$t(e,t)&&(i=!1)}),i}class Gt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const i=e[1];return t.scope.has(i)?new Gt(i,t.scope.get(i)):t.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class qt{constructor(e,t=[],i,n=new Ne,r=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=r,this.expectedType=i}parse(e,t,i,n,r={}){return t?this.concat(t,i,n)._parse(e,r):this._parse(e,r)}_parse(e,t){function i(e,t,i){return"assert"===i?new vt(t,[e]):"coerce"===i?new Mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[n];if(r){let n=r.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,r=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else n=i(n,e,t.typeAnnotation||"coerce");else n=i(n,e,t.typeAnnotation||"assert")}if(!(n instanceof _t)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof Gt)return e(t.boundExpression);if(t instanceof kt&&"error"===t.name)return!1;if(t instanceof St)return!1;if(t instanceof Ut)return!1;const i=t instanceof Mt||t instanceof vt;let n=!0;return t.eachChild(t=>{n=i?n&&e(t):n&&t instanceof _t}),!!n&&Vt(t)&&$t(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(n)){const t=new Lt;try{n=new _t(n.type,n.evaluate(t))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const n="number"==typeof e?this.path.concat(e):this.path,r=i?this.scope.concat(i):this.scope;return new qt(this.registry,n,t||null,r,this.errors)}error(e,...t){const i=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new He(i,e))}checkSubtype(e,t){const i=it(e,t);return i&&this.error(i),i}}function Zt(e,t){const i=e.length-1;let n,r,a=0,s=i,o=0;for(;a<=s;)if(o=Math.floor((a+s)/2),n=e[o],r=e[o+1],n<=t){if(o===i||t<r)return o;a=o+1}else{if(!(n>t))throw new yt("Input is not a number.");s=o-1}return 0}class Xt{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[n,r]of i)this.labels.push(n),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const i=t.parse(e[1],1,Ve);if(!i)return null;const n=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let a=1;a<e.length;a+=2){const i=1===a?-1/0:e[a],s=e[a+1],o=a,l=a+1;if("number"!=typeof i)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=i)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',o);const c=t.parse(s,l,r);if(!c)return null;r=r||c.type,n.push([i,c])}return new Xt(r,i,n)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return i[0].evaluate(e);const r=t.length;return n>=t[r-1]?i[r-1].evaluate(e):i[Zt(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function Jt(e,t,i){return e*(1-i)+t*i}var Kt=Object.freeze({__proto__:null,number:Jt,color:function(e,t,i){return new ot(Jt(e.r,t.r,i),Jt(e.g,t.g,i),Jt(e.b,t.b,i),Jt(e.a,t.a,i))},array:function(e,t,i){return e.map((e,n)=>Jt(e,t[n],i))}});const Qt=6/29*3*(6/29),ei=Math.PI/180,ti=180/Math.PI;function ii(e){return e>.008856451679035631?Math.pow(e,1/3):e/Qt+4/29}function ni(e){return e>6/29?e*e*e:Qt*(e-4/29)}function ri(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ai(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function si(e){const t=ai(e.r),i=ai(e.g),n=ai(e.b),r=ii((.4124564*t+.3575761*i+.1804375*n)/.95047),a=ii((.2126729*t+.7151522*i+.072175*n)/1);return{l:116*a-16,a:500*(r-a),b:200*(a-ii((.0193339*t+.119192*i+.9503041*n)/1.08883)),alpha:e.a}}function oi(e){let t=(e.l+16)/116,i=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*ni(t),i=.95047*ni(i),n=1.08883*ni(n),new ot(ri(3.2404542*i-1.5371385*t-.4985314*n),ri(-.969266*i+1.8760108*t+.041556*n),ri(.0556434*i-.2040259*t+1.0572252*n),e.alpha)}function li(e,t,i){const n=t-e;return e+i*(n>180||n<-180?n-360*Math.round(n/360):n)}const ci={forward:si,reverse:oi,interpolate:function(e,t,i){return{l:Jt(e.l,t.l,i),a:Jt(e.a,t.a,i),b:Jt(e.b,t.b,i),alpha:Jt(e.alpha,t.alpha,i)}}},ui={forward:function(e){const{l:t,a:i,b:n}=si(e),r=Math.atan2(n,i)*ti;return{h:r<0?r+360:r,c:Math.sqrt(i*i+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*ei,i=e.c;return oi({l:e.l,a:Math.cos(t)*i,b:Math.sin(t)*i,alpha:e.alpha})},interpolate:function(e,t,i){return{h:li(e.h,t.h,i),c:Jt(e.c,t.c,i),l:Jt(e.l,t.l,i),alpha:Jt(e.alpha,t.alpha,i)}}};var di=Object.freeze({__proto__:null,lab:ci,hcl:ui});class hi{constructor(e,t,i,n,r){this.type=e,this.operator=t,this.interpolation=i,this.input=n,this.labels=[],this.outputs=[];for(const[a,s]of r)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(e,i,n,r){let a=0;if("exponential"===e.name)a=pi(i,e.base,n,r);else if("linear"===e.name)a=pi(i,1,n,r);else if("cubic-bezier"===e.name){const s=e.controlPoints;a=new t(s[0],s[1],s[2],s[3]).solve(pi(i,1,n,r))}return a}static parse(e,t){let[i,n,r,...a]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,Ve),!r)return null;const s=[];let o=null;"interpolate-hcl"===i||"interpolate-lab"===i?o=Ge:t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let l=0;l<a.length;l+=2){const e=a[l],i=a[l+1],n=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',n);if(s.length&&s[s.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',n);const c=t.parse(i,r,o);if(!c)return null;o=o||c.type,s.push([e,c])}return"number"===o.kind||"color"===o.kind||"array"===o.kind&&"number"===o.itemType.kind&&"number"==typeof o.N?new hi(o,i,n,r,s):t.error(`Type ${et(o)} is not interpolatable.`)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return i[0].evaluate(e);const r=t.length;if(n>=t[r-1])return i[r-1].evaluate(e);const a=Zt(t,n),s=hi.interpolationFactor(this.interpolation,n,t[a],t[a+1]),o=i[a].evaluate(e),l=i[a+1].evaluate(e);return"interpolate"===this.operator?Kt[this.type.kind.toLowerCase()](o,l,s):"interpolate-hcl"===this.operator?ui.reverse(ui.interpolate(ui.forward(o),ui.forward(l),s)):ci.reverse(ci.interpolate(ci.forward(o),ci.forward(l),s))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let i=0;i<this.labels.length;i++)t.push(this.labels[i],this.outputs[i].serialize());return t}}function pi(e,t,i,n){const r=n-i,a=e-i;return 0===r?0:1===t?a/r:(Math.pow(t,a)-1)/(Math.pow(t,r)-1)}class mi{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let i=null;const n=t.expectedType;n&&"value"!==n.kind&&(i=n);const r=[];for(const s of e.slice(1)){const e=t.parse(s,1+r.length,i,void 0,{typeAnnotation:"omit"});if(!e)return null;i=i||e.type,r.push(e)}const a=n&&r.some(e=>it(n,e.type));return new mi(a?Ze:i,r)}evaluate(e){let t,i=null,n=0;for(const r of this.args)if(n++,i=r.evaluate(e),i&&i instanceof dt&&!i.available&&(t||(t=i.name),i=null,n===this.args.length&&(i=t)),null!==i)break;return i}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class fi{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let r=1;r<e.length-1;r+=2){const n=e[r];if("string"!=typeof n)return t.error(`Expected string, but found ${typeof n} instead.`,r);if(/[^a-zA-Z0-9_]/.test(n))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const a=t.parse(e[r+1],r+1);if(!a)return null;i.push([n,a])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return n?new fi(i,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,i]of this.bindings)e.push(t,i.serialize());return e.push(this.result.serialize()),e}}class _i{constructor(e,t,i){this.type=e,this.index=t,this.input=i}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ve),n=t.parse(e[2],2,Qe(t.expectedType||Ze));return i&&n?new _i(n.type.itemType,i,n):null}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new yt(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new yt(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new yt(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class yi{constructor(e,t){this.type=$e,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ze),n=t.parse(e[2],2,Ze);return i&&n?nt(i.type,[$e,We,Ve,Ue,Ze])?new yi(i,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${et(i.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!rt(t,["boolean","string","number","null"]))throw new yt(`Expected first argument to be of type boolean, string, number or null, but found ${et(mt(t))} instead.`);if(!rt(i,["string","array"]))throw new yt(`Expected second argument to be of type array or string, but found ${et(mt(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class gi{constructor(e,t,i){this.type=Ve,this.needle=e,this.haystack=t,this.fromIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ze),n=t.parse(e[2],2,Ze);if(!i||!n)return null;if(!nt(i.type,[$e,We,Ve,Ue,Ze]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${et(i.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,Ve);return r?new gi(i,n,r):null}return new gi(i,n)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!rt(t,["boolean","string","number","null"]))throw new yt(`Expected first argument to be of type boolean, string, number or null, but found ${et(mt(t))} instead.`);if(!rt(i,["string","array"]))throw new yt(`Expected second argument to be of type array or string, but found ${et(mt(i))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return i.indexOf(t,n)}return i.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class vi{constructor(e,t,i,n,r,a){this.inputType=e,this.type=t,this.input=i,this.cases=n,this.outputs=r,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let i,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r={},a=[];for(let l=2;l<e.length-1;l+=2){let s=e[l];const o=e[l+1];Array.isArray(s)||(s=[s]);const c=t.concat(l);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(i){if(c.checkSubtype(i,mt(e)))return null}else i=mt(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=a.length}const u=t.parse(o,l,n);if(!u)return null;n=n||u.type,a.push(u)}const s=t.parse(e[1],1,Ze);if(!s)return null;const o=t.parse(e[e.length-1],e.length-1,n);return o?"value"!==s.type.kind&&t.concat(1).checkSubtype(i,s.type)?null:new vi(i,n,s,r,a,o):null}evaluate(e){const t=this.input.evaluate(e);return(mt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),i=[],n={};for(const a of t){const e=n[this.cases[a]];void 0===e?(n[this.cases[a]]=i.length,i.push([this.cases[a],[a]])):i[e][1].push(a)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[a,s]of i)e.push(1===s.length?r(s[0]):s.map(r)),e.push(this.outputs[a].serialize());return e.push(this.otherwise.serialize()),e}}class xi{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const n=[];for(let a=1;a<e.length-1;a+=2){const r=t.parse(e[a],a,$e);if(!r)return null;const s=t.parse(e[a+1],a+1,i);if(!s)return null;n.push([r,s]),i=i||s.type}const r=t.parse(e[e.length-1],e.length-1,i);return r?new xi(i,n,r):null}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class bi{constructor(e,t,i,n){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Ze),n=t.parse(e[2],2,Ve);if(!i||!n)return null;if(!nt(i.type,[Qe(Ze),We,Ze]))return t.error(`Expected first argument to be of type array or string, but found ${et(i.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,Ve);return r?new bi(i.type,i,n,r):null}return new bi(i.type,i,n)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);if(!rt(t,["string","array"]))throw new yt(`Expected first argument to be of type array or string, but found ${et(mt(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(i,n)}return t.slice(i)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function wi(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Mi(e,t,i,n){return 0===n.compare(t,i)}function Ti(e,t,i){const n="=="!==e&&"!="!==e;return class r{constructor(e,t,i){this.type=$e,this.lhs=e,this.rhs=t,this.collator=i,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const i=e[0];let a=t.parse(e[1],1,Ze);if(!a)return null;if(!wi(i,a.type))return t.concat(1).error(`"${i}" comparisons are not supported for type '${et(a.type)}'.`);let s=t.parse(e[2],2,Ze);if(!s)return null;if(!wi(i,s.type))return t.concat(2).error(`"${i}" comparisons are not supported for type '${et(s.type)}'.`);if(a.type.kind!==s.type.kind&&"value"!==a.type.kind&&"value"!==s.type.kind)return t.error(`Cannot compare types '${et(a.type)}' and '${et(s.type)}'.`);n&&("value"===a.type.kind&&"value"!==s.type.kind?a=new vt(s.type,[a]):"value"!==a.type.kind&&"value"===s.type.kind&&(s=new vt(a.type,[s])));let o=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==s.type.kind&&"value"!==a.type.kind&&"value"!==s.type.kind)return t.error("Cannot use collator to compare non-string types.");if(o=t.parse(e[3],3,Xe),!o)return null}return new r(a,s,o)}evaluate(r){const a=this.lhs.evaluate(r),s=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){const t=mt(a),i=mt(s);if(t.kind!==i.kind||"string"!==t.kind&&"number"!==t.kind)throw new yt(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${i.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=mt(a),i=mt(s);if("string"!==e.kind||"string"!==i.kind)return t(r,a,s)}return this.collator?i(r,a,s,this.collator.evaluate(r)):t(r,a,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const Li=Ti("==",(function(e,t,i){return t===i}),Mi),ki=Ti("!=",(function(e,t,i){return t!==i}),(function(e,t,i,n){return!Mi(0,t,i,n)})),Si=Ti("<",(function(e,t,i){return t<i}),(function(e,t,i,n){return n.compare(t,i)<0})),Di=Ti(">",(function(e,t,i){return t>i}),(function(e,t,i,n){return n.compare(t,i)>0})),Ei=Ti("<=",(function(e,t,i){return t<=i}),(function(e,t,i,n){return n.compare(t,i)<=0}));class Ci{constructor(e,t,i,n,r){this.type=We,this.number=e,this.locale=t,this.currency=i,this.minFractionDigits=n,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const i=t.parse(e[1],1,Ve);if(!i)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let r=null;if(n.locale&&(r=t.parse(n.locale,1,We),!r))return null;let a=null;if(n.currency&&(a=t.parse(n.currency,1,We),!a))return null;let s=null;if(n["min-fraction-digits"]&&(s=t.parse(n["min-fraction-digits"],1,Ve),!s))return null;let o=null;return n["max-fraction-digits"]&&(o=t.parse(n["max-fraction-digits"],1,Ve),!o)?null:new Ci(i,r,a,s,o)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Pi{constructor(e){this.type=Ve,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?t.error(`Expected argument of type string or array, but found ${et(i.type)} instead.`):new Pi(i):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new yt(`Expected value to be of type string or array, but found ${et(mt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const Yi={"==":Li,"!=":ki,">":Di,"<":Si,">=":Ti(">=",(function(e,t,i){return t>=i}),(function(e,t,i,n){return n.compare(t,i)>=0})),"<=":Ei,array:vt,at:_i,boolean:vt,case:xi,coalesce:mi,collator:St,format:xt,image:bt,in:yi,"index-of":gi,interpolate:hi,"interpolate-hcl":hi,"interpolate-lab":hi,length:Pi,let:fi,literal:_t,match:vi,number:vt,"number-format":Ci,object:vt,slice:bi,step:Xt,string:vt,"to-boolean":Mt,"to-color":Mt,"to-number":Mt,"to-string":Mt,var:Gt,within:Ut};function Ai(e,[t,i,n,r]){t=t.evaluate(e),i=i.evaluate(e),n=n.evaluate(e);const a=r?r.evaluate(e):1,s=ht(t,i,n,a);if(s)throw new yt(s);return new ot(t/255*a,i/255*a,n/255*a,a)}function Ii(e,t){return e in t}function zi(e,t){const i=t[e];return void 0===i?null:i}function Oi(e){return{type:e}}function Ri(e){return{result:"success",value:e}}function Fi(e){return{result:"error",value:e}}function Bi(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function ji(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Hi(e){return!!e.expression&&e.expression.interpolated}function Ni(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ui(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Vi(e){return e}function Wi(e,t,i){return void 0!==e?e:void 0!==t?t:void 0!==i?i:void 0}function $i(e,t,i,n,r){return Wi(typeof i===r?n[i]:void 0,e.default,t.default)}function Gi(e,t,i){if("number"!==Ni(i))return Wi(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[n-1][0])return e.stops[n-1][1];const r=Zt(e.stops.map(e=>e[0]),i);return e.stops[r][1]}function qi(e,t,i){const n=void 0!==e.base?e.base:1;if("number"!==Ni(i))return Wi(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[r-1][0])return e.stops[r-1][1];const a=Zt(e.stops.map(e=>e[0]),i),s=function(e,t,i,n){const r=n-i,a=e-i;return 0===r?0:1===t?a/r:(Math.pow(t,a)-1)/(Math.pow(t,r)-1)}(i,n,e.stops[a][0],e.stops[a+1][0]),o=e.stops[a][1],l=e.stops[a+1][1];let c=Kt[t.type]||Vi;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=di[e.colorSpace];c=(e,i)=>t.reverse(t.interpolate(t.forward(e),t.forward(i),s))}return"function"==typeof o.evaluate?{evaluate(...e){const t=o.evaluate.apply(void 0,e),i=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==i)return c(t,i,s)}}:c(o,l,s)}function Zi(e,t,i){return"color"===t.type?i=ot.parse(i):"formatted"===t.type?i=ut.fromString(i.toString()):"resolvedImage"===t.type?i=dt.fromString(i.toString()):Ni(i)===t.type||"enum"===t.type&&t.values[i]||(i=void 0),Wi(i,e.default,t.default)}kt.register(Yi,{error:[{kind:"error"},[We],(e,[t])=>{throw new yt(t.evaluate(e))}],typeof:[We,[Ze],(e,[t])=>et(mt(t.evaluate(e)))],"to-rgba":[Qe(Ve,4),[Ge],(e,[t])=>t.evaluate(e).toArray()],rgb:[Ge,[Ve,Ve,Ve],Ai],rgba:[Ge,[Ve,Ve,Ve,Ve],Ai],has:{type:$e,overloads:[[[We],(e,[t])=>Ii(t.evaluate(e),e.properties())],[[We,qe],(e,[t,i])=>Ii(t.evaluate(e),i.evaluate(e))]]},get:{type:Ze,overloads:[[[We],(e,[t])=>zi(t.evaluate(e),e.properties())],[[We,qe],(e,[t,i])=>zi(t.evaluate(e),i.evaluate(e))]]},"feature-state":[Ze,[We],(e,[t])=>zi(t.evaluate(e),e.featureState||{})],properties:[qe,[],e=>e.properties()],"geometry-type":[We,[],e=>e.geometryType()],id:[Ze,[],e=>e.id()],zoom:[Ve,[],e=>e.globals.zoom],"heatmap-density":[Ve,[],e=>e.globals.heatmapDensity||0],"line-progress":[Ve,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[Ve,[],e=>e.globals.skyRadialProgress||0],accumulated:[Ze,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[Ve,Oi(Ve),(e,t)=>{let i=0;for(const n of t)i+=n.evaluate(e);return i}],"*":[Ve,Oi(Ve),(e,t)=>{let i=1;for(const n of t)i*=n.evaluate(e);return i}],"-":{type:Ve,overloads:[[[Ve,Ve],(e,[t,i])=>t.evaluate(e)-i.evaluate(e)],[[Ve],(e,[t])=>-t.evaluate(e)]]},"/":[Ve,[Ve,Ve],(e,[t,i])=>t.evaluate(e)/i.evaluate(e)],"%":[Ve,[Ve,Ve],(e,[t,i])=>t.evaluate(e)%i.evaluate(e)],ln2:[Ve,[],()=>Math.LN2],pi:[Ve,[],()=>Math.PI],e:[Ve,[],()=>Math.E],"^":[Ve,[Ve,Ve],(e,[t,i])=>Math.pow(t.evaluate(e),i.evaluate(e))],sqrt:[Ve,[Ve],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[Ve,[Ve],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[Ve,[Ve],(e,[t])=>Math.log(t.evaluate(e))],log2:[Ve,[Ve],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[Ve,[Ve],(e,[t])=>Math.sin(t.evaluate(e))],cos:[Ve,[Ve],(e,[t])=>Math.cos(t.evaluate(e))],tan:[Ve,[Ve],(e,[t])=>Math.tan(t.evaluate(e))],asin:[Ve,[Ve],(e,[t])=>Math.asin(t.evaluate(e))],acos:[Ve,[Ve],(e,[t])=>Math.acos(t.evaluate(e))],atan:[Ve,[Ve],(e,[t])=>Math.atan(t.evaluate(e))],min:[Ve,Oi(Ve),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[Ve,Oi(Ve),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[Ve,[Ve],(e,[t])=>Math.abs(t.evaluate(e))],round:[Ve,[Ve],(e,[t])=>{const i=t.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[Ve,[Ve],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[Ve,[Ve],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[$e,[We,Ze],(e,[t,i])=>e.properties()[t.value]===i.value],"filter-id-==":[$e,[Ze],(e,[t])=>e.id()===t.value],"filter-type-==":[$e,[We],(e,[t])=>e.geometryType()===t.value],"filter-<":[$e,[We,Ze],(e,[t,i])=>{const n=e.properties()[t.value],r=i.value;return typeof n==typeof r&&n<r}],"filter-id-<":[$e,[Ze],(e,[t])=>{const i=e.id(),n=t.value;return typeof i==typeof n&&i<n}],"filter->":[$e,[We,Ze],(e,[t,i])=>{const n=e.properties()[t.value],r=i.value;return typeof n==typeof r&&n>r}],"filter-id->":[$e,[Ze],(e,[t])=>{const i=e.id(),n=t.value;return typeof i==typeof n&&i>n}],"filter-<=":[$e,[We,Ze],(e,[t,i])=>{const n=e.properties()[t.value],r=i.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[$e,[Ze],(e,[t])=>{const i=e.id(),n=t.value;return typeof i==typeof n&&i<=n}],"filter->=":[$e,[We,Ze],(e,[t,i])=>{const n=e.properties()[t.value],r=i.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[$e,[Ze],(e,[t])=>{const i=e.id(),n=t.value;return typeof i==typeof n&&i>=n}],"filter-has":[$e,[Ze],(e,[t])=>t.value in e.properties()],"filter-has-id":[$e,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[$e,[Qe(We)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[$e,[Qe(Ze)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[$e,[We,Qe(Ze)],(e,[t,i])=>i.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[$e,[We,Qe(Ze)],(e,[t,i])=>function(e,t,i,n){for(;i<=n;){const r=i+n>>1;if(t[r]===e)return!0;t[r]>e?n=r-1:i=r+1}return!1}(e.properties()[t.value],i.value,0,i.value.length-1)],all:{type:$e,overloads:[[[$e,$e],(e,[t,i])=>t.evaluate(e)&&i.evaluate(e)],[Oi($e),(e,t)=>{for(const i of t)if(!i.evaluate(e))return!1;return!0}]]},any:{type:$e,overloads:[[[$e,$e],(e,[t,i])=>t.evaluate(e)||i.evaluate(e)],[Oi($e),(e,t)=>{for(const i of t)if(i.evaluate(e))return!0;return!1}]]},"!":[$e,[$e],(e,[t])=>!t.evaluate(e)],"is-supported-script":[$e,[We],(e,[t])=>{const i=e.globals&&e.globals.isSupportedScript;return!i||i(t.evaluate(e))}],upcase:[We,[We],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[We,[We],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[We,Oi(Ze),(e,t)=>t.map(t=>ft(t.evaluate(e))).join("")],"resolved-locale":[We,[Xe],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Xi{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Lt,this._defaultValue=t?function(e){return"color"===e.type&&Ui(e.default)?new ot(0,0,0,0):"color"===e.type?ot.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,i,n,r,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,n,r,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new yt(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Ji(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Yi}function Ki(e,t){const i=new qt(Yi,[],t?function(e){const t={color:Ge,string:We,number:Ve,enum:We,boolean:$e,formatted:Je,resolvedImage:Ke};return"array"===e.type?Qe(t[e.value]||Ze,e.length):t[e.type]}(t):void 0),n=i.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Ri(new Xi(n,t)):Fi(i.errors)}class Qi{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Wt(t.expression)}evaluateWithoutErrorHandling(e,t,i,n,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,n,r,a)}evaluate(e,t,i,n,r,a){return this._styleExpression.evaluate(e,t,i,n,r,a)}}class en{constructor(e,t,i,n){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Wt(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,i,n,r,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,n,r,a)}evaluate(e,t,i,n,r,a){return this._styleExpression.evaluate(e,t,i,n,r,a)}interpolationFactor(e,t,i){return this.interpolationType?hi.interpolationFactor(this.interpolationType,e,t,i):0}}function tn(e,t){if("error"===(e=Ki(e,t)).result)return e;const i=e.value.expression,n=Vt(i);if(!n&&!Bi(t))return Fi([new He("","data expressions not supported")]);const r=$t(i,["zoom"]);if(!r&&!ji(t))return Fi([new He("","zoom expressions not supported")]);const a=function e(t){let i=null;if(t instanceof fi)i=e(t.result);else if(t instanceof mi){for(const n of t.args)if(i=e(n),i)break}else(t instanceof Xt||t instanceof hi)&&t.input instanceof kt&&"zoom"===t.input.name&&(i=t);return i instanceof He||t.eachChild(t=>{const n=e(t);n instanceof He?i=n:!i&&n?i=new He("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&n&&i!==n&&(i=new He("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}(i);return a||r?a instanceof He?Fi([a]):a instanceof hi&&!Hi(t)?Fi([new He("",'"interpolate" expressions cannot be used with this property')]):Ri(a?new en(n?"camera":"composite",e.value,a.labels,a instanceof hi?a.interpolation:void 0):new Qi(n?"constant":"source",e.value)):Fi([new He("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class nn{constructor(e,t){this._parameters=e,this._specification=t,Fe(this,function e(t,i){const n="color"===i.type,r=t.stops&&"object"==typeof t.stops[0][0],a=r||!(r||void 0!==t.property),s=t.type||(Hi(i)?"exponential":"interval");if(n&&((t=Fe({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],ot.parse(e[1])])),t.default=ot.parse(t.default?t.default:i.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!di[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let o,l,c;if("exponential"===s)o=qi;else if("interval"===s)o=Gi;else if("categorical"===s){o=$i,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==s)throw new Error(`Unknown function type "${s}"`);o=Zi}if(r){const n={},r=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],a=i[0].zoom;void 0===n[a]&&(n[a]={zoom:a,type:t.type,property:t.property,default:t.default,stops:[]},r.push(a)),n[a].stops.push([i[0].value,i[1]])}const a=[];for(const t of r)a.push([n[t].zoom,e(n[t],i)]);const s={name:"linear"};return{kind:"composite",interpolationType:s,interpolationFactor:hi.interpolationFactor.bind(void 0,s),zoomStops:a.map(e=>e[0]),evaluate:({zoom:e},n)=>qi({stops:a,base:t.base},i,e).evaluate(e,n)}}if(a){const e="exponential"===s?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:hi.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>o(t,i,e,l,c)}}return{kind:"source",evaluate(e,n){const r=n&&n.properties?n.properties[t.property]:void 0;return void 0===r?Wi(t.default,i.default):o(t,i,r,l,c)}}}(this._parameters,this._specification))}static deserialize(e){return new nn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function rn(e){const t=e.key,i=e.value,n=e.valueSpec||{},r=e.objectElementValidators||{},a=e.style,s=e.styleSpec;let o=[];const l=Ni(i);if("object"!==l)return[new Oe(t,i,`object expected, ${l} found`)];for(const c in i){const e=c.split(".")[0],l=n[e]||n["*"];let u;if(r[e])u=r[e];else if(n[e])u=Cn;else if(r["*"])u=r["*"];else{if(!n["*"]){o.push(new Oe(t,i[c],`unknown property "${c}"`));continue}u=Cn}o=o.concat(u({key:(t?t+".":t)+c,value:i[c],valueSpec:l,style:a,styleSpec:s,object:i,objectKey:c},i))}for(const c in n)r[c]||n[c].required&&void 0===n[c].default&&void 0===i[c]&&o.push(new Oe(t,i,`missing required property "${c}"`));return o}function an(e){const t=e.value,i=e.valueSpec,n=e.style,r=e.styleSpec,a=e.key,s=e.arrayElementValidator||Cn;if("array"!==Ni(t))return[new Oe(a,t,`array expected, ${Ni(t)} found`)];if(i.length&&t.length!==i.length)return[new Oe(a,t,`array length ${i.length} expected, length ${t.length} found`)];if(i["min-length"]&&t.length<i["min-length"])return[new Oe(a,t,`array length at least ${i["min-length"]} expected, length ${t.length} found`)];let o={type:i.value,values:i.values};r.$version<7&&(o.function=i.function),"object"===Ni(i.value)&&(o=i.value);let l=[];for(let c=0;c<t.length;c++)l=l.concat(s({array:t,arrayIndex:c,value:t[c],valueSpec:o,style:n,styleSpec:r,key:`${a}[${c}]`}));return l}function sn(e){const t=e.key,i=e.value,n=e.valueSpec;let r=Ni(i);return"number"===r&&i!=i&&(r="NaN"),"number"!==r?[new Oe(t,i,`number expected, ${r} found`)]:"minimum"in n&&i<n.minimum?[new Oe(t,i,`${i} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&i>n.maximum?[new Oe(t,i,`${i} is greater than the maximum value ${n.maximum}`)]:[]}function on(e){const t=e.valueSpec,i=Be(e.value.type);let n,r,a,s={};const o="categorical"!==i&&void 0===e.value.property,l=!o,c="array"===Ni(e.value.stops)&&"array"===Ni(e.value.stops[0])&&"object"===Ni(e.value.stops[0][0]),u=rn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new Oe(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;return t=t.concat(an({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Ni(n)&&0===n.length&&t.push(new Oe(e.key,n,"array must have at least one stop")),t},default:function(e){return Cn({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&o&&u.push(new Oe(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||u.push(new Oe(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!Hi(e.valueSpec)&&u.push(new Oe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Bi(e.valueSpec)?u.push(new Oe(e.key,e.value,"property functions not supported")):o&&!ji(e.valueSpec)&&u.push(new Oe(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==e.value.property||u.push(new Oe(e.key,e.value,'"property" property is required')),u;function d(e){let i=[];const n=e.value,o=e.key;if("array"!==Ni(n))return[new Oe(o,n,`array expected, ${Ni(n)} found`)];if(2!==n.length)return[new Oe(o,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==Ni(n[0]))return[new Oe(o,n,`object expected, ${Ni(n[0])} found`)];if(void 0===n[0].zoom)return[new Oe(o,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Oe(o,n,"object stop key must have value")];if(a&&a>Be(n[0].zoom))return[new Oe(o,n[0].zoom,"stop zoom values must appear in ascending order")];Be(n[0].zoom)!==a&&(a=Be(n[0].zoom),r=void 0,s={}),i=i.concat(rn({key:o+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:sn,value:h}}))}else i=i.concat(h({key:o+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return Ji(je(n[1]))?i.concat([new Oe(o+"[1]",n[1],"expressions are not allowed in function stops.")]):i.concat(Cn({key:o+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function h(e,a){const o=Ni(e.value),l=Be(e.value),c=null!==e.value?e.value:a;if(n){if(o!==n)return[new Oe(e.key,c,`${o} stop domain type must match previous stop domain type ${n}`)]}else n=o;if("number"!==o&&"string"!==o&&"boolean"!==o)return[new Oe(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==o&&"categorical"!==i){let n=`number expected, ${o} found`;return Bi(t)&&void 0===i&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Oe(e.key,c,n)]}return"categorical"!==i||"number"!==o||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===o&&void 0!==r&&l<r?[new Oe(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in s?[new Oe(e.key,c,"stop domain values must be unique")]:(s[l]=!0,[])):[new Oe(e.key,c,"integer expected, found "+l)]}}function ln(e){const t=("property"===e.expressionContext?tn:Ki)(je(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Oe(`${e.key}${t.key}`,e.value,t.message));const i=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!i.outputDefined())return[new Oe(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Wt(i))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Wt(i))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!$t(i,["zoom","feature-state"]))return[new Oe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Vt(i))return[new Oe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function cn(e){const t=e.key,i=e.value,n=e.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf(Be(i))&&r.push(new Oe(t,i,`expected one of [${n.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(n.values).indexOf(Be(i))&&r.push(new Oe(t,i,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(i)} found`)),r}function un(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!un(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const dn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function hn(e){if(null==e)return{filter:()=>!0,needGeometry:!1};un(e)||(e=mn(e));const t=Ki(e,dn);if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,i,n)=>t.value.evaluate(e,i,{},n),needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let i=1;i<t.length;i++)if(e(t[i]))return!0;return!1}(e)}}function pn(e,t){return e<t?-1:e>t?1:0}function mn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?fn(e[1],e[2],"=="):"!="===t?gn(fn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?fn(e[1],e[2],t):"any"===t?(i=e.slice(1),["any"].concat(i.map(mn))):"all"===t?["all"].concat(e.slice(1).map(mn)):"none"===t?["all"].concat(e.slice(1).map(mn).map(gn)):"in"===t?_n(e[1],e.slice(2)):"!in"===t?gn(_n(e[1],e.slice(2))):"has"===t?yn(e[1]):"!has"===t?gn(yn(e[1])):"within"!==t||e;var i}function fn(e,t,i){switch(e){case"$type":return["filter-type-"+i,t];case"$id":return["filter-id-"+i,t];default:return["filter-"+i,e,t]}}function _n(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(pn)]]:["filter-in-small",e,["literal",t]]}}function yn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function gn(e){return["!",e]}function vn(e){return un(je(e.value))?ln(Fe({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){const i=t.value,n=t.key;if("array"!==Ni(i))return[new Oe(n,i,`array expected, ${Ni(i)} found`)];const r=t.styleSpec;let a,s=[];if(i.length<1)return[new Oe(n,i,"filter array must have at least 1 element")];switch(s=s.concat(cn({key:n+"[0]",value:i[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),Be(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===Be(i[1])&&s.push(new Oe(n,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":3!==i.length&&s.push(new Oe(n,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(a=Ni(i[1]),"string"!==a&&s.push(new Oe(n+"[1]",i[1],`string expected, ${a} found`)));for(let e=2;e<i.length;e++)a=Ni(i[e]),"$type"===Be(i[1])?s=s.concat(cn({key:`${n}[${e}]`,value:i[e],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&s.push(new Oe(`${n}[${e}]`,i[e],`string, number, or boolean expected, ${a} found`));break;case"any":case"all":case"none":for(let r=1;r<i.length;r++)s=s.concat(e({key:`${n}[${r}]`,value:i[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":a=Ni(i[1]),2!==i.length?s.push(new Oe(n,i,`filter array for "${i[0]}" operator must have 2 elements`)):"string"!==a&&s.push(new Oe(n+"[1]",i[1],`string expected, ${a} found`));break;case"within":a=Ni(i[1]),2!==i.length?s.push(new Oe(n,i,`filter array for "${i[0]}" operator must have 2 elements`)):"object"!==a&&s.push(new Oe(n+"[1]",i[1],`object expected, ${a} found`))}return s}(e)}function xn(e,t){const i=e.key,n=e.style,r=e.styleSpec,a=e.value,s=e.objectKey,o=r[`${t}_${e.layerType}`];if(!o)return[];const l=s.match(/^(.*)-transition$/);if("paint"===t&&l&&o[l[1]]&&o[l[1]].transition)return Cn({key:i,value:a,valueSpec:r.transition,style:n,styleSpec:r});const c=e.valueSpec||o[s];if(!c)return[new Oe(i,a,`unknown property "${s}"`)];let u;if("string"===Ni(a)&&Bi(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new Oe(i,a,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===s&&n&&!n.glyphs&&d.push(new Oe(i,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&Ui(je(a))&&"identity"===Be(a.type)&&d.push(new Oe(i,a,'"text-font" does not support identity functions'))),d.concat(Cn({key:e.key,value:a,valueSpec:c,style:n,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:s}))}function bn(e){return xn(e,"paint")}function wn(e){return xn(e,"layout")}function Mn(e){let t=[];const i=e.value,n=e.key,r=e.style,a=e.styleSpec;i.type||i.ref||t.push(new Oe(n,i,'either "type" or "ref" is required'));let s=Be(i.type);const o=Be(i.ref);if(i.id){const a=Be(i.id);for(let s=0;s<e.arrayIndex;s++){const e=r.layers[s];Be(e.id)===a&&t.push(new Oe(n,i.id,`duplicate layer id "${i.id}", previously used at line ${e.id.__line__}`))}}if("ref"in i){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in i&&t.push(new Oe(n,i[e],`"${e}" is prohibited for ref layers`))}),r.layers.forEach(t=>{Be(t.id)===o&&(e=t)}),e?e.ref?t.push(new Oe(n,i.ref,"ref cannot reference another ref layer")):s=Be(e.type):t.push(new Oe(n,i.ref,`ref layer "${o}" not found`))}else if("background"!==s&&"sky"!==s)if(i.source){const e=r.sources&&r.sources[i.source],a=e&&Be(e.type);e?"vector"===a&&"raster"===s?t.push(new Oe(n,i.source,`layer "${i.id}" requires a raster source`)):"raster"===a&&"raster"!==s?t.push(new Oe(n,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==a||i["source-layer"]?"raster-dem"===a&&"hillshade"!==s?t.push(new Oe(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!i.paint||!i.paint["line-gradient"]||"geojson"===a&&e.lineMetrics||t.push(new Oe(n,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Oe(n,i,`layer "${i.id}" must specify a "source-layer"`)):t.push(new Oe(n,i.source,`source "${i.source}" not found`))}else t.push(new Oe(n,i,'missing required property "source"'));return t=t.concat(rn({key:n,value:i,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Cn({key:n+".type",value:i.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:i,objectKey:"type"}),filter:vn,layout:e=>rn({layer:i,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>wn(Fe({layerType:s},e))}}),paint:e=>rn({layer:i,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>bn(Fe({layerType:s},e))}})}})),t}function Tn(e){const t=e.value,i=e.key,n=Ni(t);return"string"!==n?[new Oe(i,t,`string expected, ${n} found`)]:[]}const Ln={promoteId:function({key:e,value:t}){if("string"===Ni(t))return Tn({key:e,value:t});{const i=[];for(const n in t)i.push(...Tn({key:`${e}.${n}`,value:t[n]}));return i}}};function kn(e){const t=e.value,i=e.key,n=e.styleSpec,r=e.style;if(!t.type)return[new Oe(i,t,'"type" is required')];const a=Be(t.type);let s;switch(a){case"vector":case"raster":case"raster-dem":return s=rn({key:i,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:Ln}),s;case"geojson":if(s=rn({key:i,value:t,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:Ln}),t.cluster)for(const e in t.clusterProperties){const[n,r]=t.clusterProperties[e],a="string"==typeof n?[n,["accumulated"],["get",e]]:n;s.push(...ln({key:`${i}.${e}.map`,value:r,expressionContext:"cluster-map"})),s.push(...ln({key:`${i}.${e}.reduce`,value:a,expressionContext:"cluster-reduce"}))}return s;case"video":return rn({key:i,value:t,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return rn({key:i,value:t,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new Oe(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return cn({key:i+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function Sn(e){const t=e.value,i=e.styleSpec,n=i.light,r=e.style;let a=[];const s=Ni(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Oe("light",t,`object expected, ${s} found`)]),a;for(const o in t){const e=o.match(/^(.*)-transition$/);a=a.concat(e&&n[e[1]]&&n[e[1]].transition?Cn({key:o,value:t[o],valueSpec:i.transition,style:r,styleSpec:i}):n[o]?Cn({key:o,value:t[o],valueSpec:n[o],style:r,styleSpec:i}):[new Oe(o,t[o],`unknown property "${o}"`)])}return a}function Dn(e){const t=e.value,i=e.key,n=e.style,r=e.styleSpec,a=r.terrain;let s=[];const o=Ni(t);if(void 0===t)return s;if("object"!==o)return s=s.concat([new Oe("terrain",t,`object expected, ${o} found`)]),s;for(const l in t){const e=l.match(/^(.*)-transition$/);s=s.concat(e&&a[e[1]]&&a[e[1]].transition?Cn({key:l,value:t[l],valueSpec:r.transition,style:n,styleSpec:r}):a[l]?Cn({key:l,value:t[l],valueSpec:a[l],style:n,styleSpec:r}):[new Oe(l,t[l],`unknown property "${l}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],r=e&&Be(e.type);e?"raster-dem"!==r&&s.push(new Oe(i,t.source,`terrain cannot be used with a source of type ${r}, it only be used with a "raster-dem" source type`)):s.push(new Oe(i,t.source,`source "${t.source}" not found`))}else s.push(new Oe(i,t,'terrain is missing required property "source"'));return s}const En={"*":()=>[],array:an,boolean:function(e){const t=e.value,i=e.key,n=Ni(t);return"boolean"!==n?[new Oe(i,t,`boolean expected, ${n} found`)]:[]},number:sn,color:function(e){const t=e.key,i=e.value,n=Ni(i);return"string"!==n?[new Oe(t,i,`color expected, ${n} found`)]:null===st(i)?[new Oe(t,i,`color expected, "${i}" found`)]:[]},constants:Re,enum:cn,filter:vn,function:on,layer:Mn,object:rn,source:kn,light:Sn,terrain:Dn,string:Tn,formatted:function(e){return 0===Tn(e).length?[]:ln(e)},resolvedImage:function(e){return 0===Tn(e).length?[]:ln(e)}};function Cn(e){const t=e.value,i=e.valueSpec,n=e.styleSpec;return i.expression&&Ui(Be(t))?on(e):i.expression&&Ji(je(t))?ln(e):i.type&&En[i.type]?En[i.type](e):rn(Fe({},e,{valueSpec:i.type?n[i.type]:i}))}function Pn(e){const t=e.value,i=e.key,n=Tn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Oe(i,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Oe(i,t,'"glyphs" url must include a "{range}" token'))),n}function Yn(e,t=ze){let i=[];return i=i.concat(Cn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Pn,"*":()=>[]}})),e.constants&&(i=i.concat(Re({key:"constants",value:e.constants,style:e,styleSpec:t}))),An(i)}function An(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function In(e){return function(...t){return An(e.apply(this,t))}}Yn.source=In(kn),Yn.light=In(Sn),Yn.terrain=In(Dn),Yn.layer=In(Mn),Yn.filter=In(vn),Yn.paintProperty=In(bn),Yn.layoutProperty=In(wn);const zn=Yn,On=zn.light,Rn=zn.paintProperty,Fn=zn.layoutProperty;function Bn(e,t){let i=!1;if(t&&t.length)for(const n of t)e.fire(new Ae(new Error(n.message))),i=!0;return i}var jn=Hn;function Hn(e,t,i){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(i=r[2]);for(var a=0;a<this.d*this.d;a++){var s=r[3+a],o=r[3+a+1];n.push(s===o?null:r.subarray(s,o))}var l=r[3+n.length+1];this.keys=r.subarray(r[3+n.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*i;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=i,this.scale=t/e,this.uid=0;var u=i/t*e;this.min=-u,this.max=e+u}Hn.prototype.insert=function(e,t,i,n,r){this._forEachCell(t,i,n,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},Hn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Hn.prototype._insertCell=function(e,t,i,n,r,a){this.cells[r].push(a)},Hn.prototype.query=function(e,t,i,n,r){var a=this.min,s=this.max;if(e<=a&&t<=a&&s<=i&&s<=n&&!r)return Array.prototype.slice.call(this.keys);var o=[];return this._forEachCell(e,t,i,n,this._queryCell,o,{},r),o},Hn.prototype._queryCell=function(e,t,i,n,r,a,s,o){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,d=0;d<l.length;d++){var h=l[d];if(void 0===s[h]){var p=4*h;(o?o(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&i>=u[p+0]&&n>=u[p+1])?(s[h]=!0,a.push(c[h])):s[h]=!1}}},Hn.prototype._forEachCell=function(e,t,i,n,r,a,s,o){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(i),d=this._convertToCellCoord(n),h=l;h<=u;h++)for(var p=c;p<=d;p++){var m=this.d*p+h;if((!o||o(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,i,n,m,a,s,o))return}},Hn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Hn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Hn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var r=new Int32Array(t+i+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var a=t,s=0;s<e.length;s++){var o=e[s];r[3+s]=a,r.set(o,a),a+=o.length}return r[3+e.length]=a,r.set(this.keys,a),r[3+e.length+1]=a+=this.keys.length,r.set(this.bboxes,a),a+=this.bboxes.length,r.buffer};const{ImageData:Nn,ImageBitmap:Un}=a,Vn={};function Wn(e,t,i={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Vn[e]={klass:t,omit:i.omit||[],shallow:i.shallow||[]}}Wn("Object",Object),jn.serialize=function(e,t){const i=e.toArrayBuffer();return t&&t.push(i),{buffer:i}},jn.deserialize=function(e){return new jn(e.buffer)},Wn("Grid",jn),Wn("Color",ot),Wn("Error",Error),Wn("ResolvedImage",dt),Wn("StylePropertyFunction",nn),Wn("StyleExpression",Xi,{omit:["_evaluator"]}),Wn("ZoomDependentExpression",en),Wn("ZoomConstantExpression",Qi),Wn("CompoundExpression",kt,{omit:["_evaluate"]});for(const Zd in Yi)Yi[Zd]._classRegistryKey||Wn("Expression_"+Zd,Yi[Zd]);function $n(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Gn(e){return Un&&e instanceof Un}function qn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if($n(e)||Gn(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const i=e;return t&&t.push(i.buffer),i}if(e instanceof Nn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const i=[];for(const n of e)i.push(qn(n,t));return i}if("object"==typeof e){const i=e.constructor,n=i._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");const r=i.serialize?i.serialize(e,t):{};if(!i.serialize){for(const i in e){if(!e.hasOwnProperty(i))continue;if(Vn[n].omit.indexOf(i)>=0)continue;const a=e[i];r[i]=Vn[n].shallow.indexOf(i)>=0?a:qn(a,t)}e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(r.$name=n),r}throw new Error("can't serialize object of type "+typeof e)}function Zn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||$n(e)||Gn(e)||ArrayBuffer.isView(e)||e instanceof Nn)return e;if(Array.isArray(e))return e.map(Zn);if("object"==typeof e){const t=e.$name||"Object",{klass:i}=Vn[t];if(!i)throw new Error("can't deserialize unregistered class "+t);if(i.deserialize)return i.deserialize(e);const n=Object.create(i.prototype);for(const r of Object.keys(e)){if("$name"===r)continue;const i=e[r];n[r]=Vn[t].shallow.indexOf(r)>=0?i:Zn(i)}return n}throw new Error("can't deserialize object of type "+typeof e)}class Xn{constructor(){this.first=!0}update(e,t){const i=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=i,!0))}}const Jn={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Kn(e){for(const t of e)if(tr(t.charCodeAt(0)))return!0;return!1}function Qn(e){for(const t of e)if(!er(t.charCodeAt(0)))return!1;return!0}function er(e){return!(Jn.Arabic(e)||Jn["Arabic Supplement"](e)||Jn["Arabic Extended-A"](e)||Jn["Arabic Presentation Forms-A"](e)||Jn["Arabic Presentation Forms-B"](e))}function tr(e){return!(746!==e&&747!==e&&(e<4352||!(Jn["Bopomofo Extended"](e)||Jn.Bopomofo(e)||Jn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Jn["CJK Compatibility Ideographs"](e)||Jn["CJK Compatibility"](e)||Jn["CJK Radicals Supplement"](e)||Jn["CJK Strokes"](e)||!(!Jn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Jn["CJK Unified Ideographs Extension A"](e)||Jn["CJK Unified Ideographs"](e)||Jn["Enclosed CJK Letters and Months"](e)||Jn["Hangul Compatibility Jamo"](e)||Jn["Hangul Jamo Extended-A"](e)||Jn["Hangul Jamo Extended-B"](e)||Jn["Hangul Jamo"](e)||Jn["Hangul Syllables"](e)||Jn.Hiragana(e)||Jn["Ideographic Description Characters"](e)||Jn.Kanbun(e)||Jn["Kangxi Radicals"](e)||Jn["Katakana Phonetic Extensions"](e)||Jn.Katakana(e)&&12540!==e||!(!Jn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Jn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Jn["Unified Canadian Aboriginal Syllabics"](e)||Jn["Unified Canadian Aboriginal Syllabics Extended"](e)||Jn["Vertical Forms"](e)||Jn["Yijing Hexagram Symbols"](e)||Jn["Yi Syllables"](e)||Jn["Yi Radicals"](e))))}function ir(e){return!(tr(e)||function(e){return!!(Jn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Jn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Jn["Letterlike Symbols"](e)||Jn["Number Forms"](e)||Jn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Jn["Control Pictures"](e)&&9251!==e||Jn["Optical Character Recognition"](e)||Jn["Enclosed Alphanumerics"](e)||Jn["Geometric Shapes"](e)||Jn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Jn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Jn["CJK Symbols and Punctuation"](e)||Jn.Katakana(e)||Jn["Private Use Area"](e)||Jn["CJK Compatibility Forms"](e)||Jn["Small Form Variants"](e)||Jn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function nr(e){return e>=1424&&e<=2303||Jn["Arabic Presentation Forms-A"](e)||Jn["Arabic Presentation Forms-B"](e)}function rr(e,t){return!(!t&&nr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Jn.Khmer(e))}function ar(e){for(const t of e)if(nr(t.charCodeAt(0)))return!0;return!1}let sr=null,or="unavailable",lr=null;const cr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(or="error"),sr&&sr(e)};function ur(){dr.fire(new Ye("pluginStateChange",{pluginStatus:or,pluginURL:lr}))}const dr=new Ie,hr=function(){return or},pr=function(){if("deferred"!==or||!lr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");or="loading",ur(),lr&&we({url:lr},e=>{e?cr(e):(or="loaded",ur())})},mr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>"loaded"===or||null!=mr.applyArabicShaping,isLoading:()=>"loading"===or,setState(e){or=e.pluginStatus,lr=e.pluginURL},isParsed:()=>null!=mr.applyArabicShaping&&null!=mr.processBidirectionalText&&null!=mr.processStyledBidirectionalText,getPluginURL:()=>lr};class fr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xn,this.transition={})}isSupportedScript(e){return function(e,t){for(const i of e)if(!rr(i.charCodeAt(0),t))return!1;return!0}(e,mr.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),i=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*t}}}class _r{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ui(e))return new nn(e,t);if(Ji(e)){const i=tn(e,t);if("error"===i.result)throw new Error(i.value.map(e=>`${e.key}: ${e.message}`).join(", "));return i.value}{let i=e;return"string"==typeof e&&"color"===t.type&&(i=ot.parse(e)),{kind:"constant",evaluate:()=>i}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,i){return this.property.possiblyEvaluate(this,e,t,i)}}class yr{constructor(e){this.property=e,this.value=new _r(e,void 0)}transitioned(e,t){return new vr(this.property,this.value,t,y({},e.transition,this.transition),e.now)}untransitioned(){return new vr(this.property,this.value,null,{},0)}}class gr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return k(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new yr(this._values[e].property)),this._values[e].value=new _r(this._values[e].property,null===t?void 0:k(t))}getTransition(e){return k(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new yr(this._values[e].property)),this._values[e].transition=k(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i);const n=this.getTransition(t);void 0!==n&&(e[t+"-transition"]=n)}return e}transitioned(e,t){const i=new xr(this._properties);for(const n of Object.keys(this._values))i._values[n]=this._values[n].transitioned(e,t._values[n]);return i}untransitioned(){const e=new xr(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class vr{constructor(e,t,i,n,r){this.property=e,this.value=t,this.begin=r+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=i)}possiblyEvaluate(e,t,i){const n=e.now||0,r=this.value.possiblyEvaluate(e,t,i),a=this.prior;if(a){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return a.possiblyEvaluate(e,t,i);{const s=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,i),r,d(s))}}return r}}class xr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,i){const n=new Mr(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(e,t,i);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class br{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return k(this._values[e].value)}setValue(e,t){this._values[e]=new _r(this._values[e].property,null===t?void 0:k(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i)}return e}possiblyEvaluate(e,t,i){const n=new Mr(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(e,t,i);return n}}class wr{constructor(e,t,i){this.property=e,this.value=t,this.parameters=i}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,i,n){return this.property.evaluate(this.value,this.parameters,e,t,i,n)}}class Mr{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Tr{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,i){const n=Kt[this.specification.type];return n?n(e,t,i):e}}class Lr{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,i,n){return new wr(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},i,n)}:e.expression,t)}interpolate(e,t,i){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new wr(this,{kind:"constant",value:void 0},e.parameters);const n=Kt[this.specification.type];return n?new wr(this,{kind:"constant",value:n(e.value.value,t.value.value,i)},e.parameters):e}evaluate(e,t,i,n,r,a){return"constant"===e.kind?e.value:e.evaluate(t,i,n,r,a)}}class kr extends Lr{possiblyEvaluate(e,t,i,n){if(void 0===e.value)return new wr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},i,n),a="resolvedImage"===e.property.specification.type&&"string"!=typeof r?r.name:r,s=this._calculate(a,a,a,t);return new wr(this,{kind:"constant",value:s},t)}if("camera"===e.expression.kind){const i=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new wr(this,{kind:"constant",value:i},t)}return new wr(this,e.expression,t)}evaluate(e,t,i,n,r,a){if("source"===e.kind){const s=e.evaluate(t,i,n,r,a);return this._calculate(s,s,s,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},i,n),e.evaluate({zoom:Math.floor(t.zoom)},i,n),e.evaluate({zoom:Math.floor(t.zoom)+1},i,n),t):e.value}_calculate(e,t,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:i,to:t}}interpolate(e){return e}}class Sr{constructor(e){this.specification=e}possiblyEvaluate(e,t,i,n){if(void 0!==e.value){if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},i,n);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new fr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new fr(Math.floor(t.zoom),t)),e.expression.evaluate(new fr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:i,to:t}}interpolate(e){return e}}class Dr{constructor(e){this.specification=e}possiblyEvaluate(e,t,i,n){return!!e.expression.evaluate(t,null,{},i,n)}interpolate(){return!1}}class Er{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const i=e[t];i.specification.overridable&&this.overridableProperties.push(t);const n=this.defaultPropertyValues[t]=new _r(i,void 0),r=this.defaultTransitionablePropertyValues[t]=new yr(i);this.defaultTransitioningPropertyValues[t]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}}}function Cr(e,t){return 256*(e=m(Math.floor(e),0,255))+m(Math.floor(t),0,255)}Wn("DataDrivenProperty",Lr),Wn("DataConstantProperty",Tr),Wn("CrossFadedDataDrivenProperty",kr),Wn("CrossFadedProperty",Sr),Wn("ColorRampProperty",Dr);const Pr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Yr{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ar{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ir(e,t=1){let i=0,n=0;return{members:e.map(e=>{const r=Pr[e.type].BYTES_PER_ELEMENT,a=i=zr(i,Math.max(t,r)),s=e.components||1;return n=Math.max(n,r),i+=r*s,{name:e.name,type:e.type,components:s,offset:a}}),size:zr(i,Math.max(n,t)),alignment:t}}function zr(e,t){return Math.ceil(e/t)*t}class Or extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const n=2*e;return this.int16[n+0]=t,this.int16[n+1]=i,e}}Or.prototype.bytesPerElement=4,Wn("StructArrayLayout2i4",Or);class Rr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}emplace(e,t,i,n,r){const a=4*e;return this.int16[a+0]=t,this.int16[a+1]=i,this.int16[a+2]=n,this.int16[a+3]=r,e}}Rr.prototype.bytesPerElement=8,Wn("StructArrayLayout4i8",Rr);class Fr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,n,r,a,s)}emplace(e,t,i,n,r,a,s,o){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.uint8[c+4]=n,this.uint8[c+5]=r,this.uint8[c+6]=a,this.uint8[c+7]=s,this.float32[u+2]=o,e}}Fr.prototype.bytesPerElement=12,Wn("StructArrayLayout2i4ub1f12",Fr);class Br extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const n=2*e;return this.float32[n+0]=t,this.float32[n+1]=i,e}}Br.prototype.bytesPerElement=8,Wn("StructArrayLayout2f8",Br);class jr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s,o,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,i,n,r,a,s,o,l,c)}emplace(e,t,i,n,r,a,s,o,l,c,u){const d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=i,this.uint16[d+2]=n,this.uint16[d+3]=r,this.uint16[d+4]=a,this.uint16[d+5]=s,this.uint16[d+6]=o,this.uint16[d+7]=l,this.uint16[d+8]=c,this.uint16[d+9]=u,e}}jr.prototype.bytesPerElement=20,Wn("StructArrayLayout10ui20",jr);class Hr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s,o,l,c,u,d){const h=this.length;return this.resize(h+1),this.emplace(h,e,t,i,n,r,a,s,o,l,c,u,d)}emplace(e,t,i,n,r,a,s,o,l,c,u,d,h){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=i,this.int16[p+2]=n,this.int16[p+3]=r,this.uint16[p+4]=a,this.uint16[p+5]=s,this.uint16[p+6]=o,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=h,e}}Hr.prototype.bytesPerElement=24,Wn("StructArrayLayout4i4ui4i24",Hr);class Nr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}emplace(e,t,i,n){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=i,this.float32[r+2]=n,e}}Nr.prototype.bytesPerElement=12,Wn("StructArrayLayout3f12",Nr);class Ur extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Ur.prototype.bytesPerElement=4,Wn("StructArrayLayout1ul4",Ur);class Vr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s,o,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,i,n,r,a,s,o,l,c)}emplace(e,t,i,n,r,a,s,o,l,c,u){const d=16*e,h=8*e;return this.int16[d+0]=t,this.int16[d+1]=i,this.float32[h+1]=n,this.float32[h+2]=r,this.float32[h+3]=a,this.float32[h+4]=s,this.int16[d+10]=o,this.uint32[h+6]=l,this.uint16[d+14]=c,this.uint16[d+15]=u,e}}Vr.prototype.bytesPerElement=32,Wn("StructArrayLayout2i4f1i1ul2ui32",Vr);class Wr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,n,r,a)}emplace(e,t,i,n,r,a,s){const o=6*e;return this.int16[o+0]=t,this.int16[o+1]=i,this.int16[o+2]=n,this.int16[o+3]=r,this.int16[o+4]=a,this.int16[o+5]=s,e}}Wr.prototype.bytesPerElement=12,Wn("StructArrayLayout2i2i2i12",Wr);class $r extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,n,r)}emplace(e,t,i,n,r,a){const s=4*e,o=8*e;return this.float32[s+0]=t,this.float32[s+1]=i,this.float32[s+2]=n,this.int16[o+6]=r,this.int16[o+7]=a,e}}$r.prototype.bytesPerElement=16,Wn("StructArrayLayout2f1f2i16",$r);class Gr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}emplace(e,t,i,n,r){const a=12*e,s=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=i,this.float32[s+1]=n,this.float32[s+2]=r,e}}Gr.prototype.bytesPerElement=12,Wn("StructArrayLayout2ub2f12",Gr);class qr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,i){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}emplace(e,t,i,n){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=i,this.uint16[r+2]=n,e}}qr.prototype.bytesPerElement=6,Wn("StructArrayLayout3ui6",qr);class Zr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_)}emplace(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y){const g=24*e,v=12*e,x=48*e;return this.int16[g+0]=t,this.int16[g+1]=i,this.uint16[g+2]=n,this.uint16[g+3]=r,this.uint32[v+2]=a,this.uint32[v+3]=s,this.uint32[v+4]=o,this.uint16[g+10]=l,this.uint16[g+11]=c,this.uint16[g+12]=u,this.float32[v+7]=d,this.float32[v+8]=h,this.uint8[x+36]=p,this.uint8[x+37]=m,this.uint8[x+38]=f,this.uint32[v+10]=_,this.int16[g+22]=y,e}}Zr.prototype.bytesPerElement=48,Wn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Zr);class Xr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y,g,v,x,b,w,M,T,L,k,S){const D=this.length;return this.resize(D+1),this.emplace(D,e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y,g,v,x,b,w,M,T,L,k,S)}emplace(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y,g,v,x,b,w,M,T,L,k,S,D){const E=34*e,C=17*e;return this.int16[E+0]=t,this.int16[E+1]=i,this.int16[E+2]=n,this.int16[E+3]=r,this.int16[E+4]=a,this.int16[E+5]=s,this.int16[E+6]=o,this.int16[E+7]=l,this.uint16[E+8]=c,this.uint16[E+9]=u,this.uint16[E+10]=d,this.uint16[E+11]=h,this.uint16[E+12]=p,this.uint16[E+13]=m,this.uint16[E+14]=f,this.uint16[E+15]=_,this.uint16[E+16]=y,this.uint16[E+17]=g,this.uint16[E+18]=v,this.uint16[E+19]=x,this.uint16[E+20]=b,this.uint16[E+21]=w,this.uint16[E+22]=M,this.uint32[C+12]=T,this.float32[C+13]=L,this.float32[C+14]=k,this.float32[C+15]=S,this.float32[C+16]=D,e}}Xr.prototype.bytesPerElement=68,Wn("StructArrayLayout8i15ui1ul4f68",Xr);class Jr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Jr.prototype.bytesPerElement=4,Wn("StructArrayLayout1f4",Jr);class Kr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,i){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}emplace(e,t,i,n){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=i,this.int16[r+2]=n,e}}Kr.prototype.bytesPerElement=6,Wn("StructArrayLayout3i6",Kr);class Qr extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,i){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i)}emplace(e,t,i,n){const r=4*e;return this.uint32[2*e+0]=t,this.uint16[r+2]=i,this.uint16[r+3]=n,e}}Qr.prototype.bytesPerElement=8,Wn("StructArrayLayout1ul2ui8",Qr);class ea extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=i,e}}ea.prototype.bytesPerElement=4,Wn("StructArrayLayout2ui4",ea);class ta extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}ta.prototype.bytesPerElement=2,Wn("StructArrayLayout1ui2",ta);class ia extends Ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i,n)}emplace(e,t,i,n,r){const a=4*e;return this.float32[a+0]=t,this.float32[a+1]=i,this.float32[a+2]=n,this.float32[a+3]=r,e}}ia.prototype.bytesPerElement=16,Wn("StructArrayLayout4f16",ia);class na extends Yr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new n(this.anchorPointX,this.anchorPointY)}}na.prototype.size=32;class ra extends Vr{get(e){return new na(this,e)}}Wn("CollisionBoxArray",ra);class aa extends Yr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}aa.prototype.size=48;class sa extends Zr{get(e){return new aa(this,e)}}Wn("PlacedSymbolArray",sa);class oa extends Yr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}oa.prototype.size=68;class la extends Xr{get(e){return new oa(this,e)}}Wn("SymbolInstanceArray",la);class ca extends Jr{getoffsetX(e){return this.float32[1*e+0]}}Wn("GlyphOffsetArray",ca);class ua extends Kr{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Wn("SymbolLineVertexArray",ua);class da extends Yr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}da.prototype.size=8;class ha extends Qr{get(e){return new da(this,e)}}Wn("FeatureIndexArray",ha);const pa=Ir([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ma=at((function(e){e.exports=function(e,t){var i,n,r,a,s,o,l,c;for(n=e.length-(i=3&e.length),r=t,s=3432918353,o=461845907,c=0;c<n;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(a=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),fa=at((function(e){e.exports=function(e,t){for(var i,n=e.length,r=t^n,a=0;n>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),_a=ma,ya=fa;_a.murmur3=ma,_a.murmur2=ya;class ga{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,i,n){this.ids.push(va(e)),this.positions.push(t,i,n)}getPositions(e){const t=va(e);let i=0,n=this.ids.length-1;for(;i<n;){const e=i+n>>1;this.ids[e]>=t?n=e:i=e+1}const r=[];for(;this.ids[i]===t;)r.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return r}static serialize(e,t){const i=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,i,n,r){for(;n<r;){const a=t[n+r>>1];let s=n-1,o=r+1;for(;;){do{s++}while(t[s]<a);do{o--}while(t[o]>a);if(s>=o)break;xa(t,s,o),xa(i,3*s,3*o),xa(i,3*s+1,3*o+1),xa(i,3*s+2,3*o+2)}o-n<r-o?(e(t,i,n,o),n=o+1):(e(t,i,o+1,r),r=o)}}(i,n,0,i.length-1),t&&t.push(i.buffer,n.buffer),{ids:i,positions:n}}static deserialize(e){const t=new ga;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function va(e){const t=+e;return!isNaN(t)&&t<=o?t:_a(String(e))}function xa(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}Wn("FeaturePositionMap",ga);class ba{constructor(e,t){this.gl=e.gl,this.location=t}}class wa extends ba{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class Ma extends ba{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Ta extends ba{constructor(e,t){super(e,t),this.current=ot.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const La=new Float32Array(16),ka=new Float32Array(9);function Sa(e){return[Cr(255*e.r,255*e.g),Cr(255*e.b,255*e.a)]}class Da{constructor(e,t,i){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=i}setUniform(e,t,i){e.set(i.constantOr(this.value))}getBinding(e,t,i){return"color"===this.type?new Ta(e,t):new wa(e,t)}}class Ea{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,i,n){const r="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;r&&e.set(r)}getBinding(e,t,i){return"u_pattern"===i.substr(0,9)?new Ma(e,t):new wa(e,t)}}class Ca{constructor(e,t,i,n){this.expression=e,this.type=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===i?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(e,t,i,n,r){const a=this.paintVertexArray.length,s=this.expression.evaluate(new fr(0),t,{},n,[],r);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,i,n){const r=this.expression.evaluate({zoom:0},i,n);this._setPaintValue(e,t,r)}_setPaintValue(e,t,i){if("color"===this.type){const n=Sa(i);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Pa{constructor(e,t,i,n,r,a){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=i,this.useIntegerZoom=n,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===i?4:2,offset:0})),this.paintVertexArray=new a}populatePaintArray(e,t,i,n,r){const a=this.expression.evaluate(new fr(this.zoom),t,{},n,[],r),s=this.expression.evaluate(new fr(this.zoom+1),t,{},n,[],r),o=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(o,e,a,s)}updatePaintArray(e,t,i,n){const r=this.expression.evaluate({zoom:this.zoom},i,n),a=this.expression.evaluate({zoom:this.zoom+1},i,n);this._setPaintValue(e,t,r,a)}_setPaintValue(e,t,i,n){if("color"===this.type){const r=Sa(i),a=Sa(n);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1],a[0],a[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i,n);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const i=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=m(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);e.set(n)}getBinding(e,t,i){return new wa(e,t)}}class Ya{constructor(e,t,i,n,r,a){this.expression=e,this.type=t,this.useIntegerZoom=i,this.zoom=n,this.layerId=a,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r}populatePaintArray(e,t,i){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],i)}updatePaintArray(e,t,i,n,r){this._setPaintValues(e,t,i.patterns&&i.patterns[this.layerId],r)}_setPaintValues(e,t,i,n){if(!n||!i)return;const{min:r,mid:a,max:s}=i,o=n[r],l=n[a],c=n[s];if(o&&l&&c)for(let u=e;u<t;u++)this.zoomInPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],l.pixelRatio,o.pixelRatio),this.zoomOutPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,pa.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,pa.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Aa{constructor(e,t,i=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const r in e.paint._values){if(!i(r))continue;const a=e.paint.get(r);if(!(a instanceof wr&&Bi(a.property.specification)))continue;const s=za(r,e.type),o=a.value,l=a.property.specification.type,c=a.property.useIntegerZoom,u=a.property.specification["property-type"],d="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===o.kind)this.binders[r]=d?new Ea(o.value,s):new Da(o.value,s,l),n.push("/u_"+r);else if("source"===o.kind||d){const i=Oa(r,l,"source");this.binders[r]=d?new Ya(o,l,c,t,i,e.id):new Ca(o,s,l,i),n.push("/a_"+r)}else{const e=Oa(r,l,"composite");this.binders[r]=new Pa(o,s,l,c,t,e),n.push("/z_"+r)}}this.cacheKey=n.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Ca||t instanceof Pa?t.maxValue:0}populatePaintArrays(e,t,i,n,r){for(const a in this.binders){const s=this.binders[a];(s instanceof Ca||s instanceof Pa||s instanceof Ya)&&s.populatePaintArray(e,t,i,n,r)}}setConstantPatternPositions(e,t){for(const i in this.binders){const n=this.binders[i];n instanceof Ea&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,i,n,r){let a=!1;for(const s in e){const o=t.getPositions(s);for(const t of o){const o=i.feature(t.index);for(const i in this.binders){const l=this.binders[i];if((l instanceof Ca||l instanceof Pa||l instanceof Ya)&&!0===l.expression.isStateDependent){const c=n.paint.get(i);l.expression=c.value,l.updatePaintArray(t.start,t.end,o,e[s],r),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const i=this.binders[t];(i instanceof Da||i instanceof Ea)&&e.push(...i.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Ca||i instanceof Pa)for(let t=0;t<i.paintVertexAttributes.length;t++)e.push(i.paintVertexAttributes[t].name);else if(i instanceof Ya)for(let t=0;t<pa.members.length;t++)e.push(pa.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Da||i instanceof Ea||i instanceof Pa)for(const t of i.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const i=[];for(const n in this.binders){const r=this.binders[n];if(r instanceof Da||r instanceof Ea||r instanceof Pa)for(const a of r.uniformNames)if(t[a]){const s=r.getBinding(e,t[a],a);i.push({name:a,property:n,binding:s})}}return i}setUniforms(e,t,i,n){for(const{name:r,property:a,binding:s}of t)this.binders[a].setUniform(s,n,i.get(a),r)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const i=this.binders[t];if(e&&i instanceof Ya){const t=2===e.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(i instanceof Ca||i instanceof Pa)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(e){for(const t in this.binders){const i=this.binders[t];(i instanceof Ca||i instanceof Pa||i instanceof Ya)&&i.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Ca||t instanceof Pa||t instanceof Ya)&&t.destroy()}}}class Ia{constructor(e,t,i=(()=>!0)){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new Aa(n,t,i);this.needsUpload=!1,this._featureMap=new ga,this._bufferOffset=0}populatePaintArrays(e,t,i,n,r,a){for(const s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,n,r,a);void 0!==t.id&&this._featureMap.add(t.id,i,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,i,n){for(const r of i)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(e,this._featureMap,t,r,n)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function za(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Oa(e,t,i){const n={color:{source:Br,composite:ia},number:{source:Jr,composite:Br}},r=function(e){return{"line-pattern":{source:jr,composite:jr},"fill-pattern":{source:jr,composite:jr},"fill-extrusion-pattern":{source:jr,composite:jr}}[e]}(e);return r&&r[i]||n[t][i]}Wn("ConstantBinder",Da),Wn("CrossFadedConstantBinder",Ea),Wn("SourceExpressionBinder",Ca),Wn("CrossFadedCompositeBinder",Ya),Wn("CompositeExpressionBinder",Pa),Wn("ProgramConfiguration",Aa,{omit:["_buffers"]}),Wn("ProgramConfigurationSet",Ia);class Ra extends Ie{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new br(t.layout)),t.paint)){this._transitionablePaint=new gr(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Mr(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,i={}){null!=t&&this._validate(Fn,`layers.${this.id}.layout.${e}`,e,t,i)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return M(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,i={}){if(null!=t&&this._validate(Rn,`layers.${this.id}.paint.${e}`,e,t,i))return!1;if(M(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;{const i=this._transitionablePaint._values[e],n="cross-faded-data-driven"===i.property.specification["property-type"],r=i.value.isDataDriven(),a=i.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const s=this._transitionablePaint._values[e].value;return s.isDataDriven()||r||n||this._handleOverridablePaintPropertyUpdate(e,a,s)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,i){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),L(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,i,n,r={}){return(!r||!1!==r.validate)&&Bn(this,e.call(zn,{key:t,layerType:this.type,objectKey:i,value:n,styleSpec:ze,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof wr&&Bi(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const Fa=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ba}=Fa;class ja{constructor(e=[]){this.segments=e}prepareSegment(e,t,i,n){let r=this.segments[this.segments.length-1];return e>ja.MAX_VERTEX_ARRAY_LENGTH&&D(`Max vertices per segment is ${ja.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!r||r.vertexLength+e>ja.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==n)&&(r={vertexOffset:t.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==n&&(r.sortKey=n),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,i,n){return new ja([{vertexOffset:e,primitiveOffset:t,vertexLength:i,primitiveLength:n,vaos:{},sortKey:0}])}}ja.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wn("SegmentVector",ja);const Ha=Math.pow(2,14)-1,Na=-Ha-1;function Ua(e){const t=8192/e.extent,i=e.loadGeometry();for(let n=0;n<i.length;n++){const e=i[n];for(let i=0;i<e.length;i++){const n=e[i],r=Math.round(n.x*t),a=Math.round(n.y*t);n.x=m(r,Na,Ha),n.y=m(a,Na,Ha),(r<n.x||r>n.x+1||a<n.y||a>n.y+1)&&D("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return i}function Va(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ua(e):[]}}function Wa(e,t,i,n,r){e.emplaceBack(2*t+(n+1)/2,2*i+(r+1)/2)}class $a{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Or,this.indexArray=new qr,this.segments=new ja,this.programConfigurations=new Ia(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,i){const n=this.layers[0],r=[];let a=null;"circle"===n.type&&(a=n.layout.get("circle-sort-key"));for(const{feature:s,id:o,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Va(s,e);if(!this.layers[0]._featureFilter.filter(new fr(this.zoom),t,i))continue;const n=a?a.evaluate(t,{},i):void 0,u={id:o,properties:s.properties,type:s.type,sourceLayerIndex:c,index:l,geometry:e?t.geometry:Ua(s),patterns:{},sortKey:n};r.push(u)}a&&r.sort((e,t)=>e.sortKey-t.sortKey);for(const s of r){const{geometry:n,index:r,sourceLayerIndex:a}=s,o=e[r].feature;this.addFeature(s,n,r,i),t.featureIndex.insert(o,n,r,a,this.index)}}update(e,t,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ba),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,i,n){for(const r of t)for(const t of r){const i=t.x,n=t.y;if(i<0||i>=8192||n<0||n>=8192)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),a=r.vertexLength;Wa(this.layoutVertexArray,i,n,-1,-1),Wa(this.layoutVertexArray,i,n,1,-1),Wa(this.layoutVertexArray,i,n,1,1),Wa(this.layoutVertexArray,i,n,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+3,a+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,{},n)}}function Ga(e,t){for(let i=0;i<e.length;i++)if(is(t,e[i]))return!0;for(let i=0;i<t.length;i++)if(is(e,t[i]))return!0;return!!Ja(e,t)}function qa(e,t,i){return!!is(e,t)||!!Qa(t,e,i)}function Za(e,t){if(1===e.length)return ts(t,e[0]);for(let i=0;i<t.length;i++){const n=t[i];for(let t=0;t<n.length;t++)if(is(e,n[t]))return!0}for(let i=0;i<e.length;i++)if(ts(t,e[i]))return!0;for(let i=0;i<t.length;i++)if(Ja(e,t[i]))return!0;return!1}function Xa(e,t,i){if(e.length>1){if(Ja(e,t))return!0;for(let n=0;n<t.length;n++)if(Qa(t[n],e,i))return!0}for(let n=0;n<e.length;n++)if(Qa(e[n],t,i))return!0;return!1}function Ja(e,t){if(0===e.length||0===t.length)return!1;for(let i=0;i<e.length-1;i++){const n=e[i],r=e[i+1];for(let e=0;e<t.length-1;e++)if(Ka(n,r,t[e],t[e+1]))return!0}return!1}function Ka(e,t,i,n){return E(e,i,n)!==E(t,i,n)&&E(e,t,i)!==E(e,t,n)}function Qa(e,t,i){const n=i*i;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(es(e,t[r-1],t[r])<n)return!0;return!1}function es(e,t,i){const n=t.distSqr(i);if(0===n)return e.distSqr(t);const r=((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/n;return e.distSqr(r<0?t:r>1?i:i.sub(t)._mult(r)._add(t))}function ts(e,t){let i,n,r,a=!1;for(let s=0;s<e.length;s++){i=e[s];for(let e=0,s=i.length-1;e<i.length;s=e++)n=i[e],r=i[s],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(a=!a)}return a}function is(e,t){let i=!1;for(let n=0,r=e.length-1;n<e.length;r=n++){const a=e[n],s=e[r];a.y>t.y!=s.y>t.y&&t.x<(s.x-a.x)*(t.y-a.y)/(s.y-a.y)+a.x&&(i=!i)}return i}function ns(e,t,i,r,a){for(const n of e)if(t<=n.x&&i<=n.y&&r>=n.x&&a>=n.y)return!0;const s=[new n(t,i),new n(t,a),new n(r,a),new n(r,i)];if(e.length>2)for(const n of s)if(is(e,n))return!0;for(let n=0;n<e.length-1;n++)if(rs(e[n],e[n+1],s))return!0;return!1}function rs(e,t,i){const n=i[0],r=i[2];if(e.x<n.x&&t.x<n.x||e.x>r.x&&t.x>r.x||e.y<n.y&&t.y<n.y||e.y>r.y&&t.y>r.y)return!1;const a=E(e,t,i[0]);return a!==E(e,t,i[1])||a!==E(e,t,i[2])||a!==E(e,t,i[3])}function as(e,t,i){const n=t.paint.get(e).value;return"constant"===n.kind?n.value:i.programConfigurations.get(t.id).getMaxValue(e)}function ss(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function os(e,t,i,r,a){if(!t[0]&&!t[1])return e;const s=n.convert(t)._mult(a);"viewport"===i&&s._rotate(-r);const o=[];for(let n=0;n<e.length;n++)o.push(e[n].sub(s));return o}function ls(e,t,i,r){const a=n.convert(e)._mult(r);return"viewport"===t&&a._rotate(-i),a}Wn("CircleBucket",$a,{omit:["layers"]});const cs=new Er({"circle-sort-key":new Lr(ze.layout_circle["circle-sort-key"])});var us={paint:new Er({"circle-radius":new Lr(ze.paint_circle["circle-radius"]),"circle-color":new Lr(ze.paint_circle["circle-color"]),"circle-blur":new Lr(ze.paint_circle["circle-blur"]),"circle-opacity":new Lr(ze.paint_circle["circle-opacity"]),"circle-translate":new Tr(ze.paint_circle["circle-translate"]),"circle-translate-anchor":new Tr(ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Tr(ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Tr(ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Lr(ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Lr(ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Lr(ze.paint_circle["circle-stroke-opacity"])}),layout:cs},ds="undefined"!=typeof Float32Array?Float32Array:Array;function hs(){var e=new ds(9);return ds!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ps(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ms(e,t,i){var n=t[0],r=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],m=t[11],f=t[12],_=t[13],y=t[14],g=t[15],v=i[0],x=i[1],b=i[2],w=i[3];return e[0]=v*n+x*o+b*d+w*f,e[1]=v*r+x*l+b*h+w*_,e[2]=v*a+x*c+b*p+w*y,e[3]=v*s+x*u+b*m+w*g,e[4]=(v=i[4])*n+(x=i[5])*o+(b=i[6])*d+(w=i[7])*f,e[5]=v*r+x*l+b*h+w*_,e[6]=v*a+x*c+b*p+w*y,e[7]=v*s+x*u+b*m+w*g,e[8]=(v=i[8])*n+(x=i[9])*o+(b=i[10])*d+(w=i[11])*f,e[9]=v*r+x*l+b*h+w*_,e[10]=v*a+x*c+b*p+w*y,e[11]=v*s+x*u+b*m+w*g,e[12]=(v=i[12])*n+(x=i[13])*o+(b=i[14])*d+(w=i[15])*f,e[13]=v*r+x*l+b*h+w*_,e[14]=v*a+x*c+b*p+w*y,e[15]=v*s+x*u+b*m+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var fs=ms;function _s(){var e=new ds(3);return ds!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ys(e){var t=new ds(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function gs(e){return Math.hypot(e[0],e[1],e[2])}function vs(e,t,i){var n=new ds(3);return n[0]=e,n[1]=t,n[2]=i,n}function xs(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function bs(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function ws(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Ms(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function Ts(e,t){var i=t[0],n=t[1],r=t[2],a=i*i+n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function Ls(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ks(e,t,i){var n=t[0],r=t[1],a=t[2],s=i[0],o=i[1],l=i[2];return e[0]=r*l-a*o,e[1]=a*s-n*l,e[2]=n*o-r*s,e}function Ss(e,t,i){var n=i[0],r=i[1],a=i[2],s=t[0],o=t[1],l=t[2],c=r*l-a*o,u=a*s-n*l,d=n*o-r*s,h=r*d-a*u,p=a*c-n*d,m=n*u-r*c,f=2*i[3];return u*=f,d*=f,p*=2,m*=2,e[0]=s+(c*=f)+(h*=2),e[1]=o+u+p,e[2]=l+d+m,e}var Ds,Es=bs,Cs=gs;function Ps(e,t,i){var n=t[0],r=t[1],a=t[2],s=t[3];return e[0]=i[0]*n+i[4]*r+i[8]*a+i[12]*s,e[1]=i[1]*n+i[5]*r+i[9]*a+i[13]*s,e[2]=i[2]*n+i[6]*r+i[10]*a+i[14]*s,e[3]=i[3]*n+i[7]*r+i[11]*a+i[15]*s,e}function Ys(){var e=new ds(4);return ds!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function As(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Is(e,t,i){i*=.5;var n=t[0],r=t[1],a=t[2],s=t[3],o=Math.sin(i),l=Math.cos(i);return e[0]=n*l+s*o,e[1]=r*l+a*o,e[2]=a*l-r*o,e[3]=s*l-n*o,e}_s(),Ds=new ds(4),ds!=Float32Array&&(Ds[0]=0,Ds[1]=0,Ds[2]=0,Ds[3]=0),_s(),vs(1,0,0),vs(0,1,0),Ys(),Ys(),hs();class zs{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,i){const n=Math.pow(2,i),r=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(i=>{const r=Ps([],i,e),a=1/r[3]/t*n;return function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}(r,r,[a,a,1/r[3],a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=Ts([],ks([],Es([],r[e[0]],r[e[1]]),Es([],r[e[2]],r[e[1]]))),i=-Ls(t,r[e[1]]);return t.concat(i)});return new zs(r,a)}}class Os{constructor(e,t){this.min=e,this.max=t,this.center=ws([],xs([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],i=ys(this.min),n=ys(this.max);for(let r=0;r<t.length;r++)i[r]=t[r]?this.min[r]:this.center[r],n[r]=t[r]?this.center[r]:this.max[r];return n[2]=this.max[2],new Os(i,n)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}intersects(e){const t=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let i=!0;for(let a=0;a<e.planes.length;a++){const s=e.planes[a];let o=0;for(let e=0;e<t.length;e++)o+=(n=s)[0]*(r=t[e])[0]+n[1]*r[1]+n[2]*r[2]+n[3]*r[3]>=0;if(0===o)return 0;o!==t.length&&(i=!1)}var n,r;if(i)return 2;for(let a=0;a<3;a++){let t=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let n=0;n<e.points.length;n++){const r=e.points[n][a]-this.min[a];t=Math.min(t,r),i=Math.max(i,r)}if(i<0||t>this.max[a]-this.min[a])return 0}return 1}}function Rs(e,t,i){const r=Ps([],[e.x,e.y,t,1],i);return new n(r[0]/r[3],r[1]/r[3])}const Fs=vs(0,0,0),Bs=vs(0,0,1);function js(e,t){const i=_s();return Fs[2]=t,e.intersectsPlane(Fs,Bs,i),new n(i[0],i[1])}class Hs extends $a{}function Ns(e,{width:t,height:i},n,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==t*i*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(t*i*n);return e.width=t,e.height=i,e.data=r,e}function Us(e,{width:t,height:i},n){if(t===e.width&&i===e.height)return;const r=Ns({},{width:t,height:i},n);Vs(e,r,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,i)},n),e.width=t,e.height=i,e.data=r.data}function Vs(e,t,i,n,r,a){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const s=e.data,o=t.data;for(let l=0;l<r.height;l++){const c=((i.y+l)*e.width+i.x)*a,u=((n.y+l)*t.width+n.x)*a;for(let e=0;e<r.width*a;e++)o[u+e]=s[c+e]}return t}Wn("HeatmapBucket",Hs,{omit:["layers"]});class Ws{constructor(e,t){Ns(this,e,1,t)}resize(e){Us(this,e,1)}clone(){return new Ws({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,n,r){Vs(e,t,i,n,r,1)}}class $s{constructor(e,t){Ns(this,e,4,t)}resize(e){Us(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new $s({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,n,r){Vs(e,t,i,n,r,4)}}Wn("AlphaImage",Ws),Wn("RGBAImage",$s);var Gs={paint:new Er({"heatmap-radius":new Lr(ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Lr(ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Tr(ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Dr(ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Tr(ze.paint_heatmap["heatmap-opacity"])})};function qs(e){const t={},i=e.resolution||256,n=e.clips?e.clips.length:1,r=e.image||new $s({width:i,height:n}),a=(i,n,a)=>{t[e.evaluationKey]=a;const s=e.expression.evaluate(t);r.data[i+n+0]=Math.floor(255*s.r/s.a),r.data[i+n+1]=Math.floor(255*s.g/s.a),r.data[i+n+2]=Math.floor(255*s.b/s.a),r.data[i+n+3]=Math.floor(255*s.a)};if(e.clips)for(let s=0,o=0;s<n;++s,o+=4*i)for(let t=0,n=0;t<i;t++,n+=4){const r=t/(i-1),{start:l,end:c}=e.clips[s];a(o,n,l*(1-r)+c*r)}else for(let s=0,o=0;s<i;s++,o+=4)a(0,o,s/(i-1));return r}var Zs={paint:new Er({"hillshade-illumination-direction":new Tr(ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Tr(ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Tr(ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Tr(ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Tr(ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Tr(ze.paint_hillshade["hillshade-accent-color"])})};const Xs=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:Js}=Xs;var Ks=eo,Qs=eo;function eo(e,t,i){i=i||2;var n,r,a,s,o,l,c,u=t&&t.length,d=u?t[0]*i:e.length,h=to(e,0,d,i,!0),p=[];if(!h||h.next===h.prev)return p;if(u&&(h=function(e,t,i,n){var r,a,s,o=[];for(r=0,a=t.length;r<a;r++)(s=to(e,t[r]*n,r<a-1?t[r+1]*n:e.length,n,!1))===s.next&&(s.steiner=!0),o.push(po(s));for(o.sort(lo),r=0;r<o.length;r++)co(o[r],i),i=io(i,i.next);return i}(e,t,h,i)),e.length>80*i){n=a=e[0],r=s=e[1];for(var m=i;m<d;m+=i)(o=e[m])<n&&(n=o),(l=e[m+1])<r&&(r=l),o>a&&(a=o),l>s&&(s=l);c=0!==(c=Math.max(a-n,s-r))?1/c:0}return no(h,p,i,n,r,c),p}function to(e,t,i,n,r){var a,s;if(r===ko(e,t,i,n)>0)for(a=t;a<i;a+=n)s=Mo(a,e[a],e[a+1],s);else for(a=i-n;a>=t;a-=n)s=Mo(a,e[a],e[a+1],s);return s&&yo(s,s.next)&&(To(s),s=s.next),s}function io(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!yo(n,n.next)&&0!==_o(n.prev,n,n.next))n=n.next;else{if(To(n),(n=t=n.prev)===n.next)break;i=!0}}while(i||n!==t);return t}function no(e,t,i,n,r,a,s){if(e){!s&&a&&function(e,t,i,n){var r=e;do{null===r.z&&(r.z=ho(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,a,s,o,l,c=1;do{for(i=e,e=null,a=null,s=0;i;){for(s++,n=i,o=0,t=0;t<c&&(o++,n=n.nextZ);t++);for(l=c;o>0||l>0&&n;)0!==o&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=n}a.nextZ=null,c*=2}while(s>1)}(r)}(e,n,r,a);for(var o,l,c=e;e.prev!==e.next;)if(o=e.prev,l=e.next,a?ao(e,n,r,a):ro(e))t.push(o.i/i),t.push(e.i/i),t.push(l.i/i),To(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?no(e=so(io(e),t,i),t,i,n,r,a,2):2===s&&oo(e,t,i,n,r,a):no(io(e),t,i,n,r,a,1);break}}}function ro(e){var t=e.prev,i=e,n=e.next;if(_o(t,i,n)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(mo(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&_o(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function ao(e,t,i,n){var r=e.prev,a=e,s=e.next;if(_o(r,a,s)>=0)return!1;for(var o=r.x>a.x?r.x>s.x?r.x:s.x:a.x>s.x?a.x:s.x,l=r.y>a.y?r.y>s.y?r.y:s.y:a.y>s.y?a.y:s.y,c=ho(r.x<a.x?r.x<s.x?r.x:s.x:a.x<s.x?a.x:s.x,r.y<a.y?r.y<s.y?r.y:s.y:a.y<s.y?a.y:s.y,t,i,n),u=ho(o,l,t,i,n),d=e.prevZ,h=e.nextZ;d&&d.z>=c&&h&&h.z<=u;){if(d!==e.prev&&d!==e.next&&mo(r.x,r.y,a.x,a.y,s.x,s.y,d.x,d.y)&&_o(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==e.prev&&h!==e.next&&mo(r.x,r.y,a.x,a.y,s.x,s.y,h.x,h.y)&&_o(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=c;){if(d!==e.prev&&d!==e.next&&mo(r.x,r.y,a.x,a.y,s.x,s.y,d.x,d.y)&&_o(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=u;){if(h!==e.prev&&h!==e.next&&mo(r.x,r.y,a.x,a.y,s.x,s.y,h.x,h.y)&&_o(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function so(e,t,i){var n=e;do{var r=n.prev,a=n.next.next;!yo(r,a)&&go(r,n,n.next,a)&&bo(r,a)&&bo(a,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(a.i/i),To(n),To(n.next),n=e=a),n=n.next}while(n!==e);return io(n)}function oo(e,t,i,n,r,a){var s=e;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&fo(s,o)){var l=wo(s,o);return s=io(s,s.next),l=io(l,l.next),no(s,t,i,n,r,a),void no(l,t,i,n,r,a)}o=o.next}s=s.next}while(s!==e)}function lo(e,t){return e.x-t.x}function co(e,t){if(t=function(e,t){var i,n=t,r=e.x,a=e.y,s=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var o=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=r&&o>s){if(s=o,o===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===s)return i;var l,c=i,u=i.x,d=i.y,h=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&mo(a<d?r:s,a,u,d,a<d?s:r,a,n.x,n.y)&&(l=Math.abs(a-n.y)/(r-n.x),bo(n,e)&&(l<h||l===h&&(n.x>i.x||n.x===i.x&&uo(i,n)))&&(i=n,h=l)),n=n.next}while(n!==c);return i}(e,t)){var i=wo(t,e);io(t,t.next),io(i,i.next)}}function uo(e,t){return _o(e.prev,e,t.prev)<0&&_o(t.next,e,e.next)<0}function ho(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function po(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function mo(e,t,i,n,r,a,s,o){return(r-s)*(t-o)-(e-s)*(a-o)>=0&&(e-s)*(n-o)-(i-s)*(t-o)>=0&&(i-s)*(a-o)-(r-s)*(n-o)>=0}function fo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&go(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(bo(e,t)&&bo(t,e)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(_o(e.prev,e,t.prev)||_o(e,t.prev,t))||yo(e,t)&&_o(e.prev,e,e.next)>0&&_o(t.prev,t,t.next)>0)}function _o(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function yo(e,t){return e.x===t.x&&e.y===t.y}function go(e,t,i,n){var r=xo(_o(e,t,i)),a=xo(_o(e,t,n)),s=xo(_o(i,n,e)),o=xo(_o(i,n,t));return r!==a&&s!==o||!(0!==r||!vo(e,i,t))||!(0!==a||!vo(e,n,t))||!(0!==s||!vo(i,e,n))||!(0!==o||!vo(i,t,n))}function vo(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function xo(e){return e>0?1:e<0?-1:0}function bo(e,t){return _o(e.prev,e,e.next)<0?_o(e,t,e.next)>=0&&_o(e,e.prev,t)>=0:_o(e,t,e.prev)<0||_o(e,e.next,t)<0}function wo(e,t){var i=new Lo(e.i,e.x,e.y),n=new Lo(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,a.next=n,n.prev=a,n}function Mo(e,t,i,n){var r=new Lo(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function To(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Lo(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ko(e,t,i,n){for(var r=0,a=t,s=i-n;a<i;a+=n)r+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return r}function So(e,t,i,n,r){!function e(t,i,n,r,a){for(;r>n;){if(r-n>600){var s=r-n+1,o=i-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1);e(t,i,Math.max(n,Math.floor(i-o*c/s+u)),Math.min(r,Math.floor(i+(s-o)*c/s+u)),a)}var d=t[i],h=n,p=r;for(Do(t,n,i),a(t[r],d)>0&&Do(t,n,r);h<p;){for(Do(t,h,p),h++,p--;a(t[h],d)<0;)h++;for(;a(t[p],d)>0;)p--}0===a(t[n],d)?Do(t,n,p):Do(t,++p,r),p<=i&&(n=p+1),i<=p&&(r=p-1)}}(e,t,i||0,n||e.length-1,r||Eo)}function Do(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function Eo(e,t){return e<t?-1:e>t?1:0}function Co(e,t){const i=e.length;if(i<=1)return[e];const n=[];let r,a;for(let s=0;s<i;s++){const t=C(e[s]);0!==t&&(e[s].area=Math.abs(t),void 0===a&&(a=t<0),a===t<0?(r&&n.push(r),r=[e[s]]):r.push(e[s]))}if(r&&n.push(r),t>1)for(let s=0;s<n.length;s++)n[s].length<=t||(So(n[s],t,1,n[s].length-1,Po),n[s]=n[s].slice(0,t));return n}function Po(e,t){return t.area-e.area}function Yo(e,t,i){const n=i.patternDependencies;let r=!1;for(const a of t){const t=a.paint.get(e+"-pattern");t.isConstant()||(r=!0);const i=t.constantOr(null);i&&(r=!0,n[i.to]=!0,n[i.from]=!0)}return r}function Ao(e,t,i,n,r){const a=r.patternDependencies;for(const s of t){const t=s.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},i,{},r.availableImages),o=t.evaluate({zoom:n},i,{},r.availableImages),l=t.evaluate({zoom:n+1},i,{},r.availableImages);e=e&&e.name?e.name:e,o=o&&o.name?o.name:o,l=l&&l.name?l.name:l,a[e]=!0,a[o]=!0,a[l]=!0,i.patterns[s.id]={min:e,mid:o,max:l}}}return i}eo.deviation=function(e,t,i,n){var r=t&&t.length,a=Math.abs(ko(e,0,r?t[0]*i:e.length,i));if(r)for(var s=0,o=t.length;s<o;s++)a-=Math.abs(ko(e,t[s]*i,s<o-1?t[s+1]*i:e.length,i));var l=0;for(s=0;s<n.length;s+=3){var c=n[s]*i,u=n[s+1]*i,d=n[s+2]*i;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},eo.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var a=0;a<e[r].length;a++)for(var s=0;s<t;s++)i.vertices.push(e[r][a][s]);r>0&&i.holes.push(n+=e[r-1].length)}return i},Ks.default=Qs;class Io{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Or,this.indexArray=new qr,this.indexArray2=new ea,this.programConfigurations=new Ia(e.layers,e.zoom),this.segments=new ja,this.segments2=new ja,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,i){this.hasPattern=Yo("fill",this.layers,t);const n=this.layers[0].layout.get("fill-sort-key"),r=[];for(const{feature:a,id:s,index:o,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Va(a,e);if(!this.layers[0]._featureFilter.filter(new fr(this.zoom),c,i))continue;const u=n?n.evaluate(c,{},i,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:l,index:o,geometry:e?c.geometry:Ua(a),patterns:{},sortKey:u};r.push(d)}n&&r.sort((e,t)=>e.sortKey-t.sortKey);for(const a of r){const{geometry:n,index:r,sourceLayerIndex:s}=a;if(this.hasPattern){const e=Ao("fill",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,n,r,i,{});t.featureIndex.insert(e[r].feature,n,r,s,this.index)}}update(e,t,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i)}addFeatures(e,t,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,t,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Js),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,i,n,r){for(const a of Co(t,500)){let e=0;for(const o of a)e+=o.length;const t=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),i=t.vertexLength,n=[],r=[];for(const o of a){if(0===o.length)continue;o!==a[0]&&r.push(n.length/2);const e=this.segments2.prepareSegment(o.length,this.layoutVertexArray,this.indexArray2),t=e.vertexLength;this.layoutVertexArray.emplaceBack(o[0].x,o[0].y),this.indexArray2.emplaceBack(t+o.length-1,t),n.push(o[0].x),n.push(o[0].y);for(let i=1;i<o.length;i++)this.layoutVertexArray.emplaceBack(o[i].x,o[i].y),this.indexArray2.emplaceBack(t+i-1,t+i),n.push(o[i].x),n.push(o[i].y);e.vertexLength+=o.length,e.primitiveLength+=o.length}const s=Ks(n,r);for(let a=0;a<s.length;a+=3)this.indexArray.emplaceBack(i+s[a],i+s[a+1],i+s[a+2]);t.vertexLength+=e,t.primitiveLength+=s.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,n)}}Wn("FillBucket",Io,{omit:["layers","patternFeatures"]});const zo=new Er({"fill-sort-key":new Lr(ze.layout_fill["fill-sort-key"])});var Oo={paint:new Er({"fill-antialias":new Tr(ze.paint_fill["fill-antialias"]),"fill-opacity":new Lr(ze.paint_fill["fill-opacity"]),"fill-color":new Lr(ze.paint_fill["fill-color"]),"fill-outline-color":new Lr(ze.paint_fill["fill-outline-color"]),"fill-translate":new Tr(ze.paint_fill["fill-translate"]),"fill-translate-anchor":new Tr(ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new kr(ze.paint_fill["fill-pattern"])}),layout:zo};const Ro=Ir([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Fo=Ir([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:Bo}=Ro;var jo=Ho;function Ho(e,t,i,n,r){this.properties={},this.extent=i,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=r,e.readFields(No,this,t)}function No(e,t,i){1==e?t.id=i.readVarint():2==e?function(e,t){for(var i=e.readVarint()+e.pos;e.pos<i;){var n=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[n]=r}}(i,t):3==e?t.type=i.readVarint():4==e&&(t._geometry=i.pos)}function Uo(e){for(var t,i,n=0,r=0,a=e.length,s=a-1;r<a;s=r++)n+=((i=e[s]).x-(t=e[r]).x)*(t.y+i.y);return n}Ho.types=["Unknown","Point","LineString","Polygon"],Ho.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,i=e.readVarint()+e.pos,r=1,a=0,s=0,o=0,l=[];e.pos<i;){if(a<=0){var c=e.readVarint();r=7&c,a=c>>3}if(a--,1===r||2===r)s+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&l.push(t),t=[]),t.push(new n(s,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&l.push(t),l},Ho.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,i=1,n=0,r=0,a=0,s=1/0,o=-1/0,l=1/0,c=-1/0;e.pos<t;){if(n<=0){var u=e.readVarint();i=7&u,n=u>>3}if(n--,1===i||2===i)(r+=e.readSVarint())<s&&(s=r),r>o&&(o=r),(a+=e.readSVarint())<l&&(l=a),a>c&&(c=a);else if(7!==i)throw new Error("unknown command "+i)}return[s,l,o,c]},Ho.prototype.toGeoJSON=function(e,t,i){var n,r,a=this.extent*Math.pow(2,i),s=this.extent*e,o=this.extent*t,l=this.loadGeometry(),c=Ho.types[this.type];function u(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=[360*(i.x+s)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+o)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(n=0;n<l.length;n++)d[n]=l[n][0];u(l=d);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var i,n,r=[],a=0;a<t;a++){var s=Uo(e[a]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(i&&r.push(i),i=[e[a]]):i.push(e[a]))}return i&&r.push(i),r}(l),n=0;n<l.length;n++)for(r=0;r<l[n].length;r++)u(l[n][r])}1===l.length?l=l[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Vo=Wo;function Wo(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields($o,this,t),this.length=this._features.length}function $o(e,t,i){15===e?t.version=i.readVarint():1===e?t.name=i.readString():5===e?t.extent=i.readVarint():2===e?t._features.push(i.pos):3===e?t._keys.push(i.readString()):4===e&&t._values.push(function(e){for(var t=null,i=e.readVarint()+e.pos;e.pos<i;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(i))}function Go(e,t,i){if(3===e){var n=new Vo(i,i.readVarint()+i.pos);n.length&&(t[n.name]=n)}}Wo.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new jo(this._pbf,t,this.extent,this._keys,this._values)};var qo={VectorTile:function(e,t){this.layers=e.readFields(Go,{},t)},VectorTileFeature:jo,VectorTileLayer:Vo};const Zo=qo.VectorTileFeature.types,Xo=Math.pow(2,13);function Jo(e,t,i,n,r,a,s,o){e.emplaceBack((t<<1)+s,(i<<1)+a,(Math.floor(n*Xo)<<1)+r,Math.round(o))}class Ko{constructor(){this.acc=new n(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new n(e.x,e.y),this.max=new n(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);let i=!!this.borders;const n=this.min,r=this.max;e.x<n.x?(n.x=e.x,i=!0):e.x>r.x&&(r.x=e.x,i=!0),e.y<n.y?(n.y=e.y,i=!0):e.y>r.y&&(r.y=e.y,i=!0),((0===e.x||8192===e.x)&&e.x===t.x)!=((0===e.y||8192===e.y)&&e.y===t.y)&&this.processBorderOverlap(e,t),i&&this.checkBorderIntersection(e,t)}checkBorderIntersection(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,Jt(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>8192!=e.x>8192&&this.addBorderIntersection(1,Jt(t.y,e.y,(8192-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Jt(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>8192!=e.y>8192&&this.addBorderIntersection(3,Jt(t.x,e.x,(8192-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const i=this.borders[e];t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const i=0===e.x?0:1;this.addBorderIntersection(i,t.y),this.addBorderIntersection(i,e.y)}else{const i=0===e.y?2:3;this.addBorderIntersection(i,t.x),this.addBorderIntersection(i,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new n(0,0)}span(){return new n(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class Qo{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Rr,this.centroidVertexArray=new ea,this.indexArray=new qr,this.programConfigurations=new Ia(e.layers,e.zoom),this.segments=new ja,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,i){this.features=[],this.hasPattern=Yo("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/8192/(1<<e.z)}(i);for(const{feature:n,id:r,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,o=Va(n,e);if(!this.layers[0]._featureFilter.filter(new fr(this.zoom),o,i))continue;const l={id:r,sourceLayerIndex:s,index:a,geometry:e?o.geometry:Ua(n),properties:n.properties,type:n.type,patterns:{}};this.hasPattern?this.features.push(Ao("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,a,i,{}),t.featureIndex.insert(n,l.geometry,a,s,this.index)}this.sortBorders()}addFeatures(e,t,i){for(const n of this.features){const{geometry:e}=n;this.addFeature(n,e,n.index,t,i)}this.sortBorders()}update(e,t,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Bo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Fo.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,i,n,r){const a=this.enableTerrain&&e.properties&&e.properties.hasOwnProperty("type")&&e.properties.hasOwnProperty("height")&&"Polygon"===Zo[e.type]?new Ko:null;for(const o of Co(t,500)){let t=0,i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===o.length||(s=o[0]).every(e=>e.x<=0)||s.every(e=>e.x>=8192)||s.every(e=>e.y<=0)||s.every(e=>e.y>=8192))continue;for(let e=0;e<o.length;e++){const n=o[e];if(0===n.length)continue;t+=n.length;let r=0;a&&a.startRing(n[0]);for(let e=0;e<n.length;e++){const t=n[e];if(e>=1){const s=n[e-1];if(!el(t,s)){a&&a.append(t,s),i.vertexLength+4>ja.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=t.sub(s)._perp(),n=e.x/(Math.abs(e.x)+Math.abs(e.y)),o=e.y>0?1:0,l=s.dist(t);r+l>32768&&(r=0),Jo(this.layoutVertexArray,t.x,t.y,n,o,0,0,r),Jo(this.layoutVertexArray,t.x,t.y,n,o,0,1,r),r+=l,Jo(this.layoutVertexArray,s.x,s.y,n,o,0,0,r),Jo(this.layoutVertexArray,s.x,s.y,n,o,0,1,r);const c=i.vertexLength;this.indexArray.emplaceBack(c,c+2,c+1),this.indexArray.emplaceBack(c+1,c+2,c+3),i.vertexLength+=4,i.primitiveLength+=2}}}}if(i.vertexLength+t>ja.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Zo[e.type])continue;const n=[],r=[],l=i.vertexLength;for(let e=0;e<o.length;e++){const t=o[e];if(0!==t.length){t!==o[0]&&r.push(n.length/2);for(let e=0;e<t.length;e++){const i=t[e];Jo(this.layoutVertexArray,i.x,i.y,0,0,1,1,0),n.push(i.x),n.push(i.y),a&&a.currentPolyCount.top++}}}const c=Ks(n,r);for(let e=0;e<c.length;e+=3)this.indexArray.emplaceBack(l+c[e],l+c[e+2],l+c[e+1]);i.primitiveLength+=c.length/3,i.vertexLength+=t}var s;if(a&&a.polyCount.length>0){if(a.borders){a.vertexArrayOffset=this.centroidVertexArray.length;const e=a.borders,t=this.featuresOnBorder.push(a)-1;for(let i=0;i<4;i++)e[i][0]!==Number.MAX_VALUE&&this.borders[i].push(t)}this.encodeCentroid(a.borders?void 0:a.centroid(),a)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,n)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,i)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[i].borders[e][0])}encodeCentroid(e,t,i=!0){let n,r;if(e)if(0!==e.y){const i=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(i.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(i.y/10))}else n=Math.ceil(7.3*e.x),r=0;else n=0,r=+i;let a=i?this.centroidVertexArray.length:t.vertexArrayOffset;for(const s of t.polyCount){i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*s.edges+s.top);for(let e=0;e<2*s.edges;e++)this.centroidVertexArray.emplace(a++,0,r),this.centroidVertexArray.emplace(a++,n,r);for(let e=0;e<s.top;e++)this.centroidVertexArray.emplace(a++,n,r)}}}function el(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Wn("FillExtrusionBucket",Qo,{omit:["layers","features"]}),Wn("PartMetadata",Ko);var tl={paint:new Er({"fill-extrusion-opacity":new Tr(ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Lr(ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Tr(ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Tr(ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new kr(ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Lr(ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Lr(ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Tr(ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function il(e,t){return e.x*t.x+e.y*t.y}function nl(e,t){if(1===e.length){let i=0;const n=t[i++];let r;for(;!r||n.equals(r);)if(r=t[i++],!r)return 1/0;for(;i<t.length;i++){const a=t[i],s=e[0],o=r.sub(n),l=a.sub(n),c=s.sub(n),u=il(o,o),d=il(o,l),h=il(l,l),p=il(c,o),m=il(c,l),f=u*h-d*d,_=(h*p-d*m)/f,y=(u*m-d*p)/f,g=n.z*(1-_-y)+r.z*_+a.z*y;if(isFinite(g))return g}return 1/0}{let e=1/0;for(const i of t)e=Math.min(e,i.z);return e}}const rl=Ir([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:al}=rl,sl=Ir([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:ol}=sl,ll=qo.VectorTileFeature.types,cl=Math.cos(Math.PI/180*37.5);class ul{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new Fr,this.layoutVertexArray2=new Br,this.indexArray=new qr,this.programConfigurations=new Ia(e.layers,e.zoom),this.segments=new ja,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,i){this.hasPattern=Yo("line",this.layers,t);const n=this.layers[0].layout.get("line-sort-key"),r=[];for(const{feature:a,id:s,index:o,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Va(a,e);if(!this.layers[0]._featureFilter.filter(new fr(this.zoom),t,i))continue;const c=n?n.evaluate(t,{},i):void 0,u={id:s,properties:a.properties,type:a.type,sourceLayerIndex:l,index:o,geometry:e?t.geometry:Ua(a),patterns:{},sortKey:c};r.push(u)}n&&r.sort((e,t)=>e.sortKey-t.sortKey);for(const a of r){const{geometry:n,index:r,sourceLayerIndex:s}=a;if(this.hasPattern){const e=Ao("line",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,n,r,i,{});t.featureIndex.insert(e[r].feature,n,r,s,this.index)}}update(e,t,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,i)}addFeatures(e,t,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,t,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,ol)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,al),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,i,n,r){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),o=a.get("line-cap"),l=a.get("line-miter-limit"),c=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const u of t)this.addLine(u,e,s,o,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,r,n)}addLine(e,t,i,n,r,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const s="Polygon"===ll[t.type];let o=e.length;for(;o>=2&&e[o-1].equals(e[o-2]);)o--;let l=0;for(;l<o-1&&e[l].equals(e[l+1]);)l++;if(o<(s?3:2))return;"bevel"===i&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*o,this.layoutVertexArray,this.indexArray);let d,h=void 0,p=void 0,m=void 0,f=void 0;this.e1=this.e2=-1,s&&(d=e[o-2],f=e[l].sub(d)._unit()._perp());for(let _=l;_<o;_++){if(p=_===o-1?s?e[l+1]:void 0:e[_+1],p&&e[_].equals(p))continue;f&&(m=f),d&&(h=d),d=e[_],f=p?p.sub(d)._unit()._perp():m,m=m||f;let t=m.add(f);0===t.x&&0===t.y||t._unit();const y=m.x*f.x+m.y*f.y,g=t.x*f.x+t.y*f.y,v=0!==g?1/g:1/0,x=2*Math.sqrt(2-2*g),b=g<cl&&h&&p,w=m.x*f.y-m.y*f.x>0;if(b&&_>l){const e=d.dist(h);if(e>2*c){const t=d.sub(d.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}const M=h&&p;let T=M?i:s?"butt":n;if(M&&"round"===T&&(v<a?T="miter":v<=2&&(T="fakeround")),"miter"===T&&v>r&&(T="bevel"),"bevel"===T&&(v>2&&(T="flipbevel"),v<r&&(T="miter")),h&&this.updateDistance(h,d),"miter"===T)t._mult(v),this.addCurrentVertex(d,t,0,0,u);else if("flipbevel"===T){if(v>100)t=f.mult(-1);else{const e=v*m.add(f).mag()/m.sub(f).mag();t._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(d,t,0,0,u),this.addCurrentVertex(d,t.mult(-1),0,0,u)}else if("bevel"===T||"fakeround"===T){const e=-Math.sqrt(v*v-1),t=w?e:0,i=w?0:e;if(h&&this.addCurrentVertex(d,m,t,i,u),"fakeround"===T){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let i=t/e;if(.5!==i){const e=i-.5;i+=i*e*(i-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const n=f.sub(m)._mult(i)._add(m)._unit()._mult(w?-1:1);this.addHalfVertex(d,n.x,n.y,!1,w,0,u)}}p&&this.addCurrentVertex(d,f,-t,-i,u)}else if("butt"===T)this.addCurrentVertex(d,t,0,0,u);else if("square"===T){const e=h?1:-1;this.addCurrentVertex(d,t,e,e,u)}else"round"===T&&(h&&(this.addCurrentVertex(d,m,0,0,u),this.addCurrentVertex(d,m,1,1,u,!0)),p&&(this.addCurrentVertex(d,f,-1,-1,u,!0),this.addCurrentVertex(d,f,0,0,u)));if(b&&_<o-1){const e=d.dist(p);if(e>2*c){const t=d.add(p.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}}}addCurrentVertex(e,t,i,n,r,a=!1){const s=t.y*n-t.x,o=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*i,t.y-t.x*i,a,!1,i,r),this.addHalfVertex(e,s,o,a,!0,-n,r)}addHalfVertex({x:e,y:t},i,n,r,a,s,o){this.layoutVertexArray.emplaceBack((e<<1)+(r?1:0),(t<<1)+(a?1:0),Math.round(63*i)+128,Math.round(63*n)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),a?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Wn("LineBucket",ul,{omit:["layers","patternFeatures"]});const dl=new Er({"line-cap":new Tr(ze.layout_line["line-cap"]),"line-join":new Lr(ze.layout_line["line-join"]),"line-miter-limit":new Tr(ze.layout_line["line-miter-limit"]),"line-round-limit":new Tr(ze.layout_line["line-round-limit"]),"line-sort-key":new Lr(ze.layout_line["line-sort-key"])});var hl={paint:new Er({"line-opacity":new Lr(ze.paint_line["line-opacity"]),"line-color":new Lr(ze.paint_line["line-color"]),"line-translate":new Tr(ze.paint_line["line-translate"]),"line-translate-anchor":new Tr(ze.paint_line["line-translate-anchor"]),"line-width":new Lr(ze.paint_line["line-width"]),"line-gap-width":new Lr(ze.paint_line["line-gap-width"]),"line-offset":new Lr(ze.paint_line["line-offset"]),"line-blur":new Lr(ze.paint_line["line-blur"]),"line-dasharray":new Sr(ze.paint_line["line-dasharray"]),"line-pattern":new kr(ze.paint_line["line-pattern"]),"line-gradient":new Dr(ze.paint_line["line-gradient"])}),layout:dl};const pl=new class extends Lr{possiblyEvaluate(e,t){return t=new fr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,i,n){return t=y({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,i,n)}}(hl.paint.properties["line-width"].specification);function ml(e,t){return t>0?t+2*e:e}pl.useIntegerZoom=!0;const fl=Ir([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_l=Ir([{name:"a_projected_pos",components:3,type:"Float32"}],4),yl=(Ir([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ir([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),gl=Ir([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]),vl=(Ir([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),xl=Ir([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function bl(e,t){const{expression:i}=t;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new fr(e+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:n}=i;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let a=r;for(;a<t.length&&t[a]<e+1;)a++;a=Math.min(t.length-1,a);const s=t[r],o=t[a];return"composite"===i.kind?{kind:"composite",minZoom:s,maxZoom:o,interpolationType:n}:{kind:"camera",minZoom:s,maxZoom:o,minSize:i.evaluate(new fr(s)),maxSize:i.evaluate(new fr(o)),interpolationType:n}}}function wl(e,{uSize:t,uSizeT:i},{lowerSize:n,upperSize:r}){return"source"===e.kind?n/128:"composite"===e.kind?Jt(n/128,r/128,i):t}function Ml(e,t){let i=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:a,maxZoom:s}=e,o=r?m(hi.interpolationFactor(r,t,a,s),0,1):0;"camera"===e.kind?n=Jt(e.minSize,e.maxSize,o):i=o}return{uSizeT:i,uSize:n}}Ir([{name:"triangle",components:3,type:"Uint16"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ir([{type:"Float32",name:"offsetX"}]),Ir([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Tl=Object.freeze({__proto__:null,getSizeData:bl,evaluateSizeForFeature:wl,evaluateSizeForZoom:Ml,SIZE_PACK_FACTOR:128});function Ll(e,t,i){return e.sections.forEach(e=>{e.text=function(e,t,i){const n=t.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),mr.applyArabicShaping&&(e=mr.applyArabicShaping(e)),e}(e.text,t,i)}),e}const kl={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Sl=function(e,t,i,n,r){var a,s,o=8*r-n-1,l=(1<<o)-1,c=l>>1,u=-7,d=i?r-1:0,h=i?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-u)-1,p>>=-u,u+=o;u>0;a=256*a+e[t+d],d+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=c}return(p?-1:1)*s*Math.pow(2,a-n)},Dl=function(e,t,i,n,r,a){var s,o,l,c=8*a-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*l-1)*Math.pow(2,r),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[i+p]=255&o,p+=m,o/=256,r-=8);for(s=s<<r|o,c+=r;c>0;e[i+p]=255&s,p+=m,s/=256,c-=8);e[i+p-m]|=128*f},El=Cl;function Cl(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Cl.Varint=0,Cl.Fixed64=1,Cl.Bytes=2,Cl.Fixed32=5;var Pl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Yl(e){return e.type===Cl.Bytes?e.readVarint()+e.pos:e.pos+1}function Al(e,t,i){return i?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Il(e,t,i){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=e;r--)i.buf[r+n]=i.buf[r]}function zl(e,t){for(var i=0;i<e.length;i++)t.writeVarint(e[i])}function Ol(e,t){for(var i=0;i<e.length;i++)t.writeSVarint(e[i])}function Rl(e,t){for(var i=0;i<e.length;i++)t.writeFloat(e[i])}function Fl(e,t){for(var i=0;i<e.length;i++)t.writeDouble(e[i])}function Bl(e,t){for(var i=0;i<e.length;i++)t.writeBoolean(e[i])}function jl(e,t){for(var i=0;i<e.length;i++)t.writeFixed32(e[i])}function Hl(e,t){for(var i=0;i<e.length;i++)t.writeSFixed32(e[i])}function Nl(e,t){for(var i=0;i<e.length;i++)t.writeFixed64(e[i])}function Ul(e,t){for(var i=0;i<e.length;i++)t.writeSFixed64(e[i])}function Vl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Wl(e,t,i){e[i]=t,e[i+1]=t>>>8,e[i+2]=t>>>16,e[i+3]=t>>>24}function $l(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Gl(e,t,i){1===e&&i.readMessage(ql,t)}function ql(e,t,i){if(3===e){const{id:e,bitmap:n,width:r,height:a,left:s,top:o,advance:l}=i.readMessage(Zl,{});t.push({id:e,bitmap:new Ws({width:r+6,height:a+6},n),metrics:{width:r,height:a,left:s,top:o,advance:l}})}}function Zl(e,t,i){1===e?t.id=i.readVarint():2===e?t.bitmap=i.readBytes():3===e?t.width=i.readVarint():4===e?t.height=i.readVarint():5===e?t.left=i.readSVarint():6===e?t.top=i.readSVarint():7===e&&(t.advance=i.readVarint())}function Xl(e){let t=0,i=0;for(const s of e)t+=s.w*s.h,i=Math.max(i,s.w);e.sort((e,t)=>t.h-e.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),i),h:1/0}];let r=0,a=0;for(const s of e)for(let e=n.length-1;e>=0;e--){const t=n[e];if(!(s.w>t.w||s.h>t.h)){if(s.x=t.x,s.y=t.y,a=Math.max(a,s.y+s.h),r=Math.max(r,s.x+s.w),s.w===t.w&&s.h===t.h){const t=n.pop();e<n.length&&(n[e]=t)}else s.h===t.h?(t.x+=s.w,t.w-=s.w):s.w===t.w?(t.y+=s.h,t.h-=s.h):(n.push({x:t.x+s.w,y:t.y,w:t.w-s.w,h:s.h}),t.y+=s.h,t.h-=s.h);break}}return{w:r,h:a,fill:t/(r*a)||0}}Cl.prototype={destroy:function(){this.buf=null},readFields:function(e,t,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,a=this.pos;this.type=7&n,e(r,t,this),this.pos===a&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Vl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=$l(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Vl(this.buf,this.pos)+4294967296*Vl(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=Vl(this.buf,this.pos)+4294967296*$l(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Sl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Sl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,i,n=this.buf;return t=127&(i=n[this.pos++]),i<128?t:(t|=(127&(i=n[this.pos++]))<<7,i<128?t:(t|=(127&(i=n[this.pos++]))<<14,i<128?t:(t|=(127&(i=n[this.pos++]))<<21,i<128?t:function(e,t,i){var n,r,a=i.buf;if(n=(112&(r=a[i.pos++]))>>4,r<128)return Al(e,n,t);if(n|=(127&(r=a[i.pos++]))<<3,r<128)return Al(e,n,t);if(n|=(127&(r=a[i.pos++]))<<10,r<128)return Al(e,n,t);if(n|=(127&(r=a[i.pos++]))<<17,r<128)return Al(e,n,t);if(n|=(127&(r=a[i.pos++]))<<24,r<128)return Al(e,n,t);if(n|=(1&(r=a[i.pos++]))<<31,r<128)return Al(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(i=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Pl?function(e,t,i){return Pl.decode(e.subarray(t,i))}(this.buf,t,e):function(e,t,i){for(var n="",r=t;r<i;){var a,s,o,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>i)break;1===u?l<128&&(c=l):2===u?128==(192&(a=e[r+1]))&&(c=(31&l)<<6|63&a)<=127&&(c=null):3===u?(s=e[r+2],128==(192&(a=e[r+1]))&&128==(192&s)&&((c=(15&l)<<12|(63&a)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(s=e[r+2],o=e[r+3],128==(192&(a=e[r+1]))&&128==(192&s)&&128==(192&o)&&((c=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),r+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Cl.Bytes)return e.push(this.readVarint(t));var i=Yl(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Cl.Bytes)return e.push(this.readSVarint());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Cl.Bytes)return e.push(this.readBoolean());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Cl.Bytes)return e.push(this.readFloat());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Cl.Bytes)return e.push(this.readDouble());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Cl.Bytes)return e.push(this.readFixed32());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Cl.Bytes)return e.push(this.readSFixed32());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Cl.Bytes)return e.push(this.readFixed64());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Cl.Bytes)return e.push(this.readSFixed64());var t=Yl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Cl.Varint)for(;this.buf[this.pos++]>127;);else if(t===Cl.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Cl.Fixed32)this.pos+=4;else{if(t!==Cl.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Wl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Wl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Wl(this.buf,-1&e,this.pos),Wl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Wl(this.buf,-1&e,this.pos),Wl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var i,n;if(e>=0?(i=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(i=~(-e%4294967296))?i=i+1|0:(i=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,i){i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,i.buf[i.pos]=127&(e>>>=7)}(i,0,t),function(e,t){var i=(7&e)<<4;t.buf[t.pos++]|=i|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,i){for(var n,r,a=0;a<t.length;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){n>56319||a+1===t.length?(e[i++]=239,e[i++]=191,e[i++]=189):r=n;continue}if(n<56320){e[i++]=239,e[i++]=191,e[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(e[i++]=239,e[i++]=191,e[i++]=189,r=null);n<128?e[i++]=n:(n<2048?e[i++]=n>>6|192:(n<65536?e[i++]=n>>12|224:(e[i++]=n>>18|240,e[i++]=n>>12&63|128),e[i++]=n>>6&63|128),e[i++]=63&n|128)}return i}(this.buf,e,this.pos);var i=this.pos-t;i>=128&&Il(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i},writeFloat:function(e){this.realloc(4),Dl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Dl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var i=0;i<t;i++)this.buf[this.pos++]=e[i]},writeRawMessage:function(e,t){this.pos++;var i=this.pos;e(t,this);var n=this.pos-i;n>=128&&Il(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,i){this.writeTag(e,Cl.Bytes),this.writeRawMessage(t,i)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,zl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Ol,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Bl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Rl,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Fl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,jl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Hl,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Nl,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ul,t)},writeBytesField:function(e,t){this.writeTag(e,Cl.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Cl.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Cl.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Cl.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Cl.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Cl.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Cl.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Cl.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Cl.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Cl.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Jl{constructor(e,{pixelRatio:t,version:i,stretchX:n,stretchY:r,content:a}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=r,this.content=a,this.version=i}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Kl{constructor(e,t){const i={},n={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,i,r),this.addImages(t,n,r);const{w:a,h:s}=Xl(r),o=new $s({width:a||1,height:s||1});for(const l in e){const t=e[l],n=i[l].paddedRect;$s.copy(t.data,o,{x:0,y:0},{x:n.x+1,y:n.y+1},t.data)}for(const l in t){const e=t[l],i=n[l].paddedRect,r=i.x+1,a=i.y+1,s=e.data.width,c=e.data.height;$s.copy(e.data,o,{x:0,y:0},{x:r,y:a},e.data),$s.copy(e.data,o,{x:0,y:c-1},{x:r,y:a-1},{width:s,height:1}),$s.copy(e.data,o,{x:0,y:0},{x:r,y:a+c},{width:s,height:1}),$s.copy(e.data,o,{x:s-1,y:0},{x:r-1,y:a},{width:1,height:c}),$s.copy(e.data,o,{x:0,y:0},{x:r+s,y:a},{width:1,height:c})}this.image=o,this.iconPositions=i,this.patternPositions=n}addImages(e,t,i){for(const n in e){const r=e[n],a={x:0,y:0,w:r.data.width+2,h:r.data.height+2};i.push(a),t[n]=new Jl(a,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const i in e.updatedImages)this.patchUpdatedImage(this.iconPositions[i],e.getImage(i),t),this.patchUpdatedImage(this.patternPositions[i],e.getImage(i),t)}patchUpdatedImage(e,t,i){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[n,r]=e.tl;i.update(t.data,void 0,{x:n,y:r})}}Wn("ImagePosition",Jl),Wn("ImageAtlas",Kl);const Ql={horizontal:1,vertical:2,horizontalOnly:3};class ec{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const i=new ec;return i.scale=e||1,i.fontStack=t,i}static forImage(e){const t=new ec;return t.imageName=e,t}}class tc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const i=new tc;for(let n=0;n<e.sections.length;n++){const r=e.sections[n];r.image?i.addImageSection(r):i.addTextSection(r,t)}return i}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i+1)||null,r=e.charCodeAt(i-1)||null;t+=n&&ir(n)&&!kl[e[i+1]]||r&&ir(r)&&!kl[e[i-1]]||!kl[e[i]]?e[i]:kl[e[i]]}return t}(this.text)}trim(){let e=0;for(let i=0;i<this.text.length&&nc[this.text.charCodeAt(i)];i++)e++;let t=this.text.length;for(let i=this.text.length-1;i>=0&&i>=e&&nc[this.text.charCodeAt(i)];i--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const i=new tc;return i.text=this.text.substring(e,t),i.sectionIndex=this.sectionIndex.slice(e,t),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(ec.forText(e.scale,e.fontStack||t));const i=this.sections.length-1;for(let n=0;n<e.text.length;++n)this.sectionIndex.push(i)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void D("Can't add FormattedSection with an empty image.");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(ec.forImage(t)),this.sectionIndex.push(this.sections.length-1)):D("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ic(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f){const _=tc.fromFeature(e,r);let y;d===Ql.vertical&&_.verticalizePunctuation();const{processBidirectionalText:g,processStyledBidirectionalText:v}=mr;if(g&&1===_.sections.length){y=[];const e=g(_.toString(),cc(_,c,a,t,n,p,m));for(const t of e){const e=new tc;e.text=t,e.sections=_.sections;for(let i=0;i<t.length;i++)e.sectionIndex.push(0);y.push(e)}}else if(v){y=[];const e=v(_.text,_.sectionIndex,cc(_,c,a,t,n,p,m));for(const t of e){const e=new tc;e.text=t[0],e.sectionIndex=t[1],e.sections=_.sections,y.push(e)}}else y=function(e,t){const i=[],n=e.text;let r=0;for(const a of t)i.push(e.substring(r,a)),r=a;return r<n.length&&i.push(e.substring(r,n.length)),i}(_,cc(_,c,a,t,n,p,m));const x=[],b={positionedLines:x,text:_.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(e,t,i,n,r,a,s,o,l,c,u,d){let h=0,p=-17,m=0,f=0;const _="right"===o?1:"left"===o?0:.5;let y=0;for(const w of r){w.trim();const r=w.getMaxScale(),s=24*(r-1),o={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=o;const v=o.positionedGlyphs;let x=0;if(!w.length()){p+=a,++y;continue}for(let a=0;a<w.length();a++){const o=w.getSection(a),m=w.getSectionIndex(a),f=w.getCharCode(a);let _=0,y=null,b=null,M=null,T=24;const L=!(l===Ql.horizontal||!u&&!tr(f)||u&&(nc[f]||(g=f,Jn.Arabic(g)||Jn["Arabic Supplement"](g)||Jn["Arabic Extended-A"](g)||Jn["Arabic Presentation Forms-A"](g)||Jn["Arabic Presentation Forms-B"](g))));if(o.imageName){const t=n[o.imageName];if(!t)continue;M=o.imageName,e.iconsInText=e.iconsInText||!0,b=t.paddedRect;const i=t.displaySize;o.scale=24*o.scale/d,y={width:i[0],height:i[1],left:1,top:-3,advance:L?i[1]:i[0]},_=s+(24-i[1]*o.scale),T=y.advance;const a=L?i[0]*o.scale-24*r:i[1]*o.scale-24*r;a>0&&a>x&&(x=a)}else{const e=i[o.fontStack],n=e&&e[f];if(n&&n.rect)b=n.rect,y=n.metrics;else{const e=t[o.fontStack],i=e&&e[f];if(!i)continue;y=i.metrics}_=24*(r-o.scale)}L?(e.verticalizable=!0,v.push({glyph:f,imageName:M,x:h,y:p+_,vertical:L,scale:o.scale,fontStack:o.fontStack,sectionIndex:m,metrics:y,rect:b}),h+=T*o.scale+c):(v.push({glyph:f,imageName:M,x:h,y:p+_,vertical:L,scale:o.scale,fontStack:o.fontStack,sectionIndex:m,metrics:y,rect:b}),h+=y.advance*o.scale+c)}0!==v.length&&(m=Math.max(h-c,m),dc(v,0,v.length-1,_,x)),h=0;const b=a*r+x;o.lineOffset=Math.max(x,s),p+=b,f=Math.max(b,f),++y}var g;const v=p- -17,{horizontalAlign:x,verticalAlign:b}=uc(s);(function(e,t,i,n,r,a,s,o,l){const c=(t-i)*r;let u=0;u=a!==s?-o*n- -17:(-n*l+.5)*s;for(const d of e)for(const e of d.positionedGlyphs)e.x+=c,e.y+=u})(e.positionedLines,_,x,b,m,f,a,v,r.length),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*m,e.right=e.left+m}(b,t,i,n,y,s,o,l,d,c,h,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const nc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},rc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ac(e,t,i,n,r,a){if(t.imageName){const e=n[t.imageName];return e?e.displaySize[0]*t.scale*24/a+r:0}{const n=i[t.fontStack],a=n&&n[e];return a?a.metrics.advance*t.scale+r:0}}function sc(e,t,i,n){const r=Math.pow(e-t,2);return n?e<t?r/2:2*r:r+Math.abs(i)*i}function oc(e,t,i){let n=0;return 10===e&&(n-=1e4),i&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function lc(e,t,i,n,r,a){let s=null,o=sc(t,i,r,a);for(const l of n){const e=sc(t-l.x,i,r,a)+l.badness;e<=o&&(s=l,o=e)}return{index:e,x:t,priorBreak:s,badness:o}}function cc(e,t,i,n,r,a,s){if("point"!==a)return[];if(!e)return[];const o=[],l=function(e,t,i,n,r,a){let s=0;for(let o=0;o<e.length();o++){const i=e.getSection(o);s+=ac(e.getCharCode(o),i,n,r,t,a)}return s/Math.max(1,Math.ceil(s/i))}(e,t,i,n,r,s),c=e.text.indexOf("​")>=0;let u=0;for(let h=0;h<e.length();h++){const i=e.getSection(h),a=e.getCharCode(h);if(nc[a]||(u+=ac(a,i,n,r,t,s)),h<e.length()-1){const t=!((d=a)<11904||!(Jn["Bopomofo Extended"](d)||Jn.Bopomofo(d)||Jn["CJK Compatibility Forms"](d)||Jn["CJK Compatibility Ideographs"](d)||Jn["CJK Compatibility"](d)||Jn["CJK Radicals Supplement"](d)||Jn["CJK Strokes"](d)||Jn["CJK Symbols and Punctuation"](d)||Jn["CJK Unified Ideographs Extension A"](d)||Jn["CJK Unified Ideographs"](d)||Jn["Enclosed CJK Letters and Months"](d)||Jn["Halfwidth and Fullwidth Forms"](d)||Jn.Hiragana(d)||Jn["Ideographic Description Characters"](d)||Jn["Kangxi Radicals"](d)||Jn["Katakana Phonetic Extensions"](d)||Jn.Katakana(d)||Jn["Vertical Forms"](d)||Jn["Yi Radicals"](d)||Jn["Yi Syllables"](d)));(rc[a]||t||i.imageName)&&o.push(lc(h+1,u,l,o,oc(a,e.getCharCode(h+1),t&&c),!1))}}var d;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(lc(e.length(),u,l,o,0,!0))}function uc(e){let t=.5,i=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:t,verticalAlign:i}}function dc(e,t,i,n,r){if(!n&&!r)return;const a=e[i],s=(e[i].x+a.metrics.advance*a.scale)*n;for(let o=t;o<=i;o++)e[o].x-=s,e[o].y+=r}function hc(e,t,i){const{horizontalAlign:n,verticalAlign:r}=uc(i),a=t[0]-e.displaySize[0]*n,s=t[1]-e.displaySize[1]*r;return{image:e,top:s,bottom:s+e.displaySize[1],left:a,right:a+e.displaySize[0]}}function pc(e,t,i,n,r,a){const s=e.image;let o;if(s.content){const e=s.content,t=s.pixelRatio||1;o=[e[0]/t,e[1]/t,s.displaySize[0]-e[2]/t,s.displaySize[1]-e[3]/t]}const l=t.left*a,c=t.right*a;let u,d,h,p;"width"===i||"both"===i?(p=r[0]+l-n[3],d=r[0]+c+n[1]):(p=r[0]+(l+c-s.displaySize[0])/2,d=p+s.displaySize[0]);const m=t.top*a,f=t.bottom*a;return"height"===i||"both"===i?(u=r[1]+m-n[0],h=r[1]+f+n[2]):(u=r[1]+(m+f-s.displaySize[1])/2,h=u+s.displaySize[1]),{image:s,top:u,right:d,bottom:h,left:p,collisionPadding:o}}class mc extends n{constructor(e,t,i,n){super(e,t),this.angle=i,void 0!==n&&(this.segment=n)}clone(){return new mc(this.x,this.y,this.angle,this.segment)}}function fc(e,t,i,n,r){if(void 0===t.segment)return!0;let a=t,s=t.segment+1,o=0;for(;o>-i/2;){if(s--,s<0)return!1;o-=e[s].dist(a),a=e[s]}o+=e[s].dist(e[s+1]),s++;const l=[];let c=0;for(;o<i/2;){const t=e[s],i=e[s+1];if(!i)return!1;let a=e[s-1].angleTo(t)-t.angleTo(i);for(a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:a}),c+=a;o-l[0].distance>n;)c-=l.shift().angleDelta;if(c>r)return!1;s++,o+=t.dist(i)}return!0}function _c(e){let t=0;for(let i=0;i<e.length-1;i++)t+=e[i].dist(e[i+1]);return t}function yc(e,t,i){return e?.6*t*i:0}function gc(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function vc(e,t,i,n,r,a){const s=yc(i,r,a),o=gc(i,n)*a;let l=0;const c=_c(e)/2;for(let u=0;u<e.length-1;u++){const i=e[u],n=e[u+1],r=i.dist(n);if(l+r>c){const a=(c-l)/r,d=Jt(i.x,n.x,a),h=Jt(i.y,n.y,a),p=new mc(d,h,n.angleTo(i),u);return p._round(),!s||fc(e,p,o,s,t)?p:void 0}l+=r}}function xc(e,t,i,n,r,a,s,o,l){const c=yc(n,a,s),u=gc(n,r),d=u*s,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),function e(t,i,n,r,a,s,o,l,c){const u=s/2,d=_c(t);let h=0,p=i-n,m=[];for(let f=0;f<t.length-1;f++){const e=t[f],i=t[f+1],o=e.dist(i),l=i.angleTo(e);for(;p+n<h+o;){p+=n;const _=(p-h)/o,y=Jt(e.x,i.x,_),g=Jt(e.y,i.y,_);if(y>=0&&y<c&&g>=0&&g<c&&p-u>=0&&p+u<=d){const e=new mc(y,g,l,f);e._round(),r&&!fc(t,e,s,r,a)||m.push(e)}}h+=o}return l||m.length||o||(m=e(t,h/2,n,r,a,s,o,!0,c)),m}(e,h?t/2*o%t:(u/2+2*a)*s*o%t,t,c,i,d,h,!1,l)}function bc(e,t,i,r,a){const s=[];for(let o=0;o<e.length;o++){const l=e[o];let c;for(let e=0;e<l.length-1;e++){let o=l[e],u=l[e+1];o.x<t&&u.x<t||(o.x<t?o=new n(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x<t&&(u=new n(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y<i&&u.y<i||(o.y<i?o=new n(o.x+(i-o.y)/(u.y-o.y)*(u.x-o.x),i)._round():u.y<i&&(u=new n(o.x+(i-o.y)/(u.y-o.y)*(u.x-o.x),i)._round()),o.x>=r&&u.x>=r||(o.x>=r?o=new n(r,o.y+(r-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x>=r&&(u=new n(r,o.y+(r-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y>=a&&u.y>=a||(o.y>=a?o=new n(o.x+(a-o.y)/(u.y-o.y)*(u.x-o.x),a)._round():u.y>=a&&(u=new n(o.x+(a-o.y)/(u.y-o.y)*(u.x-o.x),a)._round()),c&&o.equals(c[c.length-1])||(c=[o],s.push(c)),c.push(u)))))}}return s}function wc(e,t,i,r){const a=[],s=e.image,o=s.pixelRatio,l=s.paddedRect.w-2,c=s.paddedRect.h-2,u=e.right-e.left,d=e.bottom-e.top,h=s.stretchX||[[0,l]],p=s.stretchY||[[0,c]],m=(e,t)=>e+t[1]-t[0],f=h.reduce(m,0),_=p.reduce(m,0),y=l-f,g=c-_;let v=0,x=f,b=0,w=_,M=0,T=y,L=0,k=g;if(s.content&&r){const e=s.content;v=Mc(h,0,e[0]),b=Mc(p,0,e[1]),x=Mc(h,e[0],e[2]),w=Mc(p,e[1],e[3]),M=e[0]-v,L=e[1]-b,T=e[2]-e[0]-x,k=e[3]-e[1]-w}const S=(r,a,l,c)=>{const h=Lc(r.stretch-v,x,u,e.left),p=kc(r.fixed-M,T,r.stretch,f),m=Lc(a.stretch-b,w,d,e.top),y=kc(a.fixed-L,k,a.stretch,_),g=Lc(l.stretch-v,x,u,e.left),S=kc(l.fixed-M,T,l.stretch,f),D=Lc(c.stretch-b,w,d,e.top),E=kc(c.fixed-L,k,c.stretch,_),C=new n(h,m),P=new n(g,m),Y=new n(g,D),A=new n(h,D),I=new n(p/o,y/o),z=new n(S/o,E/o),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),i=[t,-e,e,t];C._matMult(i),P._matMult(i),A._matMult(i),Y._matMult(i)}const R=r.stretch+r.fixed,F=a.stretch+a.fixed;return{tl:C,tr:P,bl:A,br:Y,tex:{x:s.paddedRect.x+1+R,y:s.paddedRect.y+1+F,w:l.stretch+l.fixed-R,h:c.stretch+c.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:I,pixelOffsetBR:z,minFontScaleX:T/o/u,minFontScaleY:k/o/d,isSDF:i}};if(r&&(s.stretchX||s.stretchY)){const e=Tc(h,y,f),t=Tc(p,g,_);for(let i=0;i<e.length-1;i++){const n=e[i],r=e[i+1];for(let e=0;e<t.length-1;e++)a.push(S(n,t[e],r,t[e+1]))}}else a.push(S({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return a}function Mc(e,t,i){let n=0;for(const r of e)n+=Math.max(t,Math.min(i,r[1]))-Math.max(t,Math.min(i,r[0]));return n}function Tc(e,t,i){const n=[{fixed:-1,stretch:0}];for(const[r,a]of e){const e=n[n.length-1];n.push({fixed:r-e.stretch,stretch:e.stretch}),n.push({fixed:r-e.stretch,stretch:e.stretch+(a-r)})}return n.push({fixed:t+1,stretch:i}),n}function Lc(e,t,i,n){return e/t*i+n}function kc(e,t,i,n){return e-t*i/n}Wn("Anchor",mc);class Sc{constructor(e=[],t=Dc){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,n=t[e];for(;e>0;){const r=e-1>>1,a=t[r];if(i(n,a)>=0)break;t[e]=a,e=r}t[e]=n}_down(e){const{data:t,compare:i}=this,n=this.length>>1,r=t[e];for(;e<n;){let n=1+(e<<1),a=t[n];const s=n+1;if(s<this.length&&i(t[s],a)<0&&(n=s,a=t[s]),i(a,r)>=0)break;t[e]=a,e=n}t[e]=r}}function Dc(e,t){return e<t?-1:e>t?1:0}function Ec(e,t=1,i=!1){let r=1/0,a=1/0,s=-1/0,o=-1/0;const l=e[0];for(let n=0;n<l.length;n++){const e=l[n];(!n||e.x<r)&&(r=e.x),(!n||e.y<a)&&(a=e.y),(!n||e.x>s)&&(s=e.x),(!n||e.y>o)&&(o=e.y)}const c=Math.min(s-r,o-a);let u=c/2;const d=new Sc([],Cc);if(0===c)return new n(r,a);for(let n=r;n<s;n+=c)for(let t=a;t<o;t+=c)d.push(new Pc(n+u,t+u,u,e));let h=function(e){let t=0,i=0,n=0;const r=e[0];for(let a=0,s=r.length,o=s-1;a<s;o=a++){const e=r[a],s=r[o],l=e.x*s.y-s.x*e.y;i+=(e.x+s.x)*l,n+=(e.y+s.y)*l,t+=3*l}return new Pc(i/t,n/t,0,e)}(e),p=d.length;for(;d.length;){const n=d.pop();(n.d>h.d||!h.d)&&(h=n,i&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,p)),n.max-h.d<=t||(u=n.h/2,d.push(new Pc(n.p.x-u,n.p.y-u,u,e)),d.push(new Pc(n.p.x+u,n.p.y-u,u,e)),d.push(new Pc(n.p.x-u,n.p.y+u,u,e)),d.push(new Pc(n.p.x+u,n.p.y+u,u,e)),p+=4)}return i&&(console.log("num probes: "+p),console.log("best distance: "+h.d)),h.p}function Cc(e,t){return t.max-e.max}function Pc(e,t,i,r){this.p=new n(e,t),this.h=i,this.d=function(e,t){let i=!1,n=1/0;for(let r=0;r<t.length;r++){const a=t[r];for(let t=0,r=a.length,s=r-1;t<r;s=t++){const r=a[t],o=a[s];r.y>e.y!=o.y>e.y&&e.x<(o.x-r.x)*(e.y-r.y)/(o.y-r.y)+r.x&&(i=!i),n=Math.min(n,es(e,r,o))}}return(i?1:-1)*Math.sqrt(n)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}const Yc=Number.POSITIVE_INFINITY;function Ac(e,t){return t[1]!==Yc?function(e,t,i){let n=0,r=0;switch(t=Math.abs(t),i=Math.abs(i),e){case"top-right":case"top-left":case"top":r=i-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-i}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,r]}(e,t[0],t[1]):function(e,t){let i=0,n=0;t<0&&(t=0);const r=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=r-7;break;case"bottom-right":case"bottom-left":n=7-r;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":i=-r;break;case"top-left":case"bottom-left":i=r;break;case"left":i=t;break;case"right":i=-t}return[i,n]}(e,t[0])}function Ic(e,t,i,n,r,a,s,o){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const l=e.layers[0].layout,c=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:i}=e.textSizeData;u.compositeTextSizes=[c["text-size"].possiblyEvaluate(new fr(t),s),c["text-size"].possiblyEvaluate(new fr(i),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:i}=e.iconSizeData;u.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new fr(t),s),c["icon-size"].possiblyEvaluate(new fr(i),s)]}u.layoutTextSize=c["text-size"].possiblyEvaluate(new fr(o+1),s),u.layoutIconSize=c["icon-size"].possiblyEvaluate(new fr(o+1),s),u.textMaxSize=c["text-size"].possiblyEvaluate(new fr(18),s);const d=24*l.get("text-line-height"),h="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),p=l.get("text-keep-upright"),m=l.get("text-size");for(const f of e.features){const a=l.get("text-font").evaluate(f,{},s).join(","),o=m.evaluate(f,{},s),c=u.layoutTextSize.evaluate(f,{},s),_=(u.layoutIconSize.evaluate(f,{},s),{horizontal:{},vertical:void 0}),y=f.text;let g,v=[0,0];if(y){const n=y.toString(),u=24*l.get("text-letter-spacing").evaluate(f,{},s),m=Qn(n)?u:0,g=l.get("text-anchor").evaluate(f,{},s),x=l.get("text-variable-anchor");if(!x){const e=l.get("text-radial-offset").evaluate(f,{},s);v=e?Ac(g,[24*e,Yc]):l.get("text-offset").evaluate(f,{},s).map(e=>24*e)}let b=h?"center":l.get("text-justify").evaluate(f,{},s);const w=l.get("symbol-placement"),M="point"===w?24*l.get("text-max-width").evaluate(f,{},s):0,T=()=>{e.allowVerticalPlacement&&Kn(n)&&(_.vertical=ic(y,t,i,r,a,M,d,g,"left",m,v,Ql.vertical,!0,w,c,o))};if(!h&&x){const e="auto"===b?x.map(e=>zc(e)):[b];let n=!1;for(let s=0;s<e.length;s++){const l=e[s];if(!_.horizontal[l])if(n)_.horizontal[l]=_.horizontal[0];else{const e=ic(y,t,i,r,a,M,d,"center",l,m,v,Ql.horizontal,!1,w,c,o);e&&(_.horizontal[l]=e,n=1===e.positionedLines.length)}}T()}else{"auto"===b&&(b=zc(g));const e=ic(y,t,i,r,a,M,d,g,b,m,v,Ql.horizontal,!1,w,c,o);e&&(_.horizontal[b]=e),T(),Kn(n)&&h&&p&&(_.vertical=ic(y,t,i,r,a,M,d,g,b,m,v,Ql.vertical,!1,w,c,o))}}let x=!1;if(f.icon&&f.icon.name){const t=n[f.icon.name];t&&(g=hc(r[f.icon.name],l.get("icon-offset").evaluate(f,{},s),l.get("icon-anchor").evaluate(f,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&D("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=Fc(_.horizontal)||_.vertical;e.iconsInText=!!b&&b.iconsInText,(b||g)&&Oc(e,f,_,g,n,u,c,0,v,x,s)}a&&e.generateCollisionDebugBuffers(o,e.collisionBoxArray)}function zc(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Oc(e,t,i,n,r,a,s,o,l,c,d){let h=a.textMaxSize.evaluate(t,{},d);void 0===h&&(h=s);const p=e.layers[0].layout,m=p.get("icon-offset").evaluate(t,{},d),f=Fc(i.horizontal),_=s/24,y=e.tilePixelRatio*_,g=e.tilePixelRatio*h/24,v=e.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*e.tilePixelRatio,b=p.get("icon-padding")*e.tilePixelRatio,w=u(p.get("text-max-angle")),M="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),T="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),L=p.get("symbol-placement"),k=v/2,S=p.get("icon-text-fit");let E;n&&"none"!==S&&(e.allowVerticalPlacement&&i.vertical&&(E=pc(n,i.vertical,S,p.get("icon-text-fit-padding"),m,_)),f&&(n=pc(n,f,S,p.get("icon-text-fit-padding"),m,_)));const C=(o,u)=>{u.x<0||u.x>=8192||u.y<0||u.y>=8192||function(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y,g,v,x,b,w,M,T){const L=e.addToLineVertexArray(t,i);let k,S,E,C,P,Y,A,I=0,z=0,O=0,R=0,F=-1,B=-1;const j={};let H=_a(""),N=0,U=0;if(void 0===o._unevaluatedLayout.getValue("text-radial-offset")?[N,U]=o.layout.get("text-offset").evaluate(x,{},M).map(e=>24*e):(N=24*o.layout.get("text-radial-offset").evaluate(x,{},M),U=Yc),e.allowVerticalPlacement&&n.vertical){const e=n.vertical;if(m)Y=jc(e),s&&(A=jc(s));else{const i=o.layout.get("text-rotate").evaluate(x,{},M)+90;E=Bc(l,t,c,u,d,e,0,p,i),s&&(C=Bc(l,t,c,u,d,s,0,y,i))}}if(r){const i=o.layout.get("icon-rotate").evaluate(x,{},M),n="none"!==o.layout.get("icon-text-fit"),a=wc(r,i,w,n),h=s?wc(s,i,w,n):void 0;S=Bc(l,t,c,u,d,r,0,y,i),I=4*a.length;const p=e.iconSizeData;let m=null;"source"===p.kind?(m=[128*o.layout.get("icon-size").evaluate(x,{},M)],m[0]>32640&&D(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===p.kind&&(m=[128*b.compositeIconSizes[0].evaluate(x,{},M),128*b.compositeIconSizes[1].evaluate(x,{},M)],(m[0]>32640||m[1]>32640)&&D(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,g,x,!1,t,L.lineStartIndex,L.lineLength,-1,M),F=e.icon.placedSymbolArray.length-1,h&&(z=4*h.length,e.addSymbols(e.icon,h,m,v,g,x,Ql.vertical,t,L.lineStartIndex,L.lineLength,-1,M),B=e.icon.placedSymbolArray.length-1)}for(const D in n.horizontal){const i=n.horizontal[D];k||(H=_a(i.text),m?P=jc(i):k=Bc(l,t,c,u,d,i,0,p,o.layout.get("text-rotate").evaluate(x,{},M)));const r=1===i.positionedLines.length;if(O+=Rc(e,t,i,a,o,m,x,f,L,n.vertical?Ql.horizontal:Ql.horizontalOnly,r?Object.keys(n.horizontal):[D],j,F,b,M),r)break}n.vertical&&(R+=Rc(e,t,n.vertical,a,o,m,x,f,L,Ql.vertical,["vertical"],j,B,b,M));let V=-1;const W=(e,t)=>e?Math.max(e,t):t;V=W(P,V),V=W(Y,V),V=W(A,V);const $=V>-1?1:0;$&&(V*=T/24),e.glyphOffsetArray.length>=Zc.MAX_GLYPHS&&D("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical||-1,F,B,H,void 0!==k?k:e.collisionBoxArray.length,void 0!==k?k+1:e.collisionBoxArray.length,void 0!==E?E:e.collisionBoxArray.length,void 0!==E?E+1:e.collisionBoxArray.length,void 0!==S?S:e.collisionBoxArray.length,void 0!==S?S+1:e.collisionBoxArray.length,C||e.collisionBoxArray.length,C?C+1:e.collisionBoxArray.length,c,O,R,I,z,$,0,h,N,U,V)}(e,u,o,i,n,r,E,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,x,M,l,0,b,T,m,t,a,c,d,s)};if("line"===L)for(const u of bc(t.geometry,0,0,8192,8192)){const t=xc(u,v,w,i.vertical||f,n,24,g,e.overscaling,8192);for(const i of t){const t=f;t&&Hc(e,t.text,k,i)||C(u,i)}}else if("line-center"===L){for(const u of t.geometry)if(u.length>1){const e=vc(u,w,i.vertical||f,n,24,g);e&&C(u,e)}}else if("Polygon"===t.type)for(const u of Co(t.geometry,0)){const e=Ec(u,16);C(u[0],new mc(e.x,e.y,0))}else if("LineString"===t.type)for(const u of t.geometry)C(u,new mc(u[0].x,u[0].y,0));else if("Point"===t.type)for(const u of t.geometry)for(const e of u)C([e],new mc(e.x,e.y,0))}function Rc(e,t,i,r,a,s,o,l,c,u,d,h,p,m,f){const _=function(e,t,i,r,a,s,o,l){const c=r.layout.get("text-rotate").evaluate(s,{})*Math.PI/180,u=[];for(const d of t.positionedLines)for(const e of d.positionedGlyphs){if(!e.rect)continue;const r=e.rect||{};let s=4,h=!0,p=1,m=0;const f=(a||l)&&e.vertical,_=e.metrics.advance*e.scale/2;if(l&&t.verticalizable){const t=24*(e.scale-1),i=(24-e.metrics.width*e.scale)/2;m=d.lineOffset/2-(e.imageName?-i:t)}if(e.imageName){const t=o[e.imageName];h=t.sdf,p=t.pixelRatio,s=1/p}const y=a?[e.x+_,e.y]:[0,0];let g=a?[0,0]:[e.x+_+i[0],e.y+i[1]-m],v=[0,0];f&&(v=g,g=[0,0]);const x=(e.metrics.left-s)*e.scale-_+g[0],b=(-e.metrics.top-s)*e.scale+g[1],w=x+r.w*e.scale/p,M=b+r.h*e.scale/p,T=new n(x,b),L=new n(w,b),k=new n(x,M),S=new n(w,M);if(f){const t=new n(-_,_- -17),i=-Math.PI/2,r=12-_,a=new n(22-r,-(e.imageName?r:0)),s=new n(...v);T._rotateAround(i,t)._add(a)._add(s),L._rotateAround(i,t)._add(a)._add(s),k._rotateAround(i,t)._add(a)._add(s),S._rotateAround(i,t)._add(a)._add(s)}if(c){const e=Math.sin(c),t=Math.cos(c),i=[t,-e,e,t];T._matMult(i),L._matMult(i),k._matMult(i),S._matMult(i)}const D=new n(0,0),E=new n(0,0);u.push({tl:T,tr:L,bl:k,br:S,tex:r,writingMode:t.writingMode,glyphOffset:y,sectionIndex:e.sectionIndex,isSDF:h,pixelOffsetTL:D,pixelOffsetBR:E,minFontScaleX:0,minFontScaleY:0})}return u}(0,i,l,a,s,o,r,e.allowVerticalPlacement),y=e.textSizeData;let g=null;"source"===y.kind?(g=[128*a.layout.get("text-size").evaluate(o,{},f)],g[0]>32640&&D(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===y.kind&&(g=[128*m.compositeTextSizes[0].evaluate(o,{},f),128*m.compositeTextSizes[1].evaluate(o,{},f)],(g[0]>32640||g[1]>32640)&&D(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,_,g,l,s,o,u,t,c.lineStartIndex,c.lineLength,p,f);for(const n of d)h[n]=e.text.placedSymbolArray.length-1;return 4*_.length}function Fc(e){for(const t in e)return e[t];return null}function Bc(e,t,i,r,a,s,o,l,c){let d=s.top,h=s.bottom,p=s.left,m=s.right;const f=s.collisionPadding;if(f&&(p-=f[0],d-=f[1],m+=f[2],h+=f[3]),c){const e=new n(p,d),t=new n(m,d),i=new n(p,h),r=new n(m,h),a=u(c);e._rotate(a),t._rotate(a),i._rotate(a),r._rotate(a),p=Math.min(e.x,t.x,i.x,r.x),m=Math.max(e.x,t.x,i.x,r.x),d=Math.min(e.y,t.y,i.y,r.y),h=Math.max(e.y,t.y,i.y,r.y)}return e.emplaceBack(t.x,t.y,p,d,m,h,l,i,r,a),e.length-1}function jc(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Hc(e,t,i,n){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<i)return!0}else r[t]=[];return r[t].push(n),!1}const Nc=qo.VectorTileFeature.types,Uc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vc(e,t,i,n,r,a,s,o,l,c,u,d,h){const p=o?Math.min(32640,Math.round(o[0])):0,m=o?Math.min(32640,Math.round(o[1])):0;e.emplaceBack(t,i,Math.round(32*n),Math.round(32*r),a,s,(p<<1)+(l?1:0),m,16*c,16*u,256*d,256*h)}function Wc(e,t,i){e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i),e.emplaceBack(t.x,t.y,i)}function $c(e){for(const t of e.sections)if(ar(t.text))return!0;return!1}class Gc{constructor(e){this.layoutVertexArray=new Hr,this.indexArray=new qr,this.programConfigurations=e,this.segments=new ja,this.dynamicLayoutVertexArray=new Nr,this.opacityVertexArray=new Ur,this.placedSymbolArray=new sa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,i,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,_l.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Uc,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Wn("SymbolBuffers",Gc);class qc{constructor(e,t,i){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new i,this.segments=new ja,this.collisionVertexArray=new Gr,this.collisionVertexArrayExt=new Nr}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,yl.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,gl.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Wn("CollisionBuffers",qc);class Zc{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ps([]),this.placementViewportMatrix=ps([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=bl(this.zoom,t["text-size"]),this.iconSizeData=bl(this.zoom,t["icon-size"]);const i=this.layers[0].layout,n=i.get("symbol-sort-key"),r=i.get("symbol-z-order");this.canOverlap=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map(e=>Ql[e])),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID}createArrays(){this.text=new Gc(new Ia(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Gc(new Ia(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new ca,this.lineVertexArray=new ua,this.symbolInstances=new la}calculateGlyphDependencies(e,t,i,n,r){for(let a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(i||n)&&r){const i=kl[e.charAt(a)];i&&(t[i.charCodeAt(0)]=!0)}}populate(e,t,i){const n=this.layers[0],r=n.layout,a=r.get("text-font"),s=r.get("text-field"),o=r.get("icon-image"),l=("constant"!==s.value.kind||s.value.value instanceof ut&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==o.value.kind||!!o.value.value||Object.keys(o.parameters).length>0,u=r.get("symbol-sort-key");if(this.features=[],!l&&!c)return;const d=t.iconDependencies,h=t.glyphDependencies,p=t.availableImages,m=new fr(this.zoom);for(const{feature:f,id:_,index:y,sourceLayerIndex:g}of e){const e=n._featureFilter.needGeometry,t=Va(f,e);if(!n._featureFilter.filter(m,t,i))continue;let s,o;if(e||(t.geometry=Ua(f)),l){const e=n.getValueAndResolveTokens("text-field",t,i,p),r=ut.factory(e);$c(r)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===hr()||this.hasRTLText&&mr.isParsed())&&(s=Ll(r,n,t))}if(c){const e=n.getValueAndResolveTokens("icon-image",t,i,p);o=e instanceof dt?e:dt.fromString(e)}if(!s&&!o)continue;const v=this.sortFeaturesByKey?u.evaluate(t,{},i):void 0;if(this.features.push({id:_,text:s,icon:o,index:y,sourceLayerIndex:g,geometry:t.geometry,properties:f.properties,type:Nc[f.type],sortKey:v}),o&&(d[o.name]=!0),s){const e=a.evaluate(t,{},i).join(","),n="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ql.vertical)>=0;for(const t of s.sections)if(t.image)d[t.image.name]=!0;else{const i=Kn(s.toString()),r=t.fontStack||e,a=h[r]=h[r]||{};this.calculateGlyphDependencies(t.text,a,n,this.allowVerticalPlacement,i)}}}"line"===r.get("symbol-placement")&&(this.features=function(e){const t={},i={},n=[];let r=0;function a(t){n.push(e[t]),r++}function s(e,t,r){const a=i[e];return delete i[e],i[t]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(r[0]),a}function o(e,i,r){const a=t[i];return delete t[i],t[e]=a,n[a].geometry[0].shift(),n[a].geometry[0]=r[0].concat(n[a].geometry[0]),a}function l(e,t,i){const n=i?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let c=0;c<e.length;c++){const u=e[c],d=u.geometry,h=u.text?u.text.toString():null;if(!h){a(c);continue}const p=l(h,d),m=l(h,d,!0);if(p in i&&m in t&&i[p]!==t[m]){const e=o(p,m,d),r=s(p,m,n[e].geometry);delete t[p],delete i[m],i[l(h,n[r].geometry,!0)]=r,n[e].geometry=null}else p in i?s(p,m,d):m in t?o(p,m,d):(a(c),t[p]=r-1,i[m]=r-1)}return n.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,i),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const i=this.lineVertexArray.length;if(void 0!==e.segment){let i=e.dist(t[e.segment+1]),n=e.dist(t[e.segment]);const r={};for(let a=e.segment+1;a<t.length;a++)r[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:i},a<t.length-1&&(i+=t[a+1].dist(t[a]));for(let a=e.segment||0;a>=0;a--)r[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a>0&&(n+=t[a-1].dist(t[a]));for(let e=0;e<t.length;e++){const t=r[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(e,t,i,n,r,a,s,o,l,c,u,d){const h=e.indexArray,p=e.layoutVertexArray,m=e.segments.prepareSegment(4*t.length,p,h,this.canOverlap?a.sortKey:void 0),f=this.glyphOffsetArray.length,_=m.vertexLength,y=this.allowVerticalPlacement&&s===Ql.vertical?Math.PI/2:0,g=a.text&&a.text.sections;for(let v=0;v<t.length;v++){const{tl:n,tr:r,bl:s,br:l,tex:c,pixelOffsetTL:u,pixelOffsetBR:f,minFontScaleX:_,minFontScaleY:x,glyphOffset:b,isSDF:w,sectionIndex:M}=t[v],T=m.vertexLength,L=b[1];Vc(p,o.x,o.y,n.x,L+n.y,c.x,c.y,i,w,u.x,u.y,_,x),Vc(p,o.x,o.y,r.x,L+r.y,c.x+c.w,c.y,i,w,f.x,u.y,_,x),Vc(p,o.x,o.y,s.x,L+s.y,c.x,c.y+c.h,i,w,u.x,f.y,_,x),Vc(p,o.x,o.y,l.x,L+l.y,c.x+c.w,c.y+c.h,i,w,f.x,f.y,_,x),Wc(e.dynamicLayoutVertexArray,o,y),h.emplaceBack(T,T+1,T+2),h.emplaceBack(T+1,T+2,T+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(b[0]),v!==t.length-1&&M===t[v+1].sectionIndex||e.programConfigurations.populatePaintArrays(p.length,a,a.index,{},d,g&&g[M])}e.placedSymbolArray.emplaceBack(o.x,o.y,f,this.glyphOffsetArray.length-f,_,l,c,o.segment,i?i[0]:0,i?i[1]:0,n[0],n[1],s,0,!1,0,u)}_commitLayoutVertex(e,t,i,n,r){e.emplaceBack(t.x,t.y,i,n,Math.round(r.x),Math.round(r.y))}_addCollisionDebugVertices(e,t,i,r,a){const s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),o=s.vertexLength,l=a.anchorX,c=a.anchorY;for(let n=0;n<4;n++)i.collisionVertexArray.emplaceBack(0,0,0,0);i.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),i.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),i.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(i.layoutVertexArray,r,l,c,new n(e.x1,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,l,c,new n(e.x2,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,l,c,new n(e.x2,e.y2)),this._commitLayoutVertex(i.layoutVertexArray,r,l,c,new n(e.x1,e.y2)),s.vertexLength+=4;const u=i.indexArray;u.emplaceBack(o,o+1),u.emplaceBack(o+1,o+2),u.emplaceBack(o+2,o+3),u.emplaceBack(o+3,o),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,i,n,r,a){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceTextSize(e,a,t,s);this._addCollisionDebugVertices(n,r,this.textCollisionBox,n.anchorPoint,a)}}_addIconDebugCollisionBoxes(e,t,i,n,r,a){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceIconSize(e,t,s);this._addCollisionDebugVertices(n,r,this.iconCollisionBox,n.anchorPoint,a)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qc(Wr,vl.members,ea),this.iconCollisionBox=new qc(Wr,vl.members,ea);const i=Ml(this.iconSizeData,e),n=Ml(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const a=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(n,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(n,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(i,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(i,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a)}}getSymbolInstanceTextSize(e,t,i,n){const r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),a=wl(this.textSizeData,e,r)/24;return this.tilePixelRatio*a}getSymbolInstanceIconSize(e,t,i){const n=this.icon.placedSymbolArray.get(i),r=wl(this.iconSizeData,e,n);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(e,t,i){e.emplaceBack(t,-i,-i),e.emplaceBack(t,i,-i),e.emplaceBack(t,i,i),e.emplaceBack(t,-i,i)}_updateTextDebugCollisionBoxes(e,t,i,n,r,a){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceTextSize(e,a,t,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,n.padding)}}_updateIconDebugCollisionBoxes(e,t,i,n,r){for(let a=n;a<r;a++){const n=i.get(a),r=this.getSymbolInstanceIconSize(e,t,a);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,n.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const i=Ml(this.iconSizeData,e),n=Ml(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const a=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(n,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(n,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(i,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(i,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,i,n,r,a,s,o,l){const c={};for(let u=t;u<i;u++){const t=e.get(u);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.textFeatureIndex=t.featureIndex;break}for(let u=n;u<r;u++){const t=e.get(u);c.verticalTextBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalTextFeatureIndex=t.featureIndex;break}for(let u=a;u<s;u++){const t=e.get(u);c.iconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.iconFeatureIndex=t.featureIndex;break}for(let u=o;u<l;u++){const t=e.get(u);c.verticalIconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalIconFeatureIndex=t.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const i=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const i=e.placedSymbolArray.get(t),n=i.vertexStartIndex+4*i.numGlyphs;for(let r=i.vertexStartIndex;r<n;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),i=Math.cos(e),n=[],r=[],a=[];for(let s=0;s<this.symbolInstances.length;++s){a.push(s);const e=this.symbolInstances.get(s);n.push(0|Math.round(t*e.anchorX+i*e.anchorY)),r.push(e.featureIndex)}return a.sort((e,t)=>n[e]-n[t]||r[t]-r[e]),a}addToSortKeyRanges(e,t){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===t?i.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,i)=>{e>=0&&i.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Wn("SymbolBucket",Zc,{omit:["layers","collisionBoxArray","features","compareText"]}),Zc.MAX_GLYPHS=65535,Zc.addDynamicAttributes=Wc;const Xc=new Er({"symbol-placement":new Tr(ze.layout_symbol["symbol-placement"]),"symbol-spacing":new Tr(ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Tr(ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Lr(ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Tr(ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Tr(ze.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Tr(ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new Tr(ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Tr(ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Lr(ze.layout_symbol["icon-size"]),"icon-text-fit":new Tr(ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Tr(ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Lr(ze.layout_symbol["icon-image"]),"icon-rotate":new Lr(ze.layout_symbol["icon-rotate"]),"icon-padding":new Tr(ze.layout_symbol["icon-padding"]),"icon-keep-upright":new Tr(ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Lr(ze.layout_symbol["icon-offset"]),"icon-anchor":new Lr(ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Tr(ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Tr(ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Tr(ze.layout_symbol["text-rotation-alignment"]),"text-field":new Lr(ze.layout_symbol["text-field"]),"text-font":new Lr(ze.layout_symbol["text-font"]),"text-size":new Lr(ze.layout_symbol["text-size"]),"text-max-width":new Lr(ze.layout_symbol["text-max-width"]),"text-line-height":new Tr(ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Lr(ze.layout_symbol["text-letter-spacing"]),"text-justify":new Lr(ze.layout_symbol["text-justify"]),"text-radial-offset":new Lr(ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Tr(ze.layout_symbol["text-variable-anchor"]),"text-anchor":new Lr(ze.layout_symbol["text-anchor"]),"text-max-angle":new Tr(ze.layout_symbol["text-max-angle"]),"text-writing-mode":new Tr(ze.layout_symbol["text-writing-mode"]),"text-rotate":new Lr(ze.layout_symbol["text-rotate"]),"text-padding":new Tr(ze.layout_symbol["text-padding"]),"text-keep-upright":new Tr(ze.layout_symbol["text-keep-upright"]),"text-transform":new Lr(ze.layout_symbol["text-transform"]),"text-offset":new Lr(ze.layout_symbol["text-offset"]),"text-allow-overlap":new Tr(ze.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Tr(ze.layout_symbol["text-ignore-placement"]),"text-optional":new Tr(ze.layout_symbol["text-optional"])});var Jc={paint:new Er({"icon-opacity":new Lr(ze.paint_symbol["icon-opacity"]),"icon-color":new Lr(ze.paint_symbol["icon-color"]),"icon-halo-color":new Lr(ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Lr(ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Lr(ze.paint_symbol["icon-halo-blur"]),"icon-translate":new Tr(ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new Tr(ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Lr(ze.paint_symbol["text-opacity"]),"text-color":new Lr(ze.paint_symbol["text-color"],{runtimeType:Ge,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Lr(ze.paint_symbol["text-halo-color"]),"text-halo-width":new Lr(ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Lr(ze.paint_symbol["text-halo-blur"]),"text-translate":new Tr(ze.paint_symbol["text-translate"]),"text-translate-anchor":new Tr(ze.paint_symbol["text-translate-anchor"])}),layout:Xc};class Kc{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ue,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Wn("FormatSectionOverride",Kc,{omit:["defaultValue"]});class Qc extends Ra{constructor(e){super(e,Jc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const i of e)t.indexOf(i)<0&&t.push(i);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,i,n){const r=this.layout.get(e).evaluate(t,{},i,n),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||Ji(a.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,(t,i)=>i in e?String(e[i]):"")}(t.properties,r)}createBucket(e){return new Zc(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Jc.paint.overridableProperties){if(!Qc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),i=new Kc(t),n=new Xi(i,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new Qi("source",n):new en("composite",n,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new wr(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,i){return!(!this.layout||t.isDataDriven()||i.isDataDriven())&&Qc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const i=e.get("text-field"),n=Jc.paint.properties[t];let r=!1;const a=e=>{for(const t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(r=!0)};if("constant"===i.value.kind&&i.value.value instanceof ut)a(i.value.value.sections);else if("source"===i.value.kind){const e=t=>{r||(t instanceof _t&&mt(t.value)===Je?a(t.value.sections):t instanceof xt?a(t.sections):t.eachChild(e))},t=i.value;t._styleExpression&&e(t._styleExpression.expression)}return r}getProgramConfiguration(e){return new Aa(this,e)}}var eu={paint:new Er({"background-color":new Tr(ze.paint_background["background-color"]),"background-pattern":new Sr(ze.paint_background["background-pattern"]),"background-opacity":new Tr(ze.paint_background["background-opacity"])})},tu={paint:new Er({"raster-opacity":new Tr(ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new Tr(ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Tr(ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Tr(ze.paint_raster["raster-brightness-max"]),"raster-saturation":new Tr(ze.paint_raster["raster-saturation"]),"raster-contrast":new Tr(ze.paint_raster["raster-contrast"]),"raster-resampling":new Tr(ze.paint_raster["raster-resampling"]),"raster-fade-duration":new Tr(ze.paint_raster["raster-fade-duration"])})};class iu extends Ra{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var nu={paint:new Er({"sky-type":new Tr(ze.paint_sky["sky-type"]),"sky-atmosphere-sun":new Tr(ze.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Tr(ze.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Tr(ze.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Tr(ze.paint_sky["sky-gradient-radius"]),"sky-gradient":new Dr(ze.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Tr(ze.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Tr(ze.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Tr(ze.paint_sky["sky-opacity"])})};function ru(e,t,i){const n=vs(0,0,1),r=As(Ys());return function(e,t,i){i*=.5;var n=t[0],r=t[1],a=t[2],s=t[3],o=Math.sin(i),l=Math.cos(i);e[0]=n*l-a*o,e[1]=r*l+s*o,e[2]=a*l+n*o,e[3]=s*l-r*o}(r,r,i?-u(e)+Math.PI:u(e)),Is(r,r,-u(t)),Ss(n,n,r),Ts(n,n)}const au={circle:class extends Ra{constructor(e){super(e,us)}createBucket(e){return new $a(e)}queryRadius(e){const t=e;return as("circle-radius",this,t)+as("circle-stroke-width",this,t)+ss(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,i,n,r,a,s,o){const l="map"===this.paint.get("circle-pitch-alignment");if(l&&e.queryGeometry.isAboveHorizon)return!1;const c=ls(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(t,i)+this.paint.get("circle-stroke-width").evaluate(t,i),d=l?u*e.pixelToTileUnitsFactor:u;for(const h of n)for(const t of h){const i=t.add(c),n=o&&a.elevation?a.elevation.exaggeration()*o.getElevationAt(i.x,i.y,!0):0,r=l?i:Rs(i,n,s),u=l?e.tilespaceRays.map(e=>js(e,n)):e.queryGeometry.screenGeometry;let h=d;const p=Ps([],[t.x,t.y,n,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?h*=p[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(h*=a.cameraToCenterDistance/p[3]),qa(u,r,h))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new Aa(this,e)}},heatmap:class extends Ra{createBucket(e){return new Hs(e)}constructor(e){super(e,Gs),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=qs({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new Aa(this,e)}},hillshade:class extends Ra{constructor(e){super(e,Zs)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(e){return new Aa(this,e)}},fill:class extends Ra{constructor(e){super(e,Oo)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),i=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(e){return new Aa(this,e)}recalculate(e,t){super.recalculate(e,t);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Io(e)}queryRadius(){return ss(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,i,n,r,a){return!e.queryGeometry.isAboveHorizon&&Za(os(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends Ra{constructor(e){super(e,tl)}createBucket(e){return new Qo(e)}queryRadius(){return ss(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new Aa(this,e)}queryIntersectsFeature(e,t,i,r,a,s,o){const l=ls(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),s.angle,e.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(t,i),u=this.paint.get("fill-extrusion-base").evaluate(t,i),d=e.queryGeometry.screenGeometry,h=function(e,t,i,r,a){const s=[],o=[],l=a[8]*t,c=a[9]*t,u=a[10]*t,d=a[11]*t,h=a[8]*i,p=a[9]*i,m=a[10]*i,f=a[11]*i;for(const _ of e){const e=[],t=[];for(const i of _){const s=i.x+r.x,o=i.y+r.y,_=a[0]*s+a[4]*o+a[12],y=a[1]*s+a[5]*o+a[13],g=a[2]*s+a[6]*o+a[14],v=a[3]*s+a[7]*o+a[15],x=g+u,b=v+d,w=_+h,M=y+p,T=g+m,L=v+f,k=new n((_+l)/b,(y+c)/b);k.z=x/b,e.push(k);const S=new n(w/L,M/L);S.z=T/L,t.push(S)}s.push(e),o.push(t)}return[s,o]}(r,u,c,l,o);return function(e,t,i){let n=1/0;Za(i,t)&&(n=nl(i,t[0]));for(let r=0;r<t.length;r++){const a=t[r],s=e[r];for(let e=0;e<a.length-1;e++){const t=a[e],r=[t,a[e+1],s[e+1],s[e],t];Ga(i,r)&&(n=Math.min(n,nl(i,r)))}}return n!==1/0&&n}(h[0],h[1],d)}},line:class extends Ra{constructor(e){super(e,hl),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Xt,this.gradientVersion=(this.gradientVersion+1)%o)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=pl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new ul(e)}getProgramIds(){const e=this.paint.get("line-dasharray"),t=this.paint.get("line-pattern").constantOr(1),i=this.paint.get("line-gradient");return[t?"linePattern":e?"lineSDF":i?"lineGradient":"line"]}getProgramConfiguration(e){return new Aa(this,e)}queryRadius(e){const t=e,i=ml(as("line-width",this,t),as("line-gap-width",this,t)),n=as("line-offset",this,t);return i/2+Math.abs(n)+ss(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,i,r,a,s){if(e.queryGeometry.isAboveHorizon)return!1;const o=os(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),s.angle,e.pixelToTileUnitsFactor),l=e.pixelToTileUnitsFactor/2*ml(this.paint.get("line-width").evaluate(t,i),this.paint.get("line-gap-width").evaluate(t,i)),c=this.paint.get("line-offset").evaluate(t,i);return c&&(r=function(e,t){const i=[],r=new n(0,0);for(let n=0;n<e.length;n++){const a=e[n],s=[];for(let e=0;e<a.length;e++){const i=a[e-1],n=a[e],o=a[e+1],l=0===e?r:n.sub(i)._unit()._perp(),c=e===a.length-1?r:o.sub(n)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),s.push(u._mult(t)._add(n))}i.push(s)}return i}(r,c*e.pixelToTileUnitsFactor)),function(e,t,i){for(let n=0;n<t.length;n++){const r=t[n];if(e.length>=3)for(let t=0;t<r.length;t++)if(is(e,r[t]))return!0;if(Xa(e,r,i))return!0}return!1}(o,r,l)}isTileClipped(){return!0}},symbol:Qc,background:class extends Ra{constructor(e){super(e,eu)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ra{constructor(e){super(e,tu)}getProgramIds(){return["raster"]}},sky:class extends Ra{constructor(e){super(e,nu),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=qs({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}}getCenter(e,t){const i=this.paint.get("sky-type");if("atmosphere"===i){const i=this.paint.get("sky-atmosphere-sun"),n=!i,r=e.style.light,a=r.properties.get("position");return n&&"viewport"===r.properties.get("anchor")&&D("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?ru(a.azimuthal,90-a.polar,t):ru(i[0],90-i[1],t)}if("gradient"===i){const e=this.paint.get("sky-gradient-center");return ru(e[0],90-e[1],t)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}},{HTMLImageElement:su,HTMLCanvasElement:ou,HTMLVideoElement:lu,ImageData:cu,ImageBitmap:uu}=a;class du{constructor(e,t,i,n){this.context=e,this.format=i,this.texture=e.gl.createTexture(),this.update(t,n)}update(e,t,i){const{width:n,height:r}=e,a=!(this.size&&this.size[0]===n&&this.size[1]===r||i),{context:s}=this,{gl:o}=s;if(this.useMipmap=Boolean(t&&t.useMipmap),o.bindTexture(o.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[n,r],e instanceof su||e instanceof ou||e instanceof lu||e instanceof cu||uu&&e instanceof uu?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,e):o.texImage2D(o.TEXTURE_2D,0,this.format,n,r,0,this.format,o.UNSIGNED_BYTE,e.data);else{const{x:t,y:a}=i||{x:0,y:0};e instanceof su||e instanceof ou||e instanceof lu||e instanceof cu||uu&&e instanceof uu?o.texSubImage2D(o.TEXTURE_2D,0,t,a,o.RGBA,o.UNSIGNED_BYTE,e):o.texSubImage2D(o.TEXTURE_2D,0,t,a,n,r,o.RGBA,o.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&o.generateMipmap(o.TEXTURE_2D)}bind(e,t,i){const{context:n}=this,{gl:r}=n;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class hu{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const pu=a.performance;class mu{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},pu.mark(this._marks.start)}finish(){pu.mark(this._marks.end);let e=pu.getEntriesByName(this._marks.measure);return 0===e.length&&(pu.measure(this._marks.measure,this._marks.start,this._marks.end),e=pu.getEntriesByName(this._marks.measure),pu.clearMarks(this._marks.start),pu.clearMarks(this._marks.end),pu.clearMeasures(this._marks.measure)),e}}class fu{constructor(){this.tasks={},this.taskQueue=[],w(["process"],this),this.invoker=new hu(this.process),this.nextId=0}add(e,t){const i=this.nextId++;return this.tasks[i]={fn:e,metadata:t,priority:_u(t),id:i},this.taskQueue.push(i),this.invoker.trigger(),{cancel:()=>{delete this.tasks[i]}}}process(){P();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let n=0;n<this.taskQueue.length;n++){const i=this.tasks[this.taskQueue[n]];i.priority<t&&(t=i.priority,e=n)}if(null===e)return null;const i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}remove(){this.invoker.remove()}}function _u({type:e,isSymbolTile:t,zoom:i}){return i=i||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-i:"maybePrepare"===e&&t?400-i:500:200-i:100-i}class yu{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof gu?new gu(e.lng,e.lat):gu.convert(e),this}setSouthWest(e){return this._sw=e instanceof gu?new gu(e.lng,e.lat):gu.convert(e),this}extend(e){const t=this._sw,i=this._ne;let n,r;if(e instanceof gu)n=e,r=e;else{if(!(e instanceof yu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(yu.convert(e)):this.extend(gu.convert(e)):this;if(n=e._sw,r=e._ne,!n||!r)return this}return t||i?(t.lng=Math.min(n.lng,t.lng),t.lat=Math.min(n.lat,t.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new gu(n.lng,n.lat),this._ne=new gu(r.lng,r.lat)),this}getCenter(){return new gu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new gu(this.getWest(),this.getNorth())}getSouthEast(){return new gu(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:i}=gu.convert(e);let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&n}static convert(e){return!e||e instanceof yu?e:new yu(e)}}class gu{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gu(f(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,i=this.lat*t,n=e.lat*t,r=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(r,1))}toBounds(e=0){const t=360*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return new yu(new gu(this.lng-i,this.lat-t),new gu(this.lng+i,this.lat+t))}static convert(e){if(e instanceof gu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new gu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new gu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const vu=2*Math.PI*6371008.8;function xu(e){return vu*Math.cos(e*Math.PI/180)}function bu(e){return(180+e)/360}function wu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Mu(e,t){return e/xu(t)}function Tu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Lu(e,t){return e*xu(Tu(t))}class ku{constructor(e,t,i=0){this.x=+e,this.y=+t,this.z=+i}static fromLngLat(e,t=0){const i=gu.convert(e);return new ku(bu(i.lng),wu(i.lat),Mu(t,i.lat))}toLngLat(){return new gu(360*this.x-180,Tu(this.y))}toAltitude(){return Lu(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/vu*(e=Tu(this.y),1/Math.cos(e*Math.PI/180));var e}}function Su(e,t,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class Du{constructor(e,t,i){this.z=e,this.x=t,this.y=i,this.key=Pu(0,e,e,t,i)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const i=(r=this.y,a=this.z,s=Su(256*(n=this.x),256*(r=Math.pow(2,a)-r-1),a),o=Su(256*(n+1),256*(r+1),a),s[0]+","+s[1]+","+o[0]+","+o[1]);var n,r,a,s,o;const l=function(e,t,i){let n,r="";for(let a=e;a>0;a--)n=1<<a-1,r+=(t&n?1:0)+(i&n?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",i)}getTilePoint(e){const t=Math.pow(2,this.z);return new n(8192*(e.x*t-this.x),8192*(e.y*t-this.y))}getTileVec3(e){const t=Math.pow(2,this.z);return vs(8192*(e.x*t-this.x),8192*(e.y*t-this.y),Lu(e.z,e.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Eu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Pu(e,t.z,t.z,t.x,t.y)}}class Cu{constructor(e,t,i,n,r){this.overscaledZ=e,this.wrap=t,this.canonical=new Du(i,+n,+r),this.key=0===t&&e===i?this.canonical.key:Pu(t,e,i,n,r)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Cu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Cu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Pu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const i=this.canonical.z-e;return Pu(this.wrap*+t,e,e,this.canonical.x>>i,this.canonical.y>>i)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Cu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new Cu(t,this.wrap,t,i,n),new Cu(t,this.wrap,t,i+1,n),new Cu(t,this.wrap,t,i,n+1),new Cu(t,this.wrap,t,i+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Cu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Cu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Eu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new ku(e.x-this.wrap,e.y))}getTileVec3(e){return this.canonical.getTileVec3(new ku(e.x-this.wrap,e.y,e.z))}}function Pu(e,t,i,n,r){const a=1<<Math.min(i,22);let s=a*(r%a)+n%a;return e&&i<22&&(s+=a*a*((e<0?-2*e-1:2*e)%(1<<2*(22-i)))),16*(32*s+i)+(t-i)}Wn("CanonicalTileID",Du),Wn("OverscaledTileID",Cu,{omit:["posMatrix"]});class Yu{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const i=e[t];this._stringToNumber[i]=t,this._numberToString[t]=i}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class Au{constructor(e,t,i,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=i,e._y=n,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}var Iu=Ir([{name:"a_pos",type:"Int16",components:2}]);class zu{constructor(e,t,i){this.tileID=e,this.uid=v(),this.uses=0,this.tileSize=t,this.tileZoom=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const t=e+this.timeAdded;t<j.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(e,t,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const i={};if(!t)return i;for(const n of e){const e=n.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)i[t.id]=n}}return i}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Zc){if(this.hasSymbolBuckets=!0,!i)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Zc&&t.hasRTLText){this.hasRTLText=!0,mr.isLoading()||mr.isLoaded()||"deferred"!==hr()||pr();break}}this.queryPadding=0;for(const e in this.buckets){const i=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(i))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new ra}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const i in this.buckets){const t=this.buckets[i];t.uploadPending()&&t.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new du(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new du(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,i,n,r,a,s,o){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:s,transform:a,params:r},e,t,i):{}}querySourceFeatures(e,t){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const n=i.loadVTLayers(),r=t?t.sourceLayer:"",a=n._geojsonTileLayer||n[r];if(!a)return;const s=hn(t&&t.filter),{z:o,x:l,y:c}=this.tileID.canonical,u={z:o,x:l,y:c};for(let d=0;d<a.length;d++){const t=a.feature(d);if(s.needGeometry){const e=Va(t,!0);if(!s.filter(new fr(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new fr(this.tileID.overscaledZ),t))continue;const n=i.getId(t,r),h=new Au(t,o,l,c,n);h.tile=u,e.push(h)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=Y(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let i=!1;if(this.expirationTime>e)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{const n=this.expirationTime-t;n?this.expirationTime=e+Math.max(n,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const i=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!t.style.hasLayer(n))continue;const r=this.buckets[n],a=r.layers[0].sourceLayer||"_geojsonTileLayer",s=i[a],o=e[a];if(!s||!o||0===Object.keys(o).length)continue;r.update(o,s,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<j.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=j.now()+e}setDependencies(e,t){const i={};for(const n of t)i[n]=!0;this.dependencies[e]=i}hasDependency(e,t){for(const i of e){const e=this.dependencies[i];if(e)for(const i of t)if(e[i])return!0}return!1}clearQueryDebugViz(){}}class Ou{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,i){const n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},y(this.stateChanges[e][n],i),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==n&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][n]){this.deletedStates[e][n]={};for(const t in this.state[e][n])i[t]||(this.deletedStates[e][n][t]=null)}else for(const r in i)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][r]&&delete this.deletedStates[e][n][r]}removeFeatureState(e,t,i){if(null===this.deletedStates[e])return;const n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(i in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][i]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}getState(e,t){const i=String(t),n=y({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const i=this.deletedStates[e][t];if(null===i)return{};for(const e in i)delete n[e]}return n}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const i={};for(const n in this.stateChanges){this.state[n]=this.state[n]||{};const e={};for(const t in this.stateChanges[n])this.state[n][t]||(this.state[n][t]={}),y(this.state[n][t],this.stateChanges[n][t]),e[t]=this.state[n][t];i[n]=e}for(const n in this.deletedStates){this.state[n]=this.state[n]||{};const e={};if(null===this.deletedStates[n])for(const t in this.state[n])e[t]={},this.state[n][t]={};else for(const t in this.deletedStates[n]){if(null===this.deletedStates[n][t])this.state[n][t]={};else for(const e of Object.keys(this.deletedStates[n][t]))delete this.state[n][t][e];e[t]=this.state[n][t]}i[n]=i[n]||{},y(i[n],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const n in e)e[n].setFeatureState(i,t)}}class Ru{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const i=this.toIdx(e,t);return{min:this.minimums[i],max:this.maximums[i]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Fu(e,t,i,n){let r=0,a=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(n[s])<1e-15){if(i[s]<e[s]||i[s]>t[s])return null}else{const o=1/n[s];let l=(e[s]-i[s])*o,c=(t[s]-i[s])*o;if(l>c){const e=l;l=c,c=e}if(l>r&&(r=l),c<a&&(a=c),r>a)return null}return r}function Bu(e,t,i,n,r,a,s,o,l,c,u){const d=n-e,h=r-t,p=a-i,m=s-e,f=o-t,_=l-i,y=u[1]*_-u[2]*f,g=u[2]*m-u[0]*_,v=u[0]*f-u[1]*m,x=d*y+h*g+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,M=c[1]-t,T=c[2]-i,L=(w*y+M*g+T*v)*b;if(L<0||L>1)return null;const k=M*p-T*h,S=T*d-w*p,D=w*h-M*d,E=(u[0]*k+u[1]*S+u[2]*D)*b;return E<0||L+E>1?null:(m*k+f*S+_*D)*b}function ju(e,t,i){return(e-t)/(i-t)}function Hu(e,t,i,n,r,a,s,o,l){const c=1<<i,u=a-n,d=s-r,h=(e+1)/c*u+n,p=(t+0)/c*d+r,m=(t+1)/c*d+r;o[0]=(e+0)/c*u+n,o[1]=p,l[0]=h,l[1]=m}class Nu{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),i=[];let n=Math.ceil(Math.pow(2,t));const r=1/n,a=(e,t,i,n,r)=>{const a=n?1:0,s=(e+1)*i-a,o=t*i,l=(t+1)*i-a;r[0]=e*i,r[1]=o,r[2]=s,r[3]=l};let s=new Ru(n);const o=[];for(let l=0;l<n*n;l++){a(l%n,Math.floor(l/n),r,!1,o);const t=Vu(o[0],o[1],e),i=Vu(o[2],o[1],e),c=Vu(o[2],o[3],e),u=Vu(o[0],o[3],e);s.minimums.push(Math.min(t,i,c,u)),s.maximums.push(Math.max(t,i,c,u)),s.leaves.push(1)}for(i.push(s),n/=2;n>=1;n/=2){const e=i[i.length-1];s=new Ru(n);for(let t=0;t<n*n;t++){a(t%n,Math.floor(t/n),2,!0,o);const i=e.getElevation(o[0],o[1]),r=e.getElevation(o[2],o[1]),l=e.getElevation(o[2],o[3]),c=e.getElevation(o[0],o[3]),u=e.isLeaf(o[0],o[1]),d=e.isLeaf(o[2],o[1]),h=e.isLeaf(o[2],o[3]),p=e.isLeaf(o[0],o[3]),m=Math.min(i.min,r.min,l.min,c.min),f=Math.max(i.max,r.max,l.max,c.max),_=u&&d&&h&&p;s.maximums.push(f),s.minimums.push(m),s.leaves.push(f-m<=5&&_?1:0)}i.push(s)}return i}(this.dem),i=t.length-1,n=t[i];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(t,0,0,i,0)}raycastRoot(e,t,i,n,r,a,s=1){return Fu([e,t,-100],[i,n,this.maximums[0]*s],r,a)}raycast(e,t,i,n,r,a,s=1){if(!this.nodeCount)return null;const o=this.raycastRoot(e,t,i,n,r,a,s);if(null==o)return null;const l=[],c=[],u=[],d=[],h=[{idx:0,t:o,nodex:0,nodey:0,depth:0}];for(;h.length>0;){const{idx:o,t:p,nodex:m,nodey:f,depth:_}=h.pop();if(this.leaves[o]){Hu(m,f,_,e,t,i,n,u,d);const o=1<<_,l=(m+0)/o,c=(m+1)/o,h=(f+0)/o,y=(f+1)/o,g=Vu(l,h,this.dem)*s,v=Vu(c,h,this.dem)*s,x=Vu(c,y,this.dem)*s,b=Vu(l,y,this.dem)*s,w=Bu(u[0],u[1],g,d[0],u[1],v,d[0],d[1],x,r,a),M=Bu(d[0],d[1],x,u[0],d[1],b,u[0],u[1],g,r,a),T=Math.min(null!==w?w:Number.MAX_VALUE,null!==M?M:Number.MAX_VALUE);if(T!==Number.MAX_VALUE)return T;{const e=Ms([],r,a,p);if(Uu(g,v,b,x,ju(e[0],u[0],d[0]),ju(e[1],u[1],d[1]))>=e[2])return p}continue}let y=0;for(let h=0;h<this._siblingOffset.length;h++){Hu((m<<1)+this._siblingOffset[h][0],(f<<1)+this._siblingOffset[h][1],_+1,e,t,i,n,u,d),u[2]=-100,d[2]=this.maximums[this.childOffsets[o]+h]*s;const p=Fu(u,d,r,a);if(null!=p){const e=p;l[h]=e;let t=!1;for(let i=0;i<y&&!t;i++)e>=l[c[i]]&&(c.splice(i,0,h),t=!0);t||(c[y]=h),y++}}for(let e=0;e<y;e++){const t=c[e];h.push({idx:this.childOffsets[o]+t,t:l[t],nodex:(m<<1)+this._siblingOffset[t][0],nodey:(f<<1)+this._siblingOffset[t][1],depth:_+1})}}return null}_addNode(e,t,i){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,i,n,r){if(1===e[n].isLeaf(t,i))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const a=n-1,s=e[a];let o,l=0;for(let c=0;c<this._siblingOffset.length;c++){const e=2*t+this._siblingOffset[c][0],n=2*i+this._siblingOffset[c][1],r=s.getElevation(e,n),a=s.isLeaf(e,n),u=this._addNode(r.min,r.max,a);a&&(l|=1<<c),o||(o=u)}for(let c=0;c<this._siblingOffset.length;c++)l&1<<c||this._construct(e,2*t+this._siblingOffset[c][0],2*i+this._siblingOffset[c][1],a,o+c)}}function Uu(e,t,i,n,r,a){return Jt(Jt(e,i,a),Jt(t,n,a),r)}function Vu(e,t,i){const n=i.dim,r=m(e*n-.5,0,n-1),a=m(t*n-.5,0,n-1),s=Math.floor(r),o=Math.floor(a),l=Math.min(s+1,n-1),c=Math.min(o+1,n-1);return Uu(i.get(s,o),i.get(l,o),i.get(s,c),i.get(l,c),r-s,a-o)}const Wu={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class $u{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,i,n=!1,r=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return D(`"${i}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const a=this.dim=t.height-2;if(this.data=new Uint32Array(t.data.buffer),this.encoding=i||"mapbox",this.borderReady=n,!n){for(let e=0;e<a;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(a,e)]=this.data[this._idx(a-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,a)]=this.data[this._idx(e,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Nu(this)}get(e,t){const i=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(i[n],i[n+1],i[n+2])}static getUnpackVector(e){return Wu[e]}get unpackVector(){return Wu[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,i){return(256*e*256+256*t+i)/10-1e4}_unpackTerrarium(e,t,i){return 256*e+t+i/256-32768}static pack(e,t){const i=[0,0,0,0],n=$u.getUnpackVector(t);let r=Math.floor((e+n[3])/n[2]);return i[2]=r%256,r=Math.floor(r/256),i[1]=r%256,r=Math.floor(r/256),i[0]=r,i}getPixels(){return new $s({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,i){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,r=t*this.dim+this.dim,a=i*this.dim,s=i*this.dim+this.dim;switch(t){case-1:n=r-1;break;case 1:r=n+1}switch(i){case-1:a=s-1;break;case 1:s=a+1}const o=-t*this.dim,l=-i*this.dim;for(let c=a;c<s;c++)for(let t=n;t<r;t++)this.data[this._idx(t,c)]=e.data[this._idx(t+o,c+l)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Wn("DEMData",$u),Wn("DemMinMaxQuadTree",Nu,{omit:["dem"]});class Gu{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,i){const n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const r={value:t,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(()=>{this.remove(e,r)},i)),this.data[n].push(r),this.order.push(n),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const i=e.wrapped().key,n=void 0===t?0:this.data[i].indexOf(t),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const i in this.data)for(const n of this.data[i])e(n.value)||t.push(n);for(const i of t)this.remove(i.value.tileID,i)}}class qu{constructor(e,t,i){this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Xu{constructor(e,t,i,n){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const n=t.attributes[this.attributes[i].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,i){for(let n=0;n<this.attributes.length;n++){const r=this.attributes[n],a=t.attributes[r.name];void 0!==a&&e.vertexAttribPointer(a,r.components,e[Zu[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ju{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ku extends Ju{getDefault(){return ot.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Qu extends Ju{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class ed extends Ju{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class td extends Ju{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class id extends Ju{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class nd extends Ju{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class rd extends Ju{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class ad extends Ju{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class sd extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class od extends Ju{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ld extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class cd extends Ju{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ud extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class dd extends Ju{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class hd extends Ju{getDefault(){return ot.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class pd extends Ju{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class md extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class fd extends Ju{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class _d extends Ju{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class yd extends Ju{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class gd extends Ju{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class vd extends Ju{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class xd extends Ju{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class bd extends Ju{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class wd extends Ju{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class Md extends Ju{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Td extends Ju{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Ld extends Ju{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class kd extends Ju{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class Sd extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class Dd extends Ju{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class Ed extends Ju{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class Cd extends Ed{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Pd extends Ed{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Yd{constructor(e,t,i,n){this.context=e,this.width=t,this.height=i;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new Cd(e,r),n&&(this.depthAttachment=new Pd(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Ad{constructor(e,t,i){this.func=e,this.mask=t,this.range=i}}Ad.ReadOnly=!1,Ad.ReadWrite=!0,Ad.disabled=new Ad(519,Ad.ReadOnly,[0,1]);class Id{constructor(e,t,i,n,r,a){this.test=e,this.ref=t,this.mask=i,this.fail=n,this.depthFail=r,this.pass=a}}Id.disabled=new Id({func:519,mask:0},0,0,7680,7680,7680);class zd{constructor(e,t,i){this.blendFunction=e,this.blendColor=t,this.mask=i}}zd.Replace=[1,0],zd.disabled=new zd(zd.Replace,ot.transparent,[!1,!1,!1,!1]),zd.unblended=new zd(zd.Replace,ot.transparent,[!0,!0,!0,!0]),zd.alphaBlended=new zd([1,771],ot.transparent,[!0,!0,!0,!0]);class Od{constructor(e,t,i){this.enable=e,this.mode=t,this.frontFace=i}}Od.disabled=new Od(!1,1029,2305),Od.backCCW=new Od(!0,1029,2305),Od.backCW=new Od(!0,1029,2304),Od.frontCW=new Od(!0,1028,2304),Od.frontCCW=new Od(!0,1028,2305);class Rd extends Ie{constructor(e,t,i){super(),this.id=e,this._onlySymbols=i,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new Gu(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ou}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager)}}getIds(){return _(this._tiles).map(e=>e.tileID).sort(Fd).map(e=>e.key)}getRenderableIds(e){const t=[];for(const i in this._tiles)this._isIdRenderable(+i,e)&&t.push(this._tiles[i]);return e?t.sort((e,t)=>{const i=e.tileID,r=t.tileID,a=new n(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),s=new n(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(Fd).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const i=this._tiles[e];i&&("loading"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)))}_tileLoaded(e,t,i,n){if(n)return e.state="errored",void(404!==n.status?this._source.fire(new Ae(n,{tile:e})):this.update(this.transform));e.timeAdded=j.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ye("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let n=0;n<t.length;n++){const r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);i(e,t),i(t,e)}}function i(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let i=t.tileID.canonical.x-e.tileID.canonical.x;const n=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,n),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,i,n){for(const r in this._tiles){let a=this._tiles[r];if(n[r]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>i)continue;let s=a.tileID;for(;a&&a.tileID.overscaledZ>t+1;){const e=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[e.key],a&&a.hasData()&&(s=e)}let o=s;for(;o.overscaledZ>t;)if(o=o.scaledTo(o.overscaledZ-1),e[o.key]){n[s.key]=s;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(let i=e.overscaledZ-1;i>=t;i--){const t=e.scaledTo(i),n=this._getLoadedTile(t);if(n)return n}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const i=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,r=Math.floor(i*n*5),a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const i in this._tiles){const n=this._tiles[i];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}this._tiles=e;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t])}}update(e,t,i){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!i)return;let n;this.updateCacheSize(e,t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new Cu(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!i,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!!this.transform.elevation&&!this.usedForTerrain}),this._source.hasTile&&(n=n.filter(e=>this._source.hasTile(e)))):n=[];const r=this._updateRetainedTiles(n);if(Bd(this._source.type)&&0!==n.length){const e={},t={},i=Object.keys(r);for(const n of i){const i=r[n],a=this._tiles[n];if(!a||a.fadeEndTime&&a.fadeEndTime<=j.now())continue;const s=this.findLoadedParent(i,Math.max(i.overscaledZ-Rd.maxOverzooming,this._source.minzoom));s&&(this._addTile(s.tileID),e[s.tileID.key]=s.tileID),t[n]=i}const a=n[n.length-1].overscaledZ;for(const n in this._tiles){const e=this._tiles[n];if(r[n]||!e.hasData())continue;let i=e.tileID;for(;i.overscaledZ>a;){i=i.scaledTo(i.overscaledZ-1);const a=this._tiles[i.key];if(a&&a.hasData()&&t[i.key]){r[n]=e.tileID;break}}}for(const n in e)r[n]||(this._coveredTiles[n]=!0,r[n]=e[n])}for(const s in r)this._tiles[s].clearFadeHold();const a=function(e,t){const i=[];for(const n in e)n in t||i.push(n);return i}(this._tiles,r);for(const s of a){const e=this._tiles[s];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+s)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const i={},n=e[e.length-1].overscaledZ,r=e[0].overscaledZ,a=Math.max(r-Rd.maxOverzooming,this._source.minzoom),s=Math.max(r+Rd.maxUnderzooming,this._source.minzoom),o={};for(const l of e){const e=this._addTile(l);t[l.key]=l,e.hasData()||n<this._source.maxzoom&&(o[l.key]=l)}this._retainLoadedChildren(o,n,s,t);for(const l of e){let e=this._tiles[l.key];if(e.hasData())continue;if(l.canonical.z>=this._source.maxzoom){const e=l.children(this._source.maxzoom)[0],i=this.getTile(e);if(i&&i.hasData()){t[e.key]=e;continue}}else{const e=l.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let n=e.wasRequested();for(let r=l.overscaledZ-1;r>=a;--r){const a=l.scaledTo(r);if(i[a.key])break;if(i[a.key]=!0,e=this.getTile(a),!e&&n&&(e=this._addTile(a)),e&&(t[a.key]=a,n=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let i,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}t.push(n.key);const e=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(e),i)break;n=e}for(const e of t)this._loadedParentTiles[e]=i}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const i=Boolean(t);return i||(t=new zu(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,i||this._source.fire(new Ye("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},i))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._cache.reset()}tilesIn(e,t,i){const n=[],r=this.transform;if(!r)return n;for(const a in this._tiles){const s=this._tiles[a];if(i&&s.clearQueryDebugViz(),s.holdingForFade())continue;const o=e.containsTile(s,r,t);o&&n.push(o)}return n}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const i of t)i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(Bd(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=j.now())return!0}return!1}setFeatureState(e,t,i){this._state.updateState(e=e||"_geojsonTileLayer",t,i)}removeFeatureState(e,t,i){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,i)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,i){const n=this._tiles[e];n&&n.setDependencies(t,i)}reloadTilesForDependencies(e,t){for(const i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(+i,"reloading");this._cache.filter(i=>!i.hasDependency(e,t))}}function Fd(e,t){const i=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Bd(e){return"raster"===e||"image"===e||"video"===e}Rd.maxOverzooming=10,Rd.maxUnderzooming=3;class jd{constructor(e,t,i){this._dem=e,this._scale=t,this._offset=i}static create(e,t,i){const n=i||e.findDEMTileFor(t);if(!n||!n.dem)return;const r=n.dem,a=n.tileID,s=1<<t.canonical.z-a.canonical.z;return new jd(r,n.tileSize/8192/s,[(t.canonical.x/s-a.canonical.x)*r.dim,(t.canonical.y/s-a.canonical.y)*r.dim])}getElevationAt(e,t,i){const n=e*this._scale+this._offset[0],r=t*this._scale+this._offset[1],a=Math.floor(n),s=Math.floor(r),o=this._dem;return i?Jt(Jt(o.get(a,s),o.get(a,s+1),r-s),Jt(o.get(a+1,s),o.get(a+1,s+1),r-s),n-a):o.get(a,s)}}class Hd{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new jn(8192,16,0),this.featureIndexArray=new ha,this.promoteId=t}insert(e,t,i,n,r){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r);const s=this.grid;for(let o=0;o<t.length;o++){const e=t[o],i=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const n=e[t];i[0]=Math.min(i[0],n.x),i[1]=Math.min(i[1],n.y),i[2]=Math.max(i[2],n.x),i[3]=Math.max(i[3],n.y)}i[0]<8192&&i[1]<8192&&i[2]>=0&&i[3]>=0&&s.insert(a,i[0],i[1],i[2],i[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new qo.VectorTile(new El(this.rawTileData)).layers,this.sourceLayerCoder=new Yu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,i,n){this.loadVTLayers();const r=e.params||{},a=hn(r.filter),s=e.tileResult,o=e.transform,l=s.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,i,n)=>ns(s.bufferedTilespaceGeometry,e,t,i,n));c.sort(Ud);let u=null;o.elevation&&c.length>0&&(u=jd.create(o.elevation,this.tileID));const d={};let h;for(let p=0;p<c.length;p++){const o=c[p];if(o===h)continue;h=o;const l=this.featureIndexArray.get(o);let m=null;this.loadMatchingFeature(d,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,a,r.layers,r.availableImages,t,i,n,(t,i,n)=>(m||(m=Ua(t)),i.queryIntersectsFeature(s,t,n,m,this.z,e.transform,e.pixelPosMatrix,u)))}return d}loadMatchingFeature(e,t,i,n,r,a,s,o,l,c,u){const d=this.bucketLayerIDs[t];if(a&&!function(e,t){for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>=0)return!0;return!1}(a,d))return;const h=this.sourceLayerCoder.decode(i),p=this.vtLayers[h].feature(n);if(r.needGeometry){const e=Va(p,!0);if(!r.filter(new fr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!r.filter(new fr(this.tileID.overscaledZ),p))return;const m=this.getId(p,h);for(let f=0;f<d.length;f++){const t=d[f];if(a&&a.indexOf(t)<0)continue;const i=o[t];if(!i)continue;let r={};void 0!==m&&c&&(r=c.getState(i.sourceLayer||"_geojsonTileLayer",m));const h=y({},l[t]);h.paint=Nd(h.paint,i.paint,p,r,s),h.layout=Nd(h.layout,i.layout,p,r,s);const _=!u||u(p,i,r);if(!_)continue;const g=new Au(p,this.z,this.x,this.y,m);g.layer=h;let v=e[t];void 0===v&&(v=e[t]=[]),v.push({featureIndex:n,feature:g,intersectionZ:_})}}lookupSymbolFeatures(e,t,i,n,r,a,s,o){const l={};this.loadVTLayers();const c=hn(r);for(const u of e)this.loadMatchingFeature(l,i,n,u,c,a,s,o,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const i of t)if(e===i)return!0;return!1}getId(e,t){let i=e.id;return this.promoteId&&(i=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof i&&(i=Number(i))),i}}function Nd(e,t,i,n,r){return T(e,(e,a)=>{const s=t instanceof Mr?t.get(a):null;return s&&s.evaluate?s.evaluate(i,n,r):s})}function Ud(e,t){return t-e}Wn("FeatureIndex",Hd,{omit:["rawTileData","sourceLayerCoder"]});class Vd{constructor(e){const t={},i=[];for(const s in e){const n=e[s],r=t[s]={};for(const e in n){const t=n[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const a={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};i.push(a),r[e]={rect:a,metrics:t.metrics}}}const{w:n,h:r}=Xl(i),a=new Ws({width:n||1,height:r||1});for(const s in e){const i=e[s];for(const e in i){const n=i[+e];if(!n||0===n.bitmap.width||0===n.bitmap.height)continue;const r=t[s][e].rect;Ws.copy(n.bitmap,a,{x:0,y:0},{x:r.x+1,y:r.y+1},n.bitmap)}}this.image=a,this.positions=t}}Wn("GlyphAtlas",Vd);class Wd{constructor(e){this.tileID=new Cu(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile}parse(e,t,i,n,r){this.status="parsing",this.data=e,this.collisionBoxArray=new ra;const a=new Yu(Object.keys(e.layers).sort()),s=new Hd(this.tileID,this.promoteId);s.bucketLayerIDs=[];const o={},l={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},c=t.familiesBySource[this.source];for(const _ in c){const t=e.layers[_];if(!t)continue;let n=!1,r=!1;for(const e of c[_])"symbol"===e[0].type?n=!0:r=!0;if(!0===this.isSymbolTile&&!n)continue;if(!1===this.isSymbolTile&&!r)continue;1===t.version&&D(`Vector tile source "${this.source}" layer "${_}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const u=a.encode(_),d=[];for(let e=0;e<t.length;e++){const i=t.feature(e),n=s.getId(i,_);d.push({feature:i,id:n,index:e,sourceLayerIndex:u})}for(const e of c[_]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&($d(e,this.zoom,i),(o[t.id]=t.createBucket({index:s.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:u,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(d,l,this.tileID.canonical),s.bucketLayerIDs.push(e.map(e=>e.id)))}}let u,d,h,p;const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},f=T(l.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(f).length?n.send("getGlyphs",{uid:this.uid,stacks:f},(e,t)=>{u||(u=e,d=t,v.call(this))},void 0,void 0,m):d={};const y=Object.keys(l.iconDependencies);y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{u||(u=e,h=t,v.call(this))},void 0,void 0,m):h={};const g=Object.keys(l.patternDependencies);function v(){if(u)return r(u);if(d&&h&&p){const e=new Vd(d),t=new Kl(h,p);for(const n in o){const r=o[n];r instanceof Zc?($d(r.layers,this.zoom,i),Ic(r,d,e.positions,h,t.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):r.hasPattern&&(r instanceof ul||r instanceof Io||r instanceof Qo)&&($d(r.layers,this.zoom,i),r.addFeatures(l,this.tileID.canonical,t.patternPositions))}this.status="done",r(null,{buckets:_(o).filter(e=>!e.isEmpty()),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}g.length?n.send("getImages",{icons:g,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{u||(u=e,p=t,v.call(this))},void 0,void 0,m):p={},v.call(this)}}function $d(e,t,i){const n=new fr(t);for(const r of e)r.recalculate(n,i)}class Gd{constructor(e){this.entries={},this.scheduler=e}request(e,t,i,n){const r=this.entries[e]=this.entries[e]||{callbacks:[]};if(r.result){const[e,i]=r.result;return this.scheduler?this.scheduler.add(()=>{n(e,i)},t):n(e,i),()=>{}}return r.callbacks.push(n),r.cancel||(r.cancel=i((i,n)=>{r.result=[i,n];for(const e of r.callbacks)this.scheduler?this.scheduler.add(()=>{e(i,n)},t):e(i,n);setTimeout(()=>delete this.entries[e],3e3)})),()=>{r.result||(r.callbacks=r.callbacks.filter(e=>e!==n),r.callbacks.length||(r.cancel(),delete this.entries[e]))}}}function qd(e,t,i){const n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const n=we(e.request,(e,n,r,a)=>{e?t(e):n&&t(null,{vectorTile:i?void 0:new qo.VectorTile(new El(n)),rawData:n,cacheControl:r,expires:a})});return()=>{n.cancel(),t()}},t)}e.AUTH_ERR_MSG="NO_ACCESS_TOKEN",e.Aabb=Os,e.Actor=class{constructor(e,t,i){this.target=e,this.parent=t,this.mapId=i,this.callbacks={},this.cancelCallbacks={},w(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?e:a,this.scheduler=new fu}send(e,t,i,n,r=!1,a){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=a,this.callbacks[s]=i);const o=O(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!i,targetMapId:n,mustQueue:r,sourceMapId:this.mapId,data:qn(t,o)},o),{cancel:()=>{i&&delete this.callbacks[s],this.target.postMessage({id:s,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(e){const t=e.data,i=t.id;if(i&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[i];delete this.cancelCallbacks[i],e&&e.cancel()}else if(P()||t.mustQueue){const e=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,t),e&&e.metadata||{type:"message"})}else this.processTask(i,t)}processTask(e,t){if("<response>"===t.type){const i=this.callbacks[e];delete this.callbacks[e],i&&(t.error?i(Zn(t.error)):i(null,Zn(t.data)))}else{const i=O(this.globalScope)?void 0:[],n=t.hasCallback?(t,n)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?qn(t):null,data:qn(n,i)},i)}:e=>{},r=Zn(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,r,n);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],r.source)[e[1]](r,n)}else n(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=Ws,e.CanonicalTileID=Du,e.Color=ot,e.ColorMode=zd,e.Context=class{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ku(this),this.clearDepth=new Qu(this),this.clearStencil=new ed(this),this.colorMask=new td(this),this.depthMask=new id(this),this.stencilMask=new nd(this),this.stencilFunc=new rd(this),this.stencilOp=new ad(this),this.stencilTest=new sd(this),this.depthRange=new od(this),this.depthTest=new ld(this),this.depthFunc=new cd(this),this.blend=new ud(this),this.blendFunc=new dd(this),this.blendColor=new hd(this),this.blendEquation=new pd(this),this.cullFace=new md(this),this.cullFaceSide=new fd(this),this.frontFace=new _d(this),this.program=new yd(this),this.activeTexture=new gd(this),this.viewport=new vd(this),this.bindFramebuffer=new xd(this),this.bindRenderbuffer=new bd(this),this.bindTexture=new wd(this),this.bindVertexBuffer=new Md(this),this.bindElementBuffer=new Td(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ld(this),this.pixelStoreUnpack=new kd(this),this.pixelStoreUnpackPremultiplyAlpha=new Sd(this),this.pixelStoreUnpackFlipY=new Dd(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new qu(this,e,t)}createVertexBuffer(e,t,i){return new Xu(this,e,t,i)}createRenderbuffer(e,t,i){const n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i){return new Yd(this,e,t,i)}clear({color:e,depth:t,stencil:i}){const n=this.gl;let r=0;e&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){s(e.blendFunction,zd.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}},e.CullFaceMode=Od,e.DEMData=$u,e.DataConstantProperty=Tr,e.DedupedRequest=Gd,e.DepthMode=Ad,e.DepthStencilAttachment=class extends Pd{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}},e.EXTENT=8192,e.Elevation=class{getAtPoint(e,t=0){const i=this._source();if(!i)return t;if(e.y<0||e.y>1)return t;const n=i.getSource().maxzoom,r=1<<n,a=Math.floor(e.x),s=e.x-a,o=new Cu(n,a,n,Math.floor(s*r),Math.floor(e.y*r)),l=this.findDEMTileFor(o);if(!l||!l.dem)return t;const c=l.dem,u=1<<l.tileID.canonical.z,d=(s*u-l.tileID.canonical.x)*c.dim,h=(e.y*u-l.tileID.canonical.y)*c.dim,p=Math.floor(d),m=Math.floor(h);return this.exaggeration()*Jt(Jt(c.get(p,m),c.get(p,m+1),h-m),Jt(c.get(p+1,m),c.get(p+1,m+1),h-m),d-p)}getAtTileOffset(e,t,i){const n=1<<e.canonical.z;return this.getAtPoint(new ku(e.wrap+(e.canonical.x+t/8192)/n,(e.canonical.y+i/8192)/n))}getForTilePoints(e,t,i,n){const r=jd.create(this,e,n);return!!r&&(t.forEach(e=>{e[2]=this.exaggeration()*r.getElevationAt(e[0],e[1],i)}),!0)}getMinMaxForTile(e){const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const i=t.dem.tree,n=t.tileID,r=1<<e.canonical.z-n.canonical.z;let a=e.canonical.x/r-n.canonical.x,s=e.canonical.y/r-n.canonical.y,o=0;for(let l=0;l<e.canonical.z-n.canonical.z&&!i.leaves[o];l++){a*=2,s*=2;const e=2*Math.floor(s)+Math.floor(a);o=i.childOffsets[o]+e,a%=1,s%=1}return{min:this.exaggeration()*i.minimums[o],max:this.exaggeration()*i.maximums[o]}}raycast(e,t,i){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Ae,e.EvaluationParameters=fr,e.Event=Ye,e.Evented=Ie,e.Frustum=zs,e.ImagePosition=Jl,e.LngLat=gu,e.LngLatBounds=yu,e.MAX_SAFE_INTEGER=o,e.MercatorCoordinate=ku,e.ONE_EM=24,e.OverscaledTileID=Cu,e.Point=n,e.Point$1=n,e.Properties=Er,e.RGBAImage=$s,e.Ray=class{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,i){const n=Ls(t,this.dir);if(Math.abs(n)<1e-6)return!1;const r=Ls(Es(_s(),e,this.pos),t)/n;return function(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[2]}(i,Ms(_s(),this.pos,this.dir,r)),!0}},e.RequestManager=class{constructor(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Z,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!X(e))return e;const i=Q(e);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!X(e))return e;const i=Q(e);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||t)}normalizeSourceURL(e,t){if(!X(e))return e;const i=Q(e);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||t)}normalizeSpriteURL(e,t,i,n){const r=Q(e);return X(e)?(r.path=`/styles/v1${r.path}/sprite${t}${i}`,this._makeAPIURL(r,this._customAccessToken||n)):(r.path+=`${t}${i}`,ee(r))}normalizeTileURL(e,t,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!X(e))return e;const n=Q(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||i&&"raster"!==n.authority&&512===i?"@2x":""}${U.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${N.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${N.TILE_URL_VERSION}${n.path}`);const r=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(n.params)||N.ACCESS_TOKEN;return N.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)}canonicalizeTileURL(e,t){const i=Q(e);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return e;let n="mapbox://";i.path.match(/^\/raster\/v1\//)?n+="raster/"+i.path.replace(`/${N.RASTER_URL_PREFIX}/`,""):n+="tiles/"+i.path.replace(`/${N.TILE_URL_VERSION}/`,"");let r=i.params;return t&&(r=r.filter(e=>!e.match(/^access_token=/))),r.length&&(n+="?"+r.join("&")),n}canonicalizeTileset(e,t){const i=!!t&&X(t),n=[];for(const r of e.tiles||[])J(r)?n.push(this.canonicalizeTileURL(r,i)):n.push(r);return n}_makeAPIURL(e,t){const i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=Q(N.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==n.path&&(e.path=`${n.path}${e.path}`),!N.REQUIRE_ACCESS_TOKEN)return ee(e);if(!(t=t||N.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+i);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i);return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+t),ee(e)}},e.RequestPerformance=mu,e.ResourceType=ge,e.SegmentVector=ja,e.SourceCache=Rd,e.StencilMode=Id,e.StructArrayLayout1ui2=ta,e.StructArrayLayout2f1f2i16=$r,e.StructArrayLayout2i4=Or,e.StructArrayLayout3f12=Nr,e.StructArrayLayout3ui6=qr,e.StructArrayLayout4i8=Rr,e.Texture=du,e.Tile=zu,e.Transitionable=gr,e.Uniform1f=wa,e.Uniform1i=class extends ba{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends ba{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends ba{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=Ma,e.UniformColor=Ta,e.UniformMatrix3f=class extends ba{constructor(e,t){super(e,t),this.current=ka}set(e){for(let t=0;t<9;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix3fv(this.location,!1,e);break}}},e.UniformMatrix4f=class extends ba{constructor(e,t){super(e,t),this.current=La}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=Eu,e.ValidationError=Oe,e.VectorTileWorkerSource=class{constructor(e,t,i,n){this.actor=e,this.layerIndex=t,this.availableImages=i,this.loadVectorData=n||qd,this.loading={},this.loaded={},this.deduped=new Gd(e.scheduler)}loadTile(e,t){const i=e.uid,n=!!(e&&e.request&&e.request.collectResourceTiming)&&new mu(e.request),r=this.loading[i]=new Wd(e);r.abort=this.loadVectorData(e,(e,a)=>{const s=!this.loading[i];if(delete this.loading[i],s||e||!a)return r.status="done",s||(this.loaded[i]=r),t(e);const o=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);const c={};if(n){const e=n.finish();e&&(c.resourceTiming=JSON.parse(JSON.stringify(e)))}r.vectorTile=a.vectorTile||new qo.VectorTile(new El(o)),r.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,i)=>{if(e||!i)return t(e);t(null,y({rawTileData:o.slice(0)},i,l,c))}),this.loaded=this.loaded||{},this.loaded[i]=r})}reloadTile(e,t){const i=this.loaded,n=e.uid,r=this;if(i&&i[n]){const a=i[n];a.showCollisionBoxes=e.showCollisionBoxes,a.enableTerrain=!!e.enableTerrain;const s=(e,i)=>{const n=a.reloadCallback;n&&(delete a.reloadCallback,a.parse(a.vectorTile,r.layerIndex,this.availableImages,r.actor,n)),t(e,i)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}abortTile(e,t){const i=e.uid,n=this.loading[i];n&&(n.abort&&n.abort(),delete this.loading[i]),t()}removeTile(e,t){const i=this.loaded,n=e.uid;i&&i[n]&&delete i[n],t()}},e.WritingMode=Ql,e.ZoomHistory=Xn,e.add=xs,e.addDynamicAttributes=Wc,e.altitudeFromMercatorZ=Lu,e.asyncAll=function(e,t,i){if(!e.length)return i(null,[]);let n=e.length;const r=new Array(e.length);let a=null;e.forEach((e,s)=>{t(e,(e,t)=>{e&&(a=e),r[s]=t,0==--n&&i(a,r)})})},e.bezier=h,e.bindAll=w,e.browser=j,e.bufferConvexPolygon=function(e,t){const i=[];for(let n=0;n<e.length;n++){const r=f(n-1,-1,e.length-1),a=f(n+1,-1,e.length-1),s=e[n],o=e[a],l=e[r].sub(s).unit(),c=o.sub(s).unit(),u=c.angleWithSep(l.x,l.y),d=l.add(c).unit().mult(-1*t/Math.sin(u/2));i.push(s.add(d))}return i},e.cacheEntryPossiblyAdded=function(e){_e++,_e>he&&(e.getActor().send("enforceCacheSizeLimit",de),_e=0)},e.clamp=m,e.clearTileCache=function(e){const t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then(()=>e())},e.clipLine=bc,e.clone=function(e){var t=new ds(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=k,e.collisionCircleLayout=xl,e.config=N,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new ds(16);return ds!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=hs,e.create$2=function(){var e=new ds(4);return ds!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createExpression=Ki,e.createLayout=Ir,e.createStyleLayer=function(e){return"custom"===e.type?new iu(e):new au[e.type](e)},e.cross=ks,e.deepEqual=s,e.degToRad=u,e.div=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e},e.dot=Ls,e.ease=p,e.easeCubicInOut=d,e.emitValidationErrors=Bn,e.endsWith=M,e.enforceCacheSizeLimit=function(e){pe(),ce&&ce.then(t=>{t.keys().then(i=>{for(let n=0;n<i.length-e;n++)t.delete(i[n])})})},e.evaluateSizeForFeature=wl,e.evaluateSizeForZoom=Ml,e.evaluateVariableOffset=Ac,e.evented=dr,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.extend=y,e.featureFilter=hn,e.filterObject=L,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var i=t[0],n=t[1],r=t[2],a=t[3],s=i+i,o=n+n,l=r+r,c=i*s,u=n*s,d=n*o,h=r*s,p=r*o,m=r*l,f=a*s,_=a*o,y=a*l;return e[0]=1-d-m,e[1]=u+y,e[2]=h-_,e[3]=0,e[4]=u-y,e[5]=1-c-m,e[6]=p+f,e[7]=0,e[8]=h+_,e[9]=p-f,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=uc,e.getAnchorJustification=zc,e.getArrayBuffer=we,e.getBounds=function(e){let t=1/0,i=1/0,r=-1/0,a=-1/0;for(const n of e)t=Math.min(t,n.x),i=Math.min(i,n.y),r=Math.max(r,n.x),a=Math.max(a,n.y);return{min:new n(t,i),max:new n(r,a)}},e.getImage=Ee,e.getJSON=function(e,t){return be(y(e,{type:"json"}),t)},e.getMapSessionAPI=le,e.getRTLTextPluginStatus=hr,e.getReferrer=xe,e.getVideo=function(e,t){const i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(let n=0;n<e.length;n++){const t=a.document.createElement("source");Le(e[n])||(i.crossOrigin="Anonymous"),t.src=e[n],i.appendChild(t)}return{cancel:()=>{}}},e.identity=ps,e.identity$1=As,e.invert=function(e,t){var i=t[0],n=t[1],r=t[2],a=t[3],s=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],m=t[12],f=t[13],_=t[14],y=t[15],g=i*o-n*s,v=i*l-r*s,x=i*c-a*s,b=n*l-r*o,w=n*c-a*o,M=r*c-a*l,T=u*f-d*m,L=u*_-h*m,k=u*y-p*m,S=d*_-h*f,D=d*y-p*f,E=h*y-p*_,C=g*E-v*D+x*S+b*k-w*L+M*T;return C?(e[0]=(o*E-l*D+c*S)*(C=1/C),e[1]=(r*D-n*E-a*S)*C,e[2]=(f*M-_*w+y*b)*C,e[3]=(h*w-d*M-p*b)*C,e[4]=(l*k-s*E-c*L)*C,e[5]=(i*E-r*k+a*L)*C,e[6]=(_*x-m*M-y*v)*C,e[7]=(u*M-h*x+p*v)*C,e[8]=(s*D-o*k+c*T)*C,e[9]=(n*k-i*D-a*T)*C,e[10]=(m*w-f*x+y*g)*C,e[11]=(d*x-u*w-p*g)*C,e[12]=(o*L-s*S-l*T)*C,e[13]=(i*S-n*L+r*T)*C,e[14]=(f*v-m*b-_*g)*C,e[15]=(u*b-d*v+h*g)*C,e):null},e.isChar=Jn,e.isMapboxURL=X,e.latFromMercatorY=Tu,e.len=Cs,e.length=gs,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.loadVectorTile=qd,e.makeRequest=be,e.mercatorXfromLng=bu,e.mercatorYfromLat=wu,e.mercatorZfromAltitude=Mu,e.mul=fs,e.mul$1=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e},e.multiply=ms,e.mvt=qo,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=Ts,e.normalize$1=function(e,t){var i=t[0],n=t[1],r=t[2],a=t[3],s=i*i+n*n+r*r+a*a;return s>0&&(s=1/Math.sqrt(s)),e[0]=i*s,e[1]=n*s,e[2]=r*s,e[3]=a*s,e},e.number=Jt,e.offscreenCanvasSupported=ye,e.ortho=function(e,t,i,n,r,a,s){var o=1/(t-i),l=1/(n-r),c=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*o,e[13]=(r+n)*l,e[14]=(s+a)*c,e[15]=1,e},e.parseGlyphPBF=function(e){return new El(e).readFields(Gl,[])},e.pbf=El,e.perspective=function(e,t,i,n,r){var a,s=1/Math.tan(t/2);return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+n)*(a=1/(n-r)),e[14]=2*r*n*a):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){const i={};for(let n=0;n<t.length;n++){const r=t[n];r in e&&(i[r]=e[r])}return i},e.plugin=mr,e.polygonIntersectsBox=ns,e.polygonIntersectsPolygon=Ga,e.polygonizeBounds=function(e,t,i=0){const r=new n(i,i),a=e.sub(r),s=t.add(r);return[a,new n(s.x,a.y),s,new n(a.x,s.y),a]},e.posAttributes=Iu,e.postMapLoadEvent=se,e.postTurnstileEvent=re,e.potpack=Xl,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=function(e){return e*c},e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:or,pluginURL:lr}),dr.on("pluginStateChange",e),e},e.renderColorRamp=qs,e.rotate=function(e,t,i){var n=t[0],r=t[1],a=t[2],s=t[3],o=Math.sin(i),l=Math.cos(i);return e[0]=n*l+a*o,e[1]=r*l+s*o,e[2]=n*-o+a*l,e[3]=r*-o+s*l,e},e.rotateX=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+c*n,e[5]=s*r+u*n,e[6]=o*r+d*n,e[7]=l*r+h*n,e[8]=c*r-a*n,e[9]=u*r-s*n,e[10]=d*r-o*n,e[11]=h*r-l*n,e},e.rotateX$1=Is,e.rotateY=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),a=t[0],s=t[1],o=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r-c*n,e[1]=s*r-u*n,e[2]=o*r-d*n,e[3]=l*r-h*n,e[8]=a*n+c*r,e[9]=s*n+u*r,e[10]=o*n+d*r,e[11]=l*n+h*r,e},e.rotateZ=function(e,t,i){var n=Math.sin(i),r=Math.cos(i),a=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+c*n,e[1]=s*r+u*n,e[2]=o*r+d*n,e[3]=l*r+h*n,e[4]=c*r-a*n,e[5]=u*r-s*n,e[6]=d*r-o*n,e[7]=h*r-l*n,e},e.rotateZ$1=function(e,t,i){i*=.5;var n=t[0],r=t[1],a=t[2],s=t[3],o=Math.sin(i),l=Math.cos(i);return e[0]=n*l+r*o,e[1]=r*l-n*o,e[2]=a*l+s*o,e[3]=s*l-a*o,e},e.scale=function(e,t,i){var n=i[0],r=i[1],a=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},e.scale$2=ws,e.scaleAndAdd=Ms,e.setCacheLimits=function(e,t){de=e,he=t},e.setRTLTextPlugin=function(e,t,i=!1){if("deferred"===or||"loading"===or||"loaded"===or)throw new Error("setRTLTextPlugin cannot be called multiple times.");lr=j.resolveURL(e),or="deferred",sr=t,ur(),i||pr()},e.styleSpec=ze,e.sub=Es,e.subtract=bs,e.symbolSize=Tl,e.transformMat3=function(e,t,i){var n=t[0],r=t[1],a=t[2];return e[0]=n*i[0]+r*i[3]+a*i[6],e[1]=n*i[1]+r*i[4]+a*i[7],e[2]=n*i[2]+r*i[5]+a*i[8],e},e.transformMat4=Ps,e.transformQuat=Ss,e.translate=function(e,t,i){var n,r,a,s,o,l,c,u,d,h,p,m,f=i[0],_=i[1],y=i[2];return t===e?(e[12]=t[0]*f+t[4]*_+t[8]*y+t[12],e[13]=t[1]*f+t[5]*_+t[9]*y+t[13],e[14]=t[2]*f+t[6]*_+t[10]*y+t[14],e[15]=t[3]*f+t[7]*_+t[11]*y+t[15]):(r=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],m=t[11],e[0]=n=t[0],e[1]=r,e[2]=a,e[3]=s,e[4]=o,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=p,e[11]=m,e[12]=n*f+o*_+d*y+t[12],e[13]=r*f+l*_+h*y+t[13],e[14]=a*f+c*_+p*y+t[14],e[15]=s*f+u*_+m*y+t[15]),e},e.triggerPluginCompletionEvent=cr,e.uniqueId=v,e.validateCustomStyleLayer=function(e){const t=[],i=e.id;return void 0===i&&t.push({message:`layers.${i}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${i}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=On,e.validateStyle=zn,e.values=_,e.vectorTile=qo,e.version="2.0.1",e.warnOnce=D,e.webpSupported=U,e.window=a,e.wrap=f})),n(["./shared"],(function(e){function t(e){const i=typeof e;if("number"===i||"boolean"===i||"string"===i||null==e)return JSON.stringify(e);if(Array.isArray(e)){let i="[";for(const n of e)i+=t(n)+",";return i+"]"}const n=Object.keys(e).sort();let r="{";for(let a=0;a<n.length;a++)r+=`${JSON.stringify(n[a])}:${t(e[n[a]])},`;return r+"}"}function i(i){let n="";for(const r of e.refProperties)n+="/"+t(i[r]);return n}class n{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const i of t){this._layerConfigs[i.id]=i;const t=this._layers[i.id]=e.createStyleLayer(i);t._featureFilter=e.featureFilter(t.filter),this.keyCache[i.id]&&delete this.keyCache[i.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const n={};for(let a=0;a<e.length;a++){const r=t&&t[e[a].id]||i(e[a]);t&&(t[e[a].id]=r);let s=n[r];s||(s=n[r]=[]),s.push(e[a])}const r=[];for(const i in n)r.push(n[i]);return r}(e.values(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map(e=>this._layers[e.id]),i=t[0];if("none"===i.visibility)continue;const n=i.source||"";let r=this.familiesBySource[n];r||(r=this.familiesBySource[n]={});const a=i.sourceLayer||"_geojsonTileLayer";let s=r[a];s||(s=r[a]=[]),s.push(t)}}}const{ImageBitmap:r}=e.window;class a{loadTile(t,i){const{uid:n,encoding:a,rawImageData:s,padding:o,buildQuadTree:l}=t,c=r&&s instanceof r?this.getImageData(s,o):s;i(null,new e.DEMData(n,c,a,o<1,l))}getImageData(t,i){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const n=this.offscreenCanvasContext.getImageData(-i,-i,t.width+2*i,t.height+2*i);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}}function s(e,t){if(0!==e.length){o(e[0],t);for(var i=1;i<e.length;i++)o(e[i],!t)}}function o(e,t){for(var i=0,n=0,r=e.length,a=r-1;n<r;a=n++)i+=(e[n][0]-e[a][0])*(e[a][1]+e[n][1]);i>=0!=!!t&&e.reverse()}const l=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const i of this._feature.geometry)t.push([new e.Point$1(i[0],i[1])]);return t}{const t=[];for(const i of this._feature.geometry){const n=[];for(const t of i)n.push(new e.Point$1(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,i){return l.call(this,e,t,i)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var d=e.vectorTile.VectorTileFeature,h=p;function p(e,t){this.options=t||{},this.features=e,this.length=e.length}function m(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}p.prototype.feature=function(e){return new m(this.features[e],this.options.extent)},m.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var i=0;i<t.length;i++){for(var n=t[i],r=[],a=0;a<n.length;a++)r.push(new e.Point$1(n[a][0],n[a][1]));this.geometry.push(r)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,i=-1/0,n=1/0,r=-1/0,a=0;a<e.length;a++)for(var s=e[a],o=0;o<s.length;o++){var l=s[o];t=Math.min(t,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[t,n,i,r]},m.prototype.toGeoJSON=d.prototype.toGeoJSON;var f=y,_=h;function y(t){var i=new e.pbf;return function(e,t){for(var i in e.layers)t.writeMessage(3,g,e.layers[i])}(t,i),i.finish()}function g(e,t){var i;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<e.length;i++)n.feature=e.feature(i),t.writeMessage(2,v,n);var r=n.keys;for(i=0;i<r.length;i++)t.writeStringField(3,r[i]);var a=n.values;for(i=0;i<a.length;i++)t.writeMessage(4,T,a[i])}function v(e,t){var i=e.feature;void 0!==i.id&&t.writeVarintField(1,i.id),t.writeMessage(2,x,e),t.writeVarintField(3,i.type),t.writeMessage(4,M,i)}function x(e,t){var i=e.feature,n=e.keys,r=e.values,a=e.keycache,s=e.valuecache;for(var o in i.properties){var l=a[o];void 0===l&&(n.push(o),a[o]=l=n.length-1),t.writeVarint(l);var c=i.properties[o],u=typeof c;"string"!==u&&"boolean"!==u&&"number"!==u&&(c=JSON.stringify(c));var d=u+":"+c,h=s[d];void 0===h&&(r.push(c),s[d]=h=r.length-1),t.writeVarint(h)}}function b(e,t){return(t<<3)+(7&e)}function w(e){return e<<1^e>>31}function M(e,t){for(var i=e.loadGeometry(),n=e.type,r=0,a=0,s=i.length,o=0;o<s;o++){var l=i[o],c=1;1===n&&(c=l.length),t.writeVarint(b(1,c));for(var u=3===n?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==n&&t.writeVarint(b(2,u-1));var h=l[d].x-r,p=l[d].y-a;t.writeVarint(w(h)),t.writeVarint(w(p)),r+=h,a+=p}3===n&&t.writeVarint(b(7,1))}}function T(e,t){var i=typeof e;"string"===i?t.writeStringField(1,e):"boolean"===i?t.writeBooleanField(7,e):"number"===i&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function L(e,t,i,n){k(e,i,n),k(t,2*i,2*n),k(t,2*i+1,2*n+1)}function k(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function S(e,t,i,n){const r=e-i,a=t-n;return r*r+a*a}f.fromVectorTileJs=y,f.fromGeojsonVt=function(e,t){t=t||{};var i={};for(var n in e)i[n]=new h(e[n].features,t),i[n].name=n,i[n].version=t.version,i[n].extent=t.extent;return y({layers:i})},f.GeoJSONWrapper=_;const D=e=>e[0],E=e=>e[1];class C{constructor(e,t=D,i=E,n=64,r=Float64Array){this.nodeSize=n,this.points=e;const a=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new a(e.length),o=this.coords=new r(2*e.length);for(let l=0;l<e.length;l++)s[l]=l,o[2*l]=t(e[l]),o[2*l+1]=i(e[l]);!function e(t,i,n,r,a,s){if(a-r<=n)return;const o=r+a>>1;!function e(t,i,n,r,a,s){for(;a>r;){if(a-r>600){const o=a-r+1,l=n-r+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1);e(t,i,n,Math.max(r,Math.floor(n-l*u/o+d)),Math.min(a,Math.floor(n+(o-l)*u/o+d)),s)}const o=i[2*n+s];let l=r,c=a;for(L(t,i,r,n),i[2*a+s]>o&&L(t,i,r,a);l<c;){for(L(t,i,l,c),l++,c--;i[2*l+s]<o;)l++;for(;i[2*c+s]>o;)c--}i[2*r+s]===o?L(t,i,r,c):(c++,L(t,i,c,a)),c<=n&&(r=c+1),n<=c&&(a=c-1)}}(t,i,o,r,a,s%2),e(t,i,n,r,o-1,s+1),e(t,i,n,o+1,a,s+1)}(s,o,n,0,s.length-1,0)}range(e,t,i,n){return function(e,t,i,n,r,a,s){const o=[0,e.length-1,0],l=[];let c,u;for(;o.length;){const d=o.pop(),h=o.pop(),p=o.pop();if(h-p<=s){for(let s=p;s<=h;s++)c=t[2*s],u=t[2*s+1],c>=i&&c<=r&&u>=n&&u<=a&&l.push(e[s]);continue}const m=Math.floor((p+h)/2);c=t[2*m],u=t[2*m+1],c>=i&&c<=r&&u>=n&&u<=a&&l.push(e[m]);const f=(d+1)%2;(0===d?i<=c:n<=u)&&(o.push(p),o.push(m-1),o.push(f)),(0===d?r>=c:a>=u)&&(o.push(m+1),o.push(h),o.push(f))}return l}(this.ids,this.coords,e,t,i,n,this.nodeSize)}within(e,t,i){return function(e,t,i,n,r,a){const s=[0,e.length-1,0],o=[],l=r*r;for(;s.length;){const c=s.pop(),u=s.pop(),d=s.pop();if(u-d<=a){for(let r=d;r<=u;r++)S(t[2*r],t[2*r+1],i,n)<=l&&o.push(e[r]);continue}const h=Math.floor((d+u)/2),p=t[2*h],m=t[2*h+1];S(p,m,i,n)<=l&&o.push(e[h]);const f=(c+1)%2;(0===c?i-r<=p:n-r<=m)&&(s.push(d),s.push(h-1),s.push(f)),(0===c?i+r>=p:n+r>=m)&&(s.push(h+1),s.push(u),s.push(f))}return o}(this.ids,this.coords,e,t,i,this.nodeSize)}}const P={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e};class Y{constructor(e){this.options=j(Object.create(P),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:i,maxZoom:n,nodeSize:r}=this.options;t&&console.time("total time");const a=`prepare ${e.length} points`;t&&console.time(a),this.points=e;let s=[];for(let o=0;o<e.length;o++)e[o].geometry&&s.push(I(e[o],o));this.trees[n+1]=new C(s,H,N,r,Float32Array),t&&console.timeEnd(a);for(let o=n;o>=i;o--){const e=+Date.now();s=this._cluster(s,o),this.trees[o]=new C(s,H,N,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",o,s.length,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let i=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,r=180;else if(i>r){const e=this.getClusters([i,n,180,a],t),s=this.getClusters([-180,n,r,a],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],o=s.range(R(i),F(a),R(r),F(n)),l=[];for(const c of o){const e=s.points[c];l.push(e.numPoints?z(e):this.points[e.index])}return l}getChildren(e){const t=this._getOriginId(e),i=this._getOriginZoom(e),n="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(n);const a=r.points[t];if(!a)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,i-1)),o=r.within(a.x,a.y,s),l=[];for(const c of o){const t=r.points[c];t.parentId===e&&l.push(t.numPoints?z(t):this.points[t.index])}if(0===l.length)throw new Error(n);return l}getLeaves(e,t,i){const n=[];return this._appendLeaves(n,e,t=t||10,i=i||0,0),n}getTile(e,t,i){const n=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:s}=this.options,o=s/a,l=(i-o)/r,c=(i+1+o)/r,u={features:[]};return this._addTileFeatures(n.range((t-o)/r,l,(t+1+o)/r,c),n.points,t,i,r,u),0===t&&this._addTileFeatures(n.range(1-o/r,l,1,c),n.points,r,i,r,u),t===r-1&&this._addTileFeatures(n.range(0,l,o/r,c),n.points,-1,i,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const i=this.getChildren(e);if(t++,1!==i.length)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,n,r){const a=this.getChildren(t);for(const s of a){const t=s.properties;if(t&&t.cluster?r+t.point_count<=n?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,i,n,r):r<n?r++:e.push(s),e.length===i)break}return r}_addTileFeatures(e,t,i,n,r,a){for(const s of e){const e=t[s],o=e.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(e.x*r-i)),Math.round(this.options.extent*(e.y*r-n))]],tags:o?O(e):this.points[e.index].properties};let c;o?c=e.id:this.options.generateId?c=e.index:this.points[e.index].id&&(c=this.points[e.index].id),void 0!==c&&(l.id=c),a.features.push(l)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const i=[],{radius:n,extent:r,reduce:a,minPoints:s}=this.options,o=n/(r*Math.pow(2,t));for(let l=0;l<e.length;l++){const n=e[l];if(n.zoom<=t)continue;n.zoom=t;const r=this.trees[t+1],c=r.within(n.x,n.y,o),u=n.numPoints||1;let d=u;for(const e of c){const i=r.points[e];i.zoom>t&&(d+=i.numPoints||1)}if(d>=s){let e=n.x*u,s=n.y*u,o=a&&u>1?this._map(n,!0):null;const h=(l<<5)+(t+1)+this.points.length;for(const i of c){const l=r.points[i];if(l.zoom<=t)continue;l.zoom=t;const c=l.numPoints||1;e+=l.x*c,s+=l.y*c,l.parentId=h,a&&(o||(o=this._map(n,!0)),a(o,this._map(l)))}n.parentId=h,i.push(A(e/d,s/d,h,d,o))}else if(i.push(n),d>1)for(const e of c){const n=r.points[e];n.zoom<=t||(n.zoom=t,i.push(n))}}return i}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?j({},e.properties):e.properties;const i=this.points[e.index].properties,n=this.options.map(i);return t&&n===i?j({},n):n}}function A(e,t,i,n,r){return{x:e,y:t,zoom:1/0,id:i,parentId:-1,numPoints:n,properties:r}}function I(e,t){const[i,n]=e.geometry.coordinates;return{x:R(i),y:F(n),zoom:1/0,index:t,parentId:-1}}function z(e){return{type:"Feature",id:e.id,properties:O(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),B(e.y)]}};var t}function O(e){const t=e.numPoints,i=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return j(j({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:i})}function R(e){return e/360+.5}function F(e){const t=Math.sin(e*Math.PI/180),i=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return i<0?0:i>1?1:i}function B(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function j(e,t){for(const i in t)e[i]=t[i];return e}function H(e){return e.x}function N(e){return e.y}function U(e,t,i,n,r,a){var s=r-i,o=a-n;if(0!==s||0!==o){var l=((e-i)*s+(t-n)*o)/(s*s+o*o);l>1?(i=r,n=a):l>0&&(i+=s*l,n+=o*l)}return(s=e-i)*s+(o=t-n)*o}function V(e,t,i,n){var r={id:void 0===e?null:e,type:t,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,i=e.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)W(e,t);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<t.length;n++)W(e,t[n]);else if("MultiPolygon"===i)for(n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)W(e,t[n][r])}(r),r}function W(e,t){for(var i=0;i<t.length;i+=3)e.minX=Math.min(e.minX,t[i]),e.minY=Math.min(e.minY,t[i+1]),e.maxX=Math.max(e.maxX,t[i]),e.maxY=Math.max(e.maxY,t[i+1])}function $(e,t,i,n){if(t.geometry){var r=t.geometry.coordinates,a=t.geometry.type,s=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),o=[],l=t.id;if(i.promoteId?l=t.properties[i.promoteId]:i.generateId&&(l=n||0),"Point"===a)G(r,o);else if("MultiPoint"===a)for(var c=0;c<r.length;c++)G(r[c],o);else if("LineString"===a)q(r,o,s,!1);else if("MultiLineString"===a){if(i.lineMetrics){for(c=0;c<r.length;c++)q(r[c],o=[],s,!1),e.push(V(l,"LineString",o,t.properties));return}Z(r,o,s,!1)}else if("Polygon"===a)Z(r,o,s,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(c=0;c<t.geometry.geometries.length;c++)$(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},i,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];Z(r[c],u,s,!0),o.push(u)}}e.push(V(l,a,o,t.properties))}}function G(e,t){t.push(X(e[0])),t.push(J(e[1])),t.push(0)}function q(e,t,i,n){for(var r,a,s=0,o=0;o<e.length;o++){var l=X(e[o][0]),c=J(e[o][1]);t.push(l),t.push(c),t.push(0),o>0&&(s+=n?(r*c-l*a)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-a,2))),r=l,a=c}var u=t.length-3;t[2]=1,function e(t,i,n,r){for(var a,s=r,o=n-i>>1,l=n-i,c=t[i],u=t[i+1],d=t[n],h=t[n+1],p=i+3;p<n;p+=3){var m=U(t[p],t[p+1],c,u,d,h);if(m>s)a=p,s=m;else if(m===s){var f=Math.abs(p-o);f<l&&(a=p,l=f)}}s>r&&(a-i>3&&e(t,i,a,r),t[a+2]=s,n-a>3&&e(t,a,n,r))}(t,0,u,i),t[u+2]=1,t.size=Math.abs(s),t.start=0,t.end=t.size}function Z(e,t,i,n){for(var r=0;r<e.length;r++){var a=[];q(e[r],a,i,n),t.push(a)}}function X(e){return e/360+.5}function J(e){var t=Math.sin(e*Math.PI/180),i=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return i<0?0:i>1?1:i}function K(e,t,i,n,r,a,s,o){if(n/=t,a>=(i/=t)&&s<n)return e;if(s<i||a>=n)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,h=u.type,p=0===r?u.minX:u.minY,m=0===r?u.maxX:u.maxY;if(p>=i&&m<n)l.push(u);else if(!(m<i||p>=n)){var f=[];if("Point"===h||"MultiPoint"===h)Q(d,f,i,n,r);else if("LineString"===h)ee(d,f,i,n,r,!1,o.lineMetrics);else if("MultiLineString"===h)ie(d,f,i,n,r,!1);else if("Polygon"===h)ie(d,f,i,n,r,!0);else if("MultiPolygon"===h)for(var _=0;_<d.length;_++){var y=[];ie(d[_],y,i,n,r,!0),y.length&&f.push(y)}if(f.length){if(o.lineMetrics&&"LineString"===h){for(_=0;_<f.length;_++)l.push(V(u.id,h,f[_],u.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===f.length?(h="LineString",f=f[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===f.length?"Point":"MultiPoint"),l.push(V(u.id,h,f,u.tags))}}}return l.length?l:null}function Q(e,t,i,n,r){for(var a=0;a<e.length;a+=3){var s=e[a+r];s>=i&&s<=n&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function ee(e,t,i,n,r,a,s){for(var o,l,c=te(e),u=0===r?re:ae,d=e.start,h=0;h<e.length-3;h+=3){var p=e[h],m=e[h+1],f=e[h+2],_=e[h+3],y=e[h+4],g=0===r?p:m,v=0===r?_:y,x=!1;s&&(o=Math.sqrt(Math.pow(p-_,2)+Math.pow(m-y,2))),g<i?v>i&&(l=u(c,p,m,_,y,i),s&&(c.start=d+o*l)):g>n?v<n&&(l=u(c,p,m,_,y,n),s&&(c.start=d+o*l)):ne(c,p,m,f),v<i&&g>=i&&(l=u(c,p,m,_,y,i),x=!0),v>n&&g<=n&&(l=u(c,p,m,_,y,n),x=!0),!a&&x&&(s&&(c.end=d+o*l),t.push(c),c=te(e)),s&&(d+=o)}var b=e.length-3;p=e[b],m=e[b+1],f=e[b+2],(g=0===r?p:m)>=i&&g<=n&&ne(c,p,m,f),b=c.length-3,a&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&ne(c,c[0],c[1],c[2]),c.length&&t.push(c)}function te(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ie(e,t,i,n,r,a){for(var s=0;s<e.length;s++)ee(e[s],t,i,n,r,a,!1)}function ne(e,t,i,n){e.push(t),e.push(i),e.push(n)}function re(e,t,i,n,r,a){var s=(a-t)/(n-t);return e.push(a),e.push(i+(r-i)*s),e.push(1),s}function ae(e,t,i,n,r,a){var s=(a-i)/(r-i);return e.push(t+(n-t)*s),e.push(a),e.push(1),s}function se(e,t){for(var i=[],n=0;n<e.length;n++){var r,a=e[n],s=a.type;if("Point"===s||"MultiPoint"===s||"LineString"===s)r=oe(a.geometry,t);else if("MultiLineString"===s||"Polygon"===s){r=[];for(var o=0;o<a.geometry.length;o++)r.push(oe(a.geometry[o],t))}else if("MultiPolygon"===s)for(r=[],o=0;o<a.geometry.length;o++){for(var l=[],c=0;c<a.geometry[o].length;c++)l.push(oe(a.geometry[o][c],t));r.push(l)}i.push(V(a.id,s,r,a.tags))}return i}function oe(e,t){var i=[];i.size=e.size,void 0!==e.start&&(i.start=e.start,i.end=e.end);for(var n=0;n<e.length;n+=3)i.push(e[n]+t,e[n+1],e[n+2]);return i}function le(e,t){if(e.transformed)return e;var i,n,r,a=1<<e.z,s=e.x,o=e.y;for(i=0;i<e.features.length;i++){var l=e.features[i],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<c.length;n+=2)l.geometry.push(ce(c[n],c[n+1],t,a,s,o));else for(n=0;n<c.length;n++){var d=[];for(r=0;r<c[n].length;r+=2)d.push(ce(c[n][r],c[n][r+1],t,a,s,o));l.geometry.push(d)}}return e.transformed=!0,e}function ce(e,t,i,n,r,a){return[Math.round(i*(e*n-r)),Math.round(i*(t*n-a))]}function ue(e,t,i,n,r){for(var a=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},o=0;o<e.length;o++){s.numFeatures++,de(s,e[o],a,r);var l=e[o].minX,c=e[o].minY,u=e[o].maxX,d=e[o].maxY;l<s.minX&&(s.minX=l),c<s.minY&&(s.minY=c),u>s.maxX&&(s.maxX=u),d>s.maxY&&(s.maxY=d)}return s}function de(e,t,i,n){var r=t.geometry,a=t.type,s=[];if("Point"===a||"MultiPoint"===a)for(var o=0;o<r.length;o+=3)s.push(r[o]),s.push(r[o+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)he(s,r,e,i,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(o=0;o<r.length;o++)he(s,r[o],e,i,"Polygon"===a,0===o);else if("MultiPolygon"===a)for(var l=0;l<r.length;l++){var c=r[l];for(o=0;o<c.length;o++)he(s,c[o],e,i,!0,0===o)}if(s.length){var u=t.tags||null;if("LineString"===a&&n.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var h={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:u};null!==t.id&&(h.id=t.id),e.features.push(h)}}function he(e,t,i,n,r,a){var s=n*n;if(n>0&&t.size<(r?s:n))i.numPoints+=t.length/3;else{for(var o=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>s)&&(i.numSimplified++,o.push(t[l]),o.push(t[l+1])),i.numPoints++;r&&function(e,t){for(var i=0,n=0,r=e.length,a=r-2;n<r;a=n,n+=2)i+=(e[n]-e[a])*(e[n+1]+e[a+1]);if(i>0===t)for(n=0,r=e.length;n<r/2;n+=2){var s=e[n],o=e[n+1];e[n]=e[r-2-n],e[n+1]=e[r-1-n],e[r-2-n]=s,e[r-1-n]=o}}(o,a),e.push(o)}}function pe(e,t){var i=(t=this.options=function(e,t){for(var i in t)e[i]=t[i];return e}(Object.create(this.options),t)).debug;if(i&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var i=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)$(i,e.features[n],t,n);else $(i,"Feature"===e.type?e:{geometry:e},t);return i}(e,t);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var i=t.buffer/t.extent,n=e,r=K(e,1,-1-i,i,0,-1,2,t),a=K(e,1,1-i,2+i,0,-1,2,t);return(r||a)&&(n=K(e,1,-i,1+i,0,-1,2,t)||[],r&&(n=se(r,1).concat(n)),a&&(n=n.concat(se(a,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function me(e,t,i){return 32*((1<<e)*i+t)+e}function fe(e,t){const i=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const n=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!n)return t(null,null);const r=new u(n.features);let a=f(r);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:r,rawData:a.buffer})}pe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pe.prototype.splitTile=function(e,t,i,n,r,a,s){for(var o=[e,t,i,n],l=this.options,c=l.debug;o.length;){n=o.pop(),i=o.pop(),t=o.pop(),e=o.pop();var u=1<<t,d=me(t,i,n),h=this.tiles[d];if(!h&&(c>1&&console.time("creation"),h=this.tiles[d]=ue(e,t,i,n,l),this.tileCoords.push({z:t,x:i,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,i,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=e,r){if(t===l.maxZoom||t===r)continue;var m=1<<r-t;if(i!==Math.floor(a/m)||n!==Math.floor(s/m))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){c>1&&console.time("clipping");var f,_,y,g,v,x,b=.5*l.buffer/l.extent,w=.5-b,M=.5+b,T=1+b;f=_=y=g=null,v=K(e,u,i-b,i+M,0,h.minX,h.maxX,l),x=K(e,u,i+w,i+T,0,h.minX,h.maxX,l),e=null,v&&(f=K(v,u,n-b,n+M,1,h.minY,h.maxY,l),_=K(v,u,n+w,n+T,1,h.minY,h.maxY,l),v=null),x&&(y=K(x,u,n-b,n+M,1,h.minY,h.maxY,l),g=K(x,u,n+w,n+T,1,h.minY,h.maxY,l),x=null),c>1&&console.timeEnd("clipping"),o.push(f||[],t+1,2*i,2*n),o.push(_||[],t+1,2*i,2*n+1),o.push(y||[],t+1,2*i+1,2*n),o.push(g||[],t+1,2*i+1,2*n+1)}}},pe.prototype.getTile=function(e,t,i){var n=this.options,r=n.extent,a=n.debug;if(e<0||e>24)return null;var s=1<<e,o=me(e,t=(t%s+s)%s,i);if(this.tiles[o])return le(this.tiles[o],r);a>1&&console.log("drilling down to z%d-%d-%d",e,t,i);for(var l,c=e,u=t,d=i;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[me(c,u,d)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,u,d),a>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,i),a>1&&console.timeEnd("drilling down"),this.tiles[o]?le(this.tiles[o],r):null):null};class _e extends e.VectorTileWorkerSource{constructor(e,t,i,n){super(e,t,i,fe),n&&(this.loadGeoJSON=n)}loadData(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}_loadData(){if(!this._pendingCallback||!this._pendingLoadDataParams)return;const t=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;const n=!!(i&&i.request&&i.request.collectResourceTiming)&&new e.RequestPerformance(i.request);this.loadGeoJSON(i,(r,a)=>{if(r||!a)return t(r);if("object"!=typeof a)return t(new Error(`Input data given to '${i.source}' is not a valid GeoJSON object.`));{!function e(t,i){var n,r=t&&t.type;if("FeatureCollection"===r)for(n=0;n<t.features.length;n++)e(t.features[n],i);else if("GeometryCollection"===r)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],i);else if("Feature"===r)e(t.geometry,i);else if("Polygon"===r)s(t.coordinates,i);else if("MultiPolygon"===r)for(n=0;n<t.coordinates.length;n++)s(t.coordinates[n],i);return t}(a,!0);try{if(i.filter){const t=e.createExpression(i.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===t.result)throw new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));const n=a.features.filter(e=>t.value.evaluate({zoom:0},e));a={type:"FeatureCollection",features:n}}this._geoJSONIndex=i.cluster?new Y(function({superclusterOptions:t,clusterProperties:i}){if(!i||!t)return t;const n={},r={},a={accumulated:null,zoom:0},s={properties:null},o=Object.keys(i);for(const l of o){const[t,a]=i[l],s=e.createExpression(a),o=e.createExpression("string"==typeof t?[t,["accumulated"],["get",l]]:t);n[l]=s.value,r[l]=o.value}return t.map=e=>{s.properties=e;const t={};for(const i of o)t[i]=n[i].evaluate(a,s);return t},t.reduce=(e,t)=>{s.properties=t;for(const i of o)a.accumulated=e[i],e[i]=r[i].evaluate(a,s)},t}(i)).load(a.features):function(e,t){return new pe(e,t)}(a,i.geojsonVtOptions)}catch(r){return t(r)}this.loaded={};const o={};if(n){const e=n.finish();e&&(o.resourceTiming={},o.resourceTiming[i.source]=JSON.parse(JSON.stringify(e)))}t(null,o)}})}coalesce(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())}reloadTile(e,t){const i=this.loaded;return i&&i[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,i){if(t.request)e.getJSON(t.request,i);else{if("string"!=typeof t.data)return i(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return i(null,JSON.parse(t.data))}catch(e){return i(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class ye{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:_e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}checkIfReady(e,t,i){i()}setReferrer(e,t){this.referrer=t}setImages(e,t,i){this.availableImages[e]=t;for(const n in this.workerSources[e]){const i=this.workerSources[e][n];for(const e in i)i[e].availableImages=t}i()}enableTerrain(e,t,i){this.terrain=t,i()}setLayers(e,t,i){this.getLayerIndex(e).replace(t),i()}updateLayers(e,t,i){this.getLayerIndex(e).update(t.layers,t.removedIds),i()}loadTile(t,i,n){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(t,i.type,i.source).loadTile(r,n)}loadDEMTile(t,i,n){const r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},i):i;this.getDEMWorkerSource(t,i.source).loadTile(r,n)}reloadTile(t,i,n){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(t,i.type,i.source).reloadTile(r,n)}abortTile(e,t,i){this.getWorkerSource(e,t.type,t.source).abortTile(t,i)}removeTile(e,t,i){this.getWorkerSource(e,t.type,t.source).removeTile(t,i)}removeSource(e,t,i){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,i):i()}loadWorkerSource(e,t,i){try{this.self.importScripts(t.url),i()}catch(e){i(e.toString())}}syncRTLPluginState(t,i,n){try{e.plugin.setState(i);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const i=e.plugin.isParsed();n(i?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),i)}}catch(e){n(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}getWorkerSource(e,t,i){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][i]||(this.workerSources[e][t][i]=new this.workerSourceTypes[t]({send:(t,i,n,r,a,s)=>{this.actor.send(t,i,n,e,r,s)},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][i]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new a),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,i){e.enforceCacheSizeLimit(i)}getWorkerPerformanceMetrics(e,t,i){i(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new ye(self)),ye})),n(["./shared"],(function(e){var t=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===n[t=e&&e.failIfMajorPerformanceCaveat]&&(n[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),n[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var n={};i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const r={create:function(t,i,n){const r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),n&&n.appendChild(r),r},createNS:function(t,i){return e.window.document.createElementNS(t,i)}},a=e.window.document&&e.window.document.documentElement.style,s=a&&void 0!==a.userSelect?"userSelect":"WebkitUserSelect";let o;r.disableDrag=function(){a&&s&&(o=a[s],a[s]="none")},r.enableDrag=function(){a&&s&&(a[s]=o)},r.setTransform=function(e,t){e.style.transform=t};let l=!1;try{const t=Object.defineProperty({},"passive",{get(){l=!0}});e.window.addEventListener("test",t,t),e.window.removeEventListener("test",t,t)}catch(e){l=!1}r.addEventListener=function(e,t,i,n={}){e.addEventListener(t,i,"passive"in n&&l?n:n.capture)},r.removeEventListener=function(e,t,i,n={}){e.removeEventListener(t,i,"passive"in n&&l?n:n.capture)};const c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};function u(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",c,!0)},0)},r.mousePos=function(t,i){const n=t.getBoundingClientRect();return new e.Point(i.clientX-n.left-t.clientLeft,i.clientY-n.top-t.clientTop)},r.touchPos=function(t,i){const n=t.getBoundingClientRect(),r=[];for(let a=0;a<i.length;a++)r.push(new e.Point(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return r},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};class d extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,i){let n=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let i=0;for(const n of e){if(n[0]<i||n[1]<n[0]||t<n[1])return!1;i=n[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let i=!0;if(!this.isLoaded())for(const n of e)this.images[n]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,i){const n={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const i=this.patterns[t],n=this.getImage(t);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{const i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new e.ImagePosition(i,n);this.patterns[t]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:i,h:n}=e.potpack(t),r=this.atlasImage;r.resize({width:i||1,height:n||1});for(const a in this.patterns){const{bin:t}=this.patterns[a],i=t.x+1,n=t.y+1,s=this.images[a].data,o=s.width,l=s.height;e.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:n},{width:o,height:l}),e.RGBAImage.copy(s,r,{x:0,y:l-1},{x:i,y:n-1},{width:o,height:1}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:n+l},{width:o,height:1}),e.RGBAImage.copy(s,r,{x:o-1,y:0},{x:i-1,y:n},{width:1,height:l}),e.RGBAImage.copy(s,r,{x:0,y:0},{x:i+o,y:n},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];u(e)&&this.updateImage(t,e)}}}var h=f,p=f,m=1e20;function f(e,t,i,n,r,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=a||"normal",this.radius=i||8;var s=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.d=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Int16Array(s),this.middle=Math.round(s/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function _(e,t,i,n,r,a,s){for(var o=0;o<t;o++){for(var l=0;l<i;l++)n[l]=e[l*t+o];for(y(n,r,a,s,i),l=0;l<i;l++)e[l*t+o]=r[l]}for(l=0;l<i;l++){for(o=0;o<t;o++)n[o]=e[l*t+o];for(y(n,r,a,s,t),o=0;o<t;o++)e[l*t+o]=Math.sqrt(r[o])}}function y(e,t,i,n,r){i[0]=0,n[0]=-m,n[1]=+m;for(var a=1,s=0;a<r;a++){for(var o=(e[a]+a*a-(e[i[s]]+i[s]*i[s]))/(2*a-2*i[s]);o<=n[s];)s--,o=(e[a]+a*a-(e[i[s]]+i[s]*i[s]))/(2*a-2*i[s]);i[++s]=a,n[s]=o,n[s+1]=+m}for(a=0,s=0;a<r;a++){for(;n[s+1]<a;)s++;t[a]=(a-i[s])*(a-i[s])+e[i[s]]}}f.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var r=t.data[4*n+3]/255;this.gridOuter[n]=1===r?0:0===r?m:Math.pow(Math.max(0,.5-r),2),this.gridInner[n]=1===r?m:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++)i[n]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[n]-this.gridInner[n])/this.radius+this.cutoff))));return i},h.default=p;class g{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,i){const n=[];for(const e in t)for(const i of t[e])n.push({stack:e,id:i});e.asyncAll(n,({stack:e,id:t},i)=>{let n=this.entries[e];n||(n=this.entries[e]={glyphs:{},requests:{},ranges:{}});let r=n.glyphs[t];if(void 0!==r)return void i(null,{stack:e,id:t,glyph:r});if(r=this._tinySDF(n,e,t),r)return n.glyphs[t]=r,void i(null,{stack:e,id:t,glyph:r});const a=Math.floor(t/256);if(256*a>65535)return void i(new Error("glyphs > 65535 not supported"));if(n.ranges[a])return void i(null,{stack:e,id:t,glyph:r});let s=n.requests[a];s||(s=n.requests[a]=[],g.loadGlyphRange(e,a,this.url,this.requestManager,(e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t[+e]);n.ranges[a]=!0}for(const i of s)i(e,t);delete n.requests[a]})),s.push((n,r)=>{n?i(n):r&&i(null,{stack:e,id:t,glyph:r[t]||null})})},(e,t)=>{if(e)i(e);else if(t){const e={};for(const{stack:i,id:n,glyph:r}of t)(e[i]||(e[i]={}))[n]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics};i(null,e)}})}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))}_tinySDF(t,i,n){const r=this.localIdeographFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(n))return;let a=t.tinySDF;if(!a){let e="400";/bold/i.test(i)?e="900":/medium/i.test(i)?e="500":/light/i.test(i)&&(e="200"),a=t.tinySDF=new g.TinySDF(24,3,8,.25,r,e)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}}g.loadGlyphRange=function(t,i,n,r,a){const s=256*i,o=s+255,l=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",`${s}-${o}`),e.ResourceType.Glyphs);e.getArrayBuffer(l,(t,i)=>{if(t)a(t);else if(i){const t={};for(const n of e.parseGlyphPBF(i))t[n.id]=n;a(null,t)}})},g.TinySDF=h;const v=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new class{constructor(){this.specification=e.styleSpec.light.position}possiblyEvaluate(t,i){return function([t,i,n]){const r=e.degToRad(i+90),a=e.degToRad(n);return{x:t*Math.cos(r)*Math.sin(a),y:t*Math.sin(r)*Math.sin(a),z:t*Math.cos(a),azimuthal:i,polar:n}}(t.expression.evaluate(i))}interpolate(t,i,n){return{x:e.number(t.x,i.x,n),y:e.number(t.y,i.y,n),z:e.number(t.z,i.z,n),azimuthal:e.number(t.azimuthal,i.azimuthal,n),polar:e.number(t.polar,i.polar,n)}}},color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)});class x extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(v),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,i={}){if(!this._validate(e.validateLight,t,i))for(const n in t){const i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,i,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))}}const b=new e.Properties({source:new e.DataConstantProperty(e.styleSpec.terrain.source),exaggeration:new e.DataConstantProperty(e.styleSpec.terrain.exaggeration)});class w extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.set(t),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(t){for(const i in t){const n=t[i];e.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}class M{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const i=e.join(",")+String(t);return this.dashEntry[i]||(this.dashEntry[i]=this.addDash(e,t)),this.dashEntry[i]}getDashRanges(e,t,i){const n=[];let r=e.length%2==1?-e[e.length-1]*i:0,a=e[0]*i,s=!0;n.push({left:r,right:a,isDash:s,zeroLength:0===e[0]});let o=e[0];for(let l=1;l<e.length;l++){s=!s;const t=e[l];r=o*i,o+=t,a=o*i,n.push({left:r,right:a,isDash:s,zeroLength:0===t})}return n}addRoundDash(e,t,i){const n=t/2;for(let r=-i;r<=i;r++){const t=this.width*(this.nextRow+i+r);let a=0,s=e[a];for(let o=0;o<this.width;o++){o/s.right>1&&(s=e[++a]);const l=Math.abs(o-s.left),c=Math.abs(o-s.right),u=Math.min(l,c);let d;const h=r/i*(n+1);if(s.isDash){const e=n-Math.abs(h);d=Math.sqrt(u*u+e*e)}else d=n-Math.sqrt(u*u+h*h);this.data[t+o]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let s=e.length-1;s>=0;--s){const t=e[s],i=e[s+1];t.zeroLength?e.splice(s,1):i&&i.isDash===t.isDash&&(i.left=t.left,e.splice(s,1))}const t=e[0],i=e[e.length-1];t.isDash===i.isDash&&(t.left=i.left-this.width,i.right=t.right+this.width);const n=this.width*this.nextRow;let r=0,a=e[r];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++r]);const t=Math.abs(s-a.left),i=Math.abs(s-a.right),o=Math.min(t,i);this.data[n+s]=Math.max(0,Math.min(255,(a.isDash?o:-o)+128))}}addDash(t,i){const n=i?7:0,r=2*n+1;if(this.nextRow+r>this.height)return e.warnOnce("LineAtlas out of space"),null;0===t.length&&t.push(1);let a=0;for(let o=0;o<t.length;o++)t[o]<0&&(e.warnOnce("Negative value is found in line dasharray, replacing values with 0"),t[o]=0),a+=t[o];if(0!==a){const e=this.width/a,r=this.getDashRanges(t,this.width,e);i?this.addRoundDash(r,e,n):this.addRegularDash(r)}const s={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=r,this.dirty=!0,s}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class T{constructor(t,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const t=new T.Actor(n[e],i,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,i,n){e.asyncAll(this.actors,(e,n)=>{e.send(t,i,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function L(t,i,n){return i*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}T.Actor=e.Actor;class k{constructor(e,t,i,n){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(e=>n.pointCoordinate3D(e)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(t,i){let n,r;if(t instanceof e.Point||"number"==typeof t[0]){const a=e.Point.convert(t);n=[e.Point.convert(t)],r=i.isPointAboveHorizon(a)}else{const a=e.Point.convert(t[0]),s=e.Point.convert(t[1]);n=[a,s],r=e.polygonizeBounds(a,s).every(e=>i.isPointAboveHorizon(e))}return new k(n,i.getCameraPoint(),r,i)}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=[this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0].add(new e.Point(1,0)):this.screenBounds[1],this.cameraPoint];return e.bufferConvexPolygon(i,t)}containsTile(t,i,n){const r=t.queryPadding+1,a=n?this._bufferedCameraMercator(r,i).map(e=>t.tileID.getTilePoint(e)):this._bufferedScreenMercator(r,i).map(e=>t.tileID.getTilePoint(e)),s=this.screenGeometryMercator.map(e=>t.tileID.getTileVec3(e)),o=s.map(t=>new e.Point(t[0],t[1])),l=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),c=t.tileID.getTileVec3(l),u=s.map(t=>{const i=e.sub(t,t,c);return e.normalize(i,i),new e.Ray(c,i)}),d=L(t,1,i.zoom);if(e.polygonIntersectsBox(a,0,0,e.EXTENT,e.EXTENT))return{queryGeometry:this,tilespaceGeometry:o,tilespaceRays:u,bufferedTilespaceGeometry:a,bufferedTilespaceBounds:(h=e.getBounds(a),h.min.x=e.clamp(h.min.x,0,e.EXTENT),h.min.y=e.clamp(h.min.y,0,e.EXTENT),h.max.x=e.clamp(h.max.x,0,e.EXTENT),h.max.y=e.clamp(h.max.y,0,e.EXTENT),h),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:d};var h}_bufferedScreenMercator(e,t){const i=S(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{const n=this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e));return this._screenRaycastCache[i]=n,n}}_bufferedCameraMercator(e,t){const i=S(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{const n=this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e));return this._cameraRaycastCache[i]=n,n}}}function S(e){return 100*e|0}function D(t,i,n){const r=function(r,a){if(r)return n(r);if(a){const r=e.pick(e.extend(a,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(r.vectorLayers=a.vector_layers,r.vectorLayerIds=r.vectorLayers.map(e=>e.id)),r.tiles=i.canonicalizeTileset(r,t.url),n(null,r)}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url),e.ResourceType.Source),r):e.browser.frame(()=>r(null,t))}class E{constructor(t,i,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),s=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=n&&t.x<a&&t.y>=r&&t.y<s}}class C extends e.Evented{constructor(t,i,n,r){super(),this.id=t,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},i),e.extend(this,e.pick(i,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,(t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(e.extend(this,i),i.bounds&&(this.tileBounds=new E(i.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(i.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const n=e.browser.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),(n,r)=>{if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(n)t.state="errored",i(n);else if(r){this.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;const n=this.map.painter.context,a=n.gl;t.texture=this.map.painter.getTileTexture(r.width),t.texture?t.texture.update(r,{useMipmap:!0}):(t.texture=new e.Texture(n,r,a.RGBA,{useMipmap:!0}),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),i(null)}})}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}var P=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Y extends e.Evented{constructor(e,t,i,n){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t}load(t,i){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(n,r)=>{this._loaded=!0,n?this.fire(new e.ErrorEvent(n)):r&&(this.image=r,t&&(this.coordinates=t),i&&i(),this._finishLoading())})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const i=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let i=1/0,n=1/0,r=-1/0,a=-1/0;for(const e of t)i=Math.min(i,e.x),n=Math.min(n,e.y),r=Math.max(r,e.x),a=Math.max(a,e.y);const s=Math.max(r-i,a-n),o=Math.max(0,Math.floor(-Math.log(s)/Math.LN2)),l=Math.pow(2,o);return new e.CanonicalTileID(o,Math.floor((i+r)/2*l),Math.floor((n+a)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z;const n=i.map(e=>this.tileID.getTilePoint(e)._round());return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,i=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const A={vector:class extends e.Evented{constructor(t,i,n,r){if(super(),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(i,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,(t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(e.extend(this,i),i.bounds&&(this.tileBounds=new E(i.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(i.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e();const t=this.map.style._getSourceCaches(this.id);for(const i of t)i.clearTiles();this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,i){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=i:t.request=t.actor.send("reloadTile",r,a.bind(this));else if(t.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,a.bind(this));else{const i=e.loadVectorTile.call({deduped:this._deduped},r,(e,i)=>{e||!i?a.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,a.bind(this)))},!0);t.request={cancel:i}}function a(n,r){return delete t.request,t.aborted?i(null):n&&404!==n.status?i(n):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:C,"raster-dem":class extends C{constructor(t,i,n,r){super(t,i,n,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(t,i){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,n){e&&(t.state="errored",i(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",i(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,a){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(n)t.state="errored",i(n);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;const i=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported(),n=1-(a.width-e.prevPowerOfTwo(a.width))/2;n<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const s=i?a:e.browser.getImageData(a,n),o={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:s,encoding:this.encoding,padding:n};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",o,r.bind(this)))}}.bind(this))}_getNeighboringTiles(t){const i=t.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,a=0===i.x?t.wrap-1:t.wrap,s=(i.x+1+n)%n,o=i.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,o,i.z,s,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,o,i.z,s,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,o,i.z,s,i.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,i,n,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(i.clusterRadius||50)*a,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}load(){this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(t=>{if(t)return void this.fire(new e.ErrorEvent(t));const i={dataType:"source",sourceDataType:"metadata"};this._collectResourceTiming&&this._resourceTiming&&this._resourceTiming.length>0&&(i.resourceTiming=this._resourceTiming,this._resourceTiming=[]),this.fire(new e.Event("data",i))})}onAdd(e){this.map=e,this.load()}setData(t){return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(t=>{if(t)return void this.fire(new e.ErrorEvent(t));const i={dataType:"source",sourceDataType:"content"};this._collectResourceTiming&&this._resourceTiming&&this._resourceTiming.length>0&&(i.resourceTiming=this._resourceTiming,this._resourceTiming=[]),this.fire(new e.Event("data",i))}),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:i},n),this}_updateWorkerData(t){this._loaded=!1;const i=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(i.request=this.map._requestManager.transformRequest(e.browser.resolveURL(n),e.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(n),this.actor.send(this.type+".loadData",i,(e,n)=>{this._removed||n&&n.abandoned||(this._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[this.id]&&(this._resourceTiming=n.resourceTiming[this.id].slice(0)),this.actor.send(this.type+".coalesce",{source:i.source},null),t(e))})}loaded(){return this._loaded}loadTile(t,i){const n=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(n,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===n),i(null))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Y{constructor(e,t,i,n){super(e,t,i,n),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url);e.getVideo(this.urls,(t,i)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(this.video=i,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Y,canvas:class extends Y{constructor(t,i,n,r){super(t,i,n,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,n.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}},I=function(t,i,n,r){const a=new A[i.type](t,i,n,r);if(a.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${a.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a};function z(t,i){const n=e.identity([]);return e.scale(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply(n,n,t.calculatePosMatrix(i.toUnwrapped()))}function O(e,t,i,n,r,a,s,o=!1){const l=e.tilesIn(n,s,o);l.sort(F);const c=[];for(const d of l)c.push({wrappedTileID:d.tile.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,i,e._state,d,r,a,z(e.transform,d.tile.tileID),o)});const u=function(e){const t={},i={};for(const n of e){const e=n.queryResults,r=n.wrappedTileID,a=i[r]=i[r]||{};for(const i in e){const n=e[i],r=a[i]=a[i]||{},s=t[i]=t[i]||[];for(const e of n)r[e.featureIndex]||(r[e.featureIndex]=!0,s.push(e))}}return t}(c);for(const d in u)u[d].forEach(t=>{const i=t.feature,n=e.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n});return u}function R(e,t){const i=e.getRenderableIds().map(t=>e.getTileByID(t)),n=[],r={};for(let a=0;a<i.length;a++){const e=i[a],s=e.tileID.canonical.key;r[s]||(r[s]=!0,e.querySourceFeatures(n,t))}return n}function F(e,t){const i=e.tileID,n=t.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function B(){return null!=Mr.workerClass?new Mr.workerClass:new e.window.Worker(Mr.workerUrl)}const j="mapboxgl_preloaded_worker_pool";class H{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<H.workerCount;)this.workers.push(new B);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[j]}numActive(){return Object.keys(this.active).length}}let N;function U(){return N||(N=new H),N}function V(t,i){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return e.refProperties.forEach(e=>{e in i&&(n[e]=i[e])}),n}function W(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=V(e[i],t[e[i].ref]));return e}H.workerCount=2;const $={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};function G(e,t,i){i.push({command:$.addSource,args:[e,t[e]]})}function q(e,t,i){t.push({command:$.removeSource,args:[e]}),i[e]=!0}function Z(e,t,i,n){q(e,i,n),G(e,t,i)}function X(t,i,n){let r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[n][r],i[n][r]))return!1;for(r in i[n])if(i[n].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[n][r],i[n][r]))return!1;return!0}function J(t,i,n,r,a,s){let o;for(o in i=i||{},t=t||{})t.hasOwnProperty(o)&&(e.deepEqual(t[o],i[o])||n.push({command:s,args:[r,o,i[o],a]}));for(o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(e.deepEqual(t[o],i[o])||n.push({command:s,args:[r,o,i[o],a]}))}function K(e){return e.id}function Q(e,t){return e[t.id]=t,e}class ee{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let i=1,n=this._distances[i];const r=t*this.paddedLength+this.padding;for(;n<r&&i<this._distances.length;)n=this._distances[++i];const a=i-1,s=this._distances[a],o=n-s,l=o>0?(r-s)/o:0;return this.points[a].mult(1-l).add(this.points[i].mult(l))}}class te{constructor(e,t,i){const n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let a=0;a<this.xCellCount*this.yCellCount;a++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,n,r){this._forEachCell(t,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}insertCircle(e,t,i,n){this._forEachCell(t-n,i-n,t+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(n)}_insertBoxCell(e,t,i,n,r,a){this.boxCells[r].push(a)}_insertCircleCell(e,t,i,n,r,a){this.circleCells[r].push(a)}_query(e,t,i,n,r,a){if(i<0||e>this.width||n<0||t>this.height)return!r&&[];const s=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=n){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],n=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-n,y1:i-n,x2:t+n,y2:i+n})}return a?s.filter(a):s}return this._forEachCell(e,t,i,n,this._queryCell,s,{hitTest:r,seenUids:{box:{},circle:{}}},a),r?s.length>0:s}_queryCircle(e,t,i,n,r){const a=e-i,s=e+i,o=t-i,l=t+i;if(s<0||a>this.width||l<0||o>this.height)return!n&&[];const c=[];return this._forEachCell(a,o,s,l,this._queryCellCircle,c,{hitTest:n,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),n?c.length>0:c}query(e,t,i,n,r){return this._query(e,t,i,n,!1,r)}hitTest(e,t,i,n,r){return this._query(e,t,i,n,!0,r)}hitTestCircle(e,t,i,n){return this._queryCircle(e,t,i,!0,n)}_queryCell(e,t,i,n,r,a,s,o){const l=s.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&n>=r[c+1]&&(!o||o(this.boxKeys[u]))){if(s.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,i,n)&&(!o||o(this.circleKeys[c]))){if(s.hitTest)return a.push(!0),!0;{const e=r[u],t=r[u+1],i=r[u+2];a.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i})}}}}}_queryCellCircle(e,t,i,n,r,a,s,o){const l=s.circle,c=s.seenUids,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!o||o(this.boxKeys[t])))return a.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const e=this.circles;for(const t of d)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!o||o(this.circleKeys[t])))return a.push(!0),!0}}}_forEachCell(e,t,i,n,r,a,s,o){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(i),d=this._convertToYCellCoord(n);for(let h=l;h<=u;h++)for(let l=c;l<=d;l++)if(r.call(this,e,t,i,n,this.xCellCount*l+h,a,s,o))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,n,r,a){const s=n-e,o=r-t,l=i+a;return l*l>s*s+o*o}_circleAndRectCollide(e,t,i,n,r,a,s){const o=(a-n)/2,l=Math.abs(e-(n+o));if(l>o+i)return!1;const c=(s-r)/2,u=Math.abs(t-(r+c));if(u>c+i)return!1;if(l<=o||u<=c)return!0;const d=l-o,h=u-c;return d*d+h*h<=i*i}}function ie(t,i,n,r,a){const s=e.create();return i?(e.scale(s,s,[1/a,1/a,1]),n||e.rotateZ(s,s,r.angle)):e.multiply(s,r.labelPlaneMatrix,t),s}function ne(t,i,n,r,a){if(i){const i=e.clone(t);return e.scale(i,i,[a,a,1]),n||e.rotateZ(i,i,-r.angle),i}return r.glCoordMatrix}function re(t,i,n=0){const r=[t.x,t.y,n,1];n?e.transformMat4(r,r,i):fe(r,r,i);const a=r[3];return{point:new e.Point(r[0]/a,r[1]/a),signedDistanceFromCamera:a}}function ae(e,t){return Math.min(.5+e/t*.5,1.5)}function se(e,t){const i=e[0]/e[3],n=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&n>=-t[1]&&n<=t[1]}function oe(t,i,n,r,a,s,o,l,c){const u=r?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(u,n.transform.zoom),h=[256/n.width*2+1,256/n.height*2+1],p=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();const m=t.lineVertexArray,f=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,_=n.transform.width/n.transform.height;let y=!1;for(let g=0;g<f.length;g++){const r=f.get(g);if(r.hidden||r.writingMode===e.WritingMode.vertical&&!y){me(r.numGlyphs,p);continue}y=!1;const v=c?c({x:r.anchorX,y:r.anchorY}):0,x=[r.anchorX,r.anchorY,v,1];if(e.transformMat4(x,x,i),!se(x,h)){me(r.numGlyphs,p);continue}const b=ae(n.transform.cameraToCenterDistance,x[3]),w=e.evaluateSizeForFeature(u,d,r),M=o?w/b:w*b,T=new e.Point(r.anchorX,r.anchorY),L=re(T,a,v);if(L.signedDistanceFromCamera<=0){me(r.numGlyphs,p);continue}const k=L.point;let S={};const D=o?null:c,E=ue(r,M,!1,l,i,a,s,t.glyphOffsetArray,m,p,k,T,S,_,D);y=E.useVertical,D&&E.needsFlipping&&(S={}),(E.notEnoughRoom||y||E.needsFlipping&&ue(r,M,!0,l,i,a,s,t.glyphOffsetArray,m,p,k,T,S,_,D).notEnoughRoom)&&me(r.numGlyphs,p)}r?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function le(e,t,i,n,r,a,s,o,l,c,u,d,h){const p=o.glyphStartIndex+o.numGlyphs,m=o.lineStartIndex,f=o.lineStartIndex+o.lineLength,_=t.getoffsetX(o.glyphStartIndex),y=t.getoffsetX(p-1),g=he(e*_,i,n,r,a,s,o.segment,m,f,l,c,u,d,h,!0);if(!g)return null;const v=he(e*y,i,n,r,a,s,o.segment,m,f,l,c,u,d,h,!0);return v?{first:g,last:v}:null}function ce(t,i,n,r){return t===e.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:(t===e.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function ue(t,i,n,r,a,s,o,l,c,u,d,h,p,m,f){const _=i/24,y=t.lineOffsetX*_,g=t.lineOffsetY*_;let v;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,i=t.lineStartIndex,a=t.lineStartIndex+t.lineLength,u=le(_,l,y,g,n,d,h,t,c,s,p,f);if(!u)return{notEnoughRoom:!0};const x=re(u.first.point,o).point,b=re(u.last.point,o).point;if(r&&!n){const e=ce(t.writingMode,x,b,m);if(e)return e}v=[u.first];for(let r=t.glyphStartIndex+1;r<e-1;r++)v.push(he(_*l.getoffsetX(r),y,g,n,d,h,t.segment,i,a,c,s,p,f));v.push(u.last)}else{if(r&&!n){const i=re(h,a).point,n=t.lineStartIndex+t.segment+1,r=new e.Point(c.getx(n),c.gety(n)),s=re(r,a),o=s.signedDistanceFromCamera>0?s.point:de(h,r,i,1,a),l=ce(t.writingMode,i,o,m);if(l)return l}const i=he(_*l.getoffsetX(t.glyphStartIndex),y,g,n,d,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,s,p,f);if(!i)return{notEnoughRoom:!0};v=[i]}for(const x of v)e.addDynamicAttributes(u,x.point,x.angle);return{}}function de(e,t,i,n,r,a){const s=e.add(e.sub(t)._unit()),o=re(s,r,a?a(s):0).point,l=i.sub(o);return i.add(l._mult(n/l.mag()))}function he(t,i,n,r,a,s,o,l,c,u,d,h,p,m,f){const _=r?t-i:t+i;let y=_>0?1:-1,g=0;r&&(y*=-1,g=Math.PI),y<0&&(g+=Math.PI);let v=y>0?l+o:l+o+1,x=a,b=a,w=0,M=0;const T=Math.abs(_),L=[],k=[];let S=s;const D=()=>{const t=v-y;return 0===w?s:new e.Point(u.getx(t),u.gety(t))},E=()=>de(D(),S,b,T-w+1,d,p);for(;w+M<=T;){if(v+=y,v<l||v>=c)return null;if(b=x,L.push(x),m&&k.push(S||D()),x=h[v],void 0===x){S=new e.Point(u.getx(v),u.gety(v));const t=re(S,d,p?p(S):0);x=t.signedDistanceFromCamera>0?h[v]=t.point:E()}else S=null;w+=M,M=b.dist(x)}f&&p&&(S=S||new e.Point(u.getx(v),u.gety(v)),h[v]=x=void 0===h[v]?x:E(),M=b.dist(x));const C=(T-w)/M,P=x.sub(b),Y=P.mult(C)._add(b);n&&Y._add(P._unit()._perp()._mult(n*y));const A=g+Math.atan2(x.y-b.y,x.x-b.x);return L.push(Y),m&&(S=S||new e.Point(u.getx(v),u.gety(v)),k.push(function(t,i,n){const r=1-n;return new e.Point(t.x*r+i.x*n,t.y*r+i.y*n)}(k.length>0?k[k.length-1]:S,S,C))),{point:Y,angle:A,path:L,tilePath:k}}const pe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function me(e,t){for(let i=0;i<e;i++){const e=t.length;t.resize(e+4),t.float32.set(pe,3*e)}}function fe(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e[3]=i[3]*n+i[7]*r+i[15],e}class _e{constructor(e,t=new te(e.width+200,e.height+200,25),i=new te(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200}placeCollisionBox(e,t,i,n,r,a,s){const o=this.projectAndGetPerspectiveRatio(a,t.anchorPointX,t.anchorPointY,t.elevation),l=r*o.perspectiveRatio,c=(t.x1*e+i.x-t.padding)*l+o.point.x,u=(t.y1*e+i.y-t.padding)*l+o.point.y,d=(t.x2*e+i.x+t.padding)*l+o.point.x,h=(t.y2*e+i.y+t.padding)*l+o.point.y,p=o.perspectiveRatio<=.55;return!this.isInsideGrid(c,u,d,h)||!n&&this.grid.hitTest(c,u,d,h,s)||p?{box:[],offscreen:!1}:{box:[c,u,d,h],offscreen:this.isOffscreen(c,u,d,h)}}placeCollisionCircles(t,i,n,r,a,s,o,l,c,u,d,h,p,m){const f=[],_=this.transform.elevation,y=_?e=>_.getAtTileOffset(m,e.x,e.y):e=>0,g=new e.Point(i.anchorX,i.anchorY),v=y(g),x=re(g,s,v),b=ae(this.transform.cameraToCenterDistance,x.signedDistanceFromCamera),w=(u?a/b:a*b)/e.ONE_EM,M=re(g,o,v).point,T=x.signedDistanceFromCamera>0?le(w,r,i.lineOffsetX*w,i.lineOffsetY*w,!1,M,g,i,n,o,{},_&&!u?y:null,u&&!!_):null;let L=!1,k=!1,S=!0;if(T){const i=.5*h*b+p,n=new e.Point(-100,-100),r=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),a=new ee,s=T.first,o=T.last;let u=[];for(let e=s.path.length-1;e>=1;e--)u.push(s.path[e]);for(let e=1;e<o.path.length;e++)u.push(o.path[e]);const m=2.5*i;if(l){const e=u.map(_?(e,t)=>{const i=y(t<s.path.length-1?s.tilePath[s.path.length-1-t]:o.tilePath[t-s.path.length+2]);return re(e,l,i)}:e=>re(e,l));u=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let g=[];if(u.length>0){const t=u[0].clone(),i=u[0].clone();for(let e=1;e<u.length;e++)t.x=Math.min(t.x,u[e].x),t.y=Math.min(t.y,u[e].y),i.x=Math.max(i.x,u[e].x),i.y=Math.max(i.y,u[e].y);g=t.x>=n.x&&i.x<=r.x&&t.y>=n.y&&i.y<=r.y?[u]:i.x<n.x||t.x>r.x||i.y<n.y||t.y>r.y?[]:e.clipLine([u],n.x,n.y,r.x,r.y)}for(const e of g){a.reset(e,.25*i);let n=0;n=a.length<=.5*i?1:Math.ceil(a.paddedLength/m)+1;for(let e=0;e<n;e++){const r=e/Math.max(n-1,1),s=a.lerp(r),o=s.x+100,l=s.y+100;f.push(o,l,i,0);const u=o-i,h=l-i,p=o+i,m=l+i;if(S=S&&this.isOffscreen(u,h,p,m),k=k||this.isInsideGrid(u,h,p,m),!t&&this.grid.hitTestCircle(o,l,i,d)&&(L=!0,!c))return{circles:[],offscreen:!1,collisionDetected:L}}}}return{circles:!c&&L||!k?[]:f,offscreen:S,collisionDetected:L}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let n=1/0,r=1/0,a=-1/0,s=-1/0;for(const u of t){const t=new e.Point(u.x+100,u.y+100);n=Math.min(n,t.x),r=Math.min(r,t.y),a=Math.max(a,t.x),s=Math.max(s,t.y),i.push(t)}const o=this.grid.query(n,r,a,s).concat(this.ignoredGrid.query(n,r,a,s)),l={},c={};for(const u of o){const t=u.key;if(void 0===l[t.bucketInstanceId]&&(l[t.bucketInstanceId]={}),l[t.bucketInstanceId][t.featureIndex])continue;const n=[new e.Point(u.x1,u.y1),new e.Point(u.x2,u.y1),new e.Point(u.x2,u.y2),new e.Point(u.x1,u.y2)];e.polygonIntersectsPolygon(i,n)&&(l[t.bucketInstanceId][t.featureIndex]=!0,void 0===c[t.bucketInstanceId]&&(c[t.bucketInstanceId]=[]),c[t.bucketInstanceId].push(t.featureIndex))}return c}insertCollisionBox(e,t,i,n,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:n,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,i,n,r){const a=t?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:n,collisionGroupID:r};for(let o=0;o<e.length;o+=4)a.insertCircle(s,e[o],e[o+1],e[o+2])}projectAndGetPerspectiveRatio(t,i,n,r){const a=[i,n,0,1];return r?(a[2]=r,e.transformMat4(a,a,t)):fe(a,a,t),{point:new e.Point((a[0]/a[3]+1)/2*this.transform.width+100,(-a[1]/a[3]+1)/2*this.transform.height+100),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/a[3]*.5,1.5)}}isOffscreen(e,t,i,n){return i<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary}isInsideGrid(e,t,i,n){return i>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}class ye{constructor(e,t,i,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class ge{constructor(e,t,i,n,r){this.text=new ye(e?e.text:null,t,i,r),this.icon=new ye(e?e.icon:null,t,n,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ve{constructor(e,t,i){this.text=e,this.icon=t,this.skipFade=i}}class xe{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class be{constructor(e,t,i,n,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=r}}class we{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Me(t,i,n,r,a){const{horizontalAlign:s,verticalAlign:o}=e.getAnchorAlignment(t),l=-(s-.5)*i,c=-(o-.5)*n,u=e.evaluateVariableOffset(t,r);return new e.Point(l+u[0]*a,c+u[1]*a)}function Te(t,i,n,r,a){const s=new e.Point(t,i);return n&&s._rotate(r?a:-a),s}class Le{constructor(e,t,i,n){this.transform=e.clone(),this.collisionIndex=new _e(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new we(i),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,i,n,r){const a=n.getBucket(i),s=n.latestFeatureIndex;if(!a||!s||i.id!==a.layerIds[0])return;const o=n.collisionBoxArray,l=a.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),h="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),m=L(n,1,this.transform.zoom),f=ie(d,h,p,this.transform,m);let _=null;if(h){const t=ne(d,h,p,this.transform,m);_=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[a.bucketInstanceId]=new be(a.bucketInstanceId,s,a.sourceLayerIndex,a.index,n.tileID);const y={bucket:a,layout:l,posMatrix:d,textLabelPlaneMatrix:f,labelToScreenMatrix:_,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:o,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(a.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(const e of a.sortKeyRanges){const{sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:y})}attemptAnchorPlacement(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f,_,y){const g=[d.textOffset0,d.textOffset1],v=p.getSymbolInstanceTextSize(_,d,this.transform.zoom,h),x=Me(e,i,n,g,r),b=this.collisionIndex.placeCollisionBox(v,t,Te(x.x,x.y,a,s,this.transform.angle),u,o,l,c.predicate);if((!f||0!==this.collisionIndex.placeCollisionBox(p.getSymbolInstanceIconSize(y,this.transform.zoom,h),f,Te(x.x,x.y,a,s,this.transform.angle),u,o,l,c.predicate).box.length)&&b.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:g,width:i,height:n,anchor:e,textBoxScale:r,prevAnchor:t},this.markUsedJustification(p,e,d,m),p.allowVerticalPlacement&&(this.markUsedOrientation(p,m,d),this.placedOrientations[d.crossTileID]=m),{shift:x,placedGlyphBoxes:b}}}placeLayerBucketPart(t,i,n){const{bucket:r,layout:a,posMatrix:s,textLabelPlaneMatrix:o,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:h,partiallyEvaluatedIconSize:p,collisionGroup:m}=t.parameters,f=a.get("text-optional"),_=a.get("icon-optional"),y=a.get("text-allow-overlap"),g=a.get("icon-allow-overlap"),v="map"===a.get("text-rotation-alignment"),x="map"===a.get("text-pitch-alignment"),b="none"!==a.get("icon-text-fit"),w="viewport-y"===a.get("symbol-z-order"),M=y&&(g||!r.hasIconData()||_),T=g&&(y||!r.hasTextData()||f);!r.collisionArrays&&d&&r.deserializeCollisionBoxes(d),n&&r.updateCollisionDebugBuffers(this.transform.zoom,d);const L=(t,d,w)=>{if(i[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new ve(!1,!1,!1));let L=!1,k=!1,S=!0,D=null,E={box:null,offscreen:null},C={box:null,offscreen:null},P=null,Y=null,A=null,I=0,z=0,O=0;w.textFeatureIndex?I=w.textFeatureIndex:t.useRuntimeCollisionCircles&&(I=t.featureIndex),w.verticalTextFeatureIndex&&(z=w.verticalTextFeatureIndex);const R=e=>{(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[r.bucketInstanceId].tileID,e.anchorPointX,e.anchorPointY):0)},F=w.textBox;if(F){R(F);const i=i=>{let n=e.WritingMode.horizontal;if(r.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,n=e,this.markUsedOrientation(r,n,t))}return n},n=(i,n)=>{if(r.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&w.verticalTextBox){for(const t of r.writingModes)if(t===e.WritingMode.vertical?(E=n(),C=E):E=i(),E&&E.box&&E.box.length)break}else E=i()};if(a.get("text-variable-anchor")){let o=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];o.indexOf(e.anchor)>0&&(o=o.filter(t=>t!==e.anchor),o.unshift(e.anchor))}const l=(e,i,n)=>{const a=t.textBoxScale,l=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,f=b&&!g?i:null;f&&R(f);let _={box:[],offscreen:!1};const w=y?2*o.length:o.length;for(let y=0;y<w;++y){const i=this.attemptAnchorPlacement(o[y%o.length],e,l,u,a,v,x,c,s,m,y>=o.length,t,d,r,n,f,h,p);if(i&&(_=i.placedGlyphBoxes,_&&_.box&&_.box.length)){L=!0,D=i.shift;break}}return _};n(()=>l(F,w.iconBox,e.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return i&&R(i),r.allowVerticalPlacement&&!(E&&E.box&&E.box.length)&&t.numVerticalGlyphVertices>0&&i?l(i,w.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}}),E&&(L=E.box,S=E.offscreen);const u=i(E&&E.box);if(!L&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(r,e.anchor,t,u))}}else{const a=(i,n)=>{const a=r.getSymbolInstanceTextSize(h,t,this.transform.zoom,d),o=this.collisionIndex.placeCollisionBox(a,i,new e.Point(0,0),y,c,s,m.predicate);return o&&o.box&&o.box.length&&(this.markUsedOrientation(r,n,t),this.placedOrientations[t.crossTileID]=n),o};n(()=>a(F,e.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return r.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i?(R(i),a(i,e.WritingMode.vertical)):{box:null,offscreen:null}}),i(E&&E.box&&E.box.length)}}if(P=E,L=P&&P.box&&P.box.length>0,S=P&&P.offscreen,t.useRuntimeCollisionCircles){const i=r.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),c=e.evaluateSizeForFeature(r.textSizeData,h,i),u=a.get("text-padding");Y=this.collisionIndex.placeCollisionCircles(y,i,r.lineVertexArray,r.glyphOffsetArray,c,s,o,l,n,x,m.predicate,t.collisionCircleDiameter,u,this.retainedQueryData[r.bucketInstanceId].tileID),L=y||Y.circles.length>0&&!Y.collisionDetected,S=S&&Y.offscreen}if(w.iconFeatureIndex&&(O=w.iconFeatureIndex),w.iconBox){const t=t=>{R(t);const i=b&&D?Te(D.x,D.y,v,x,this.transform.angle):new e.Point(0,0),n=r.getSymbolInstanceIconSize(p,this.transform.zoom,d);return this.collisionIndex.placeCollisionBox(n,t,i,g,c,s,m.predicate)};C&&C.box&&C.box.length&&w.verticalIconBox?(A=t(w.verticalIconBox),k=A.box.length>0):(A=t(w.iconBox),k=A.box.length>0),S=S&&A.offscreen}const B=f||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,j=_||0===t.numIconVertices;if(B||j?j?B||(k=k&&L):L=k&&L:k=L=k&&L,L&&P&&P.box&&this.collisionIndex.insertCollisionBox(P.box,a.get("text-ignore-placement"),r.bucketInstanceId,C&&C.box&&z?z:I,m.ID),k&&A&&this.collisionIndex.insertCollisionBox(A.box,a.get("icon-ignore-placement"),r.bucketInstanceId,O,m.ID),Y&&(L&&this.collisionIndex.insertCollisionCircles(Y.circles,a.get("text-ignore-placement"),r.bucketInstanceId,I,m.ID),n)){const e=r.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new xe);for(let i=0;i<Y.circles.length;i+=4)t.circles.push(Y.circles[i+0]),t.circles.push(Y.circles[i+1]),t.circles.push(Y.circles[i+2]),t.circles.push(Y.collisionDetected?1:0)}this.placements[t.crossTileID]=new ve(L||M,k||T,S||r.justReloaded),i[t.crossTileID]=!0};if(w){const e=r.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];L(r.symbolInstances.get(i),i,r.collisionArrays[i])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)L(r.symbolInstances.get(e),e,r.collisionArrays[e]);if(n&&r.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[r.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(t,i,n,r){let a;a=r===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(i)];const s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const e of s)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=a>=0&&e!==a?0:n.crossTileID)}markUsedOrientation(t,i,n){const r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,a=i===e.WritingMode.vertical?i:0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const e of s)t.text.placedSymbolArray.get(e).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const n=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},a=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const o in this.placements){const e=this.placements[o],t=r[o];t?(this.opacities[o]=new ge(t,n,e.text,e.icon),i=i||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[o]=new ge(null,n,e.text,e.icon,e.skipFade),i=i||e.text||e.icon)}for(const o in r){const e=r[o];if(!this.opacities[o]){const t=new ge(e,n,!1,!1);t.isHidden()||(this.opacities[o]=t,i=i||e.text.placed||e.icon.placed)}}for(const o in a)this.variableOffsets[o]||!this.opacities[o]||this.opacities[o].isHidden()||(this.variableOffsets[o]=a[o]);for(const o in s)this.placedOrientations[o]||!this.opacities[o]||this.opacities[o].isHidden()||(this.placedOrientations[o]=s[o]);i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const i={};for(const n of t){const t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i,n.collisionBoxArray)}}updateBucketOpacities(t,i,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,a=new ge(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),o=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),c="map"===r.get("text-rotation-alignment"),u="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),h=new ge(null,0,s&&(o||!t.hasIconData()||r.get("icon-optional")),o&&(s||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);const p=(e,t,i)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(i)};for(let m=0;m<t.symbolInstances.length;m++){const n=t.symbolInstances.get(m),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:o}=n;let f=this.opacities[o];i[o]?f=a:f||(f=h,this.opacities[o]=f),i[o]=!0;const _=n.numIconVertices>0,y=this.placedOrientations[n.crossTileID],g=y===e.WritingMode.vertical,v=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(r>0||s>0){const e=Ie(f.text);p(t.text,r,g?ze:e),p(t.text,s,v?ze:e);const i=f.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach(e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=i||g?1:0)}),n.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=i||v?1:0);const a=this.variableOffsets[n.crossTileID];a&&this.markUsedJustification(t,a.anchor,n,y);const o=this.placedOrientations[n.crossTileID];o&&(this.markUsedJustification(t,"left",n,o),this.markUsedOrientation(t,o,n))}if(_){const e=Ie(f.icon),i=!(d&&n.verticalPlacedIconSymbolIndex&&g);n.placedIconSymbolIndex>=0&&(p(t.icon,n.numIconVertices,i?e:ze),t.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=f.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,n.numVerticalIconVertices,i?ze:e),t.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=f.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[m];if(i){let n=new e.Point(0,0);if(i.textBox||i.verticalTextBox){let e=!0;if(l){const t=this.variableOffsets[o];t?(n=Me(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),c&&n._rotate(u?this.transform.angle:-this.transform.angle)):e=!1}i.textBox&&ke(t.textCollisionBox.collisionVertexArray,f.text.placed,!e||g,n.x,n.y),i.verticalTextBox&&ke(t.textCollisionBox.collisionVertexArray,f.text.placed,!e||v,n.x,n.y)}const r=Boolean(!v&&i.verticalIconBox);i.iconBox&&ke(t.iconCollisionBox.collisionVertexArray,f.icon.placed,r,d?n.x:0,d?n.y:0),i.verticalIconBox&&ke(t.iconCollisionBox.collisionVertexArray,f.icon.placed,!r,d?n.x:0,d?n.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0}}function ke(e,t,i,n,r){e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0)}const Se=Math.pow(2,25),De=Math.pow(2,24),Ee=Math.pow(2,17),Ce=Math.pow(2,16),Pe=Math.pow(2,9),Ye=Math.pow(2,8),Ae=Math.pow(2,1);function Ie(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Se+t*De+i*Ee+t*Ce+i*Pe+t*Ye+i*Ae+t}const ze=0;class Oe{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,i,n,r){const a=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(a,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return!0;return!1}}class Re{constructor(e,t,i,n,r,a,s){this.placement=new Le(e,r,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(t,i,n){const r=e.browser.now(),a=()=>{const t=e.browser.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=i[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Oe(e)),this._inProgressLayer.continuePlacement(n[e.source],this.placement,this._showCollisionBoxes,e,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Fe=512/e.EXTENT/2;class Be{constructor(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let n=0;n<t.length;n++){const i=t.get(n),r=i.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}}getScaledCoordinates(t,i){const n=Fe/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((i.canonical.y*e.EXTENT+t.anchorY)*n)}}findMatches(e,t,i){const n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const a=e.get(r);if(a.crossTileID)continue;const s=this.indexedSymbolInstances[a.key];if(!s)continue;const o=this.getScaledCoordinates(a,t);for(const e of s)if(Math.abs(e.coord.x-o.x)<=n&&Math.abs(e.coord.y-o.y)<=n&&!i[e.crossTileID]){i[e.crossTileID]=!0,a.crossTileID=e.crossTileID;break}}}}class je{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class He{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const i in this.indexes){const e=this.indexes[i],n={};for(const i in e){const r=e[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),n[r.tileID.key]=r}this.indexes[i]=n}this.lng=e}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const n=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in i){const a=i[r];a.tileID.isChildOf(e)&&a.findMatches(t.symbolInstances,e,n)}else{const a=i[e.scaledTo(Number(r)).key];a&&a.findMatches(t.symbolInstances,e,n)}}for(let r=0;r<t.symbolInstances.length;r++){const e=t.symbolInstances.get(r);e.crossTileID||(e.crossTileID=i.generate(),n[e.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Be(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i in t.indexedSymbolInstances)for(const n of t.indexedSymbolInstances[i])delete this.usedCrossTileIDs[e][n.crossTileID]}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const n=this.indexes[i];for(const r in n)e[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],t=!0)}return t}}class Ne{constructor(){this.layerIndexes={},this.crossTileIDs=new je,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,i){let n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new He);let r=!1;const a={};n.handleWrapJump(i);for(const s of t){const t=s.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(s.tileID,t,this.crossTileIDs)&&(r=!0),a[t.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(r=!0),r}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const i in this.layerIndexes)t[i]||delete this.layerIndexes[i]}}const Ue=(t,i)=>e.emitValidationErrors(t,i&&i.filter(e=>"source.canvas"!==e.identifier)),Ve=e.pick($,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain"]),We=e.pick($,["setCenter","setZoom","setBearing","setPitch"]),$e=function(){const t={},i=e.styleSpec.$version;for(const n in e.styleSpec.$root){const r=e.styleSpec.$root[n];if(r.required){let e=null;e="version"===n?i:"array"===r.type?[]:{},null!=e&&(t[n]=e)}}return t}();class Ge extends e.Evented{constructor(t,i={}){super(),this.map=t,this.dispatcher=new T(U(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new g(t._requestManager,i.localIdeographFontFamily),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new Ne,this._layers={},this._num3DLayers=0,this._serializedLayers={},this._order=[],this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=Ge.registerForPluginStateChange(t=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,i)=>{if(e.triggerPluginCompletionEvent(t),i&&i.every(e=>e))for(const e in n._sourceCaches){const t=n._sourceCaches[e],i=t.getSource().type;"vector"!==i&&"geojson"!==i||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const i in this._layers){const e=this._layers[i];e.source===t.id&&this._validateLayer(e)}})}loadURL(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,(t,i)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):i&&this._load(i,n)})}loadJSON(t,i={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame(()=>{this._request=null,this._load(t,!1!==i.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load($e,!1)}_load(t,i){if(i&&Ue(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);const n=W(this.stylesheet.layers);this._order=n.map(e=>e.id),this._layers={},this._serializedLayers={};for(let r of n)r=e.createStyleLayer(r),r.setEventedParent(this,{layer:{id:r.id}}),this._layers[r.id]=r,this._serializedLayers[r.id]=r.serialize(),r.is3D()&&this._num3DLayers++;this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,i,n){let r,a,s;const o=e.browser.devicePixelRatio>1?"@2x":"";let l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,o,".json"),e.ResourceType.SpriteJSON),(e,t)=>{l=null,s||(s=e,r=t,u())}),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,o,".png"),e.ResourceType.SpriteImage),(e,t)=>{c=null,s||(s=e,a=t,u())});function u(){if(s)n(s);else if(r&&a){const t=e.browser.getImageData(a),i={};for(const n in r){const{width:a,height:s,x:o,y:l,sdf:c,pixelRatio:u,stretchX:d,stretchY:h,content:p}=r[n],m=new e.RGBAImage({width:a,height:s});e.RGBAImage.copy(t,m,{x:o,y:l},{x:0,y:0},{width:a,height:s}),i[n]={data:m,pixelRatio:u,sdf:c,stretchX:d,stretchY:h,content:p}}n(null,i)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(i)for(const e in i)this.imageManager.addImage(e,i[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const i=this.getSource(t.source);if(!i)return;const n=t.sourceLayer;n&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${i.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const i=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(e.length||i.length)&&this._updateWorkerLayers(e,i);for(const t in this._updatedSources){const e=this._updatedSources[t];"reload"===e?this._reloadSource(t):"clear"===e&&this._clearSource(t)}this._updateTilesForChangedImages();for(const n in this._updatedPaintProps)this._layers[n].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const n={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];n[e]=t.used,t.used=!1}for(const e of this._order){const i=this._layers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this._getLayerSourceCache(i);e&&(e.used=!0)}const n=this.map.painter;if(n){const e=i.getProgramIds();if(!e)continue;const r=i.getProgramConfiguration(t.zoom);for(const t of e)n.useProgram(t,r)}}for(const r in n){const t=this._sourceCaches[r];n[r]!==t.used&&t.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.z=t.zoom,i&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(t){if(this._checkLoaded(),Ue(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=W(t.layers);const i=function(t,i){if(!t)return[{command:$.setStyle,args:[i]}];let n=[];try{if(!e.deepEqual(t.version,i.version))return[{command:$.setStyle,args:[i]}];e.deepEqual(t.center,i.center)||n.push({command:$.setCenter,args:[i.center]}),e.deepEqual(t.zoom,i.zoom)||n.push({command:$.setZoom,args:[i.zoom]}),e.deepEqual(t.bearing,i.bearing)||n.push({command:$.setBearing,args:[i.bearing]}),e.deepEqual(t.pitch,i.pitch)||n.push({command:$.setPitch,args:[i.pitch]}),e.deepEqual(t.sprite,i.sprite)||n.push({command:$.setSprite,args:[i.sprite]}),e.deepEqual(t.glyphs,i.glyphs)||n.push({command:$.setGlyphs,args:[i.glyphs]}),e.deepEqual(t.transition,i.transition)||n.push({command:$.setTransition,args:[i.transition]}),e.deepEqual(t.light,i.light)||n.push({command:$.setLight,args:[i.light]});const r={},a=[];!function(t,i,n,r){let a;for(a in i=i||{},t=t||{})t.hasOwnProperty(a)&&(i.hasOwnProperty(a)||q(a,n,r));for(a in i)i.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],i[a])||("geojson"===t[a].type&&"geojson"===i[a].type&&X(t,i,a)?n.push({command:$.setGeoJSONSourceData,args:[a,i[a].data]}):Z(a,i,n,r)):G(a,i,n))}(t.sources,i.sources,a,r);const s=[];t.layers&&t.layers.forEach(e=>{r[e.source]?n.push({command:$.removeLayer,args:[e.id]}):s.push(e)});let o=t.terrain;o&&r[o.source]&&(n.push({command:$.setTerrain,args:[void 0]}),o=void 0),n=n.concat(a),e.deepEqual(o,i.terrain)||n.push({command:$.setTerrain,args:[i.terrain]}),function(t,i,n){i=i||[];const r=(t=t||[]).map(K),a=i.map(K),s=t.reduce(Q,{}),o=i.reduce(Q,{}),l=r.slice(),c=Object.create(null);let u,d,h,p,m,f,_;for(u=0,d=0;u<r.length;u++)h=r[u],o.hasOwnProperty(h)?d++:(n.push({command:$.removeLayer,args:[h]}),l.splice(l.indexOf(h,d),1));for(u=0,d=0;u<a.length;u++)h=a[a.length-1-u],l[l.length-1-u]!==h&&(s.hasOwnProperty(h)?(n.push({command:$.removeLayer,args:[h]}),l.splice(l.lastIndexOf(h,l.length-d),1)):d++,f=l[l.length-u],n.push({command:$.addLayer,args:[o[h],f]}),l.splice(l.length-u,0,h),c[h]=!0);for(u=0;u<a.length;u++)if(h=a[u],p=s[h],m=o[h],!c[h]&&!e.deepEqual(p,m))if(e.deepEqual(p.source,m.source)&&e.deepEqual(p["source-layer"],m["source-layer"])&&e.deepEqual(p.type,m.type)){for(_ in J(p.layout,m.layout,n,h,null,$.setLayoutProperty),J(p.paint,m.paint,n,h,null,$.setPaintProperty),e.deepEqual(p.filter,m.filter)||n.push({command:$.setFilter,args:[h,m.filter]}),e.deepEqual(p.minzoom,m.minzoom)&&e.deepEqual(p.maxzoom,m.maxzoom)||n.push({command:$.setLayerZoomRange,args:[h,m.minzoom,m.maxzoom]}),p)p.hasOwnProperty(_)&&"layout"!==_&&"paint"!==_&&"filter"!==_&&"metadata"!==_&&"minzoom"!==_&&"maxzoom"!==_&&(0===_.indexOf("paint.")?J(p[_],m[_],n,h,_.slice(6),$.setPaintProperty):e.deepEqual(p[_],m[_])||n.push({command:$.setLayerProperty,args:[h,_,m[_]]}));for(_ in m)m.hasOwnProperty(_)&&!p.hasOwnProperty(_)&&"layout"!==_&&"paint"!==_&&"filter"!==_&&"metadata"!==_&&"minzoom"!==_&&"maxzoom"!==_&&(0===_.indexOf("paint.")?J(p[_],m[_],n,h,_.slice(6),$.setPaintProperty):e.deepEqual(p[_],m[_])||n.push({command:$.setLayerProperty,args:[h,_,m[_]]}))}else n.push({command:$.removeLayer,args:[h]}),f=l[l.lastIndexOf(h)+1],n.push({command:$.addLayer,args:[m,f]})}(s,i.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:$.setStyle,args:[i]}]}return n}(this.serialize(),t).filter(e=>!(e.command in We));if(0===i.length)return!1;const n=i.filter(e=>!(e.command in Ve));if(n.length>0)throw new Error(`Unimplemented: ${n.map(e=>e.command).join(", ")}.`);return i.forEach(e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=t,!0}addImage(t,i){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,i),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,i,n={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,i,null,n))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=I(t,i,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:r.serialize(),sourceId:t}));const a=i=>{const n=(i?"symbol:":"other:")+t,a=this._sourceCaches[n]=new e.SourceCache(n,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[t]=a,a.style=this,a.onAdd(this.map)};a(!1),"vector"!==i.type&&"geojson"!==i.type||a(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const i=this.getSource(t);if(void 0===i)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(t);for(const r of n)delete this._sourceCaches[r.id],delete this._updatedSources[r.id],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:r.getSource().id})),r.setEventedParent(null),r.clearTiles();delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}addLayer(t,i,n={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let a;if("custom"===t.type){if(Ue(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateStyle.layer,"layers."+r,t,{arrayIndex:-1},n))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[a.id]=a.serialize(),a.is3D()&&this._num3DLayers++}const s=i?this._order.indexOf(i):this._order.length;if(i&&-1===s)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`)));this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=a;const o=this._getLayerSourceCache(a);if(this._removedLayers[r]&&a.source&&o&&"custom"!==a.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",o.pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}moveLayer(t,i){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===i)return;const n=this._order.indexOf(t);this._order.splice(n,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const i=this._layers[t];if(!i)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),i.is3D()&&this._num3DLayers--;const n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,i,n){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(t,i,n={}){this._checkLoaded();const r=this.getLayer(t);if(r){if(!e.deepEqual(r.filter,i))return null==i?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(e.validateStyle.filter,`layers.${r.id}.filter`,i,null,n)||(r.filter=e.clone$1(i),this._updateLayer(r)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,i,n,r={}){this._checkLoaded();const a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(i),n)||(a.setLayoutProperty(i,n,r),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,i){const n=this.getLayer(t);if(n)return n.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(t,i,n,r={}){this._checkLoaded();const a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(i),n)||(a.setPaintProperty(i,n,r)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const n=t.source,r=t.sourceLayer,a=this.getSource(n);if(void 0===a)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const s=a.type;if("geojson"===s&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===s&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const o=this._getSourceCaches(n);for(const e of o)e.setFeatureState(r,t.id,i)}removeFeatureState(t,i){this._checkLoaded();const n=t.source,r=this.getSource(n);if(void 0===r)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=r.type,s="vector"===a?t.sourceLayer:void 0;if("vector"===a&&!s)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(i&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const o=this._getSourceCaches(n);for(const e of o)e.removeFeatureState(s,t.id,i)}getFeatureState(t){this._checkLoaded();const i=t.source,n=t.sourceLayer,r=this.getSource(i);if(void 0!==r){if("vector"!==r.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const i=this._sourceCaches[e].getSource();t[i.id]||(t[i.id]=i.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,i={},n=[];for(let a=this._order.length-1;a>=0;a--){const r=this._order[a];if(t(r)){i[r]=a;for(const t of e){const e=t[r];if(e)for(const t of e)n.push(t)}}}n.sort((e,t)=>t.intersectionZ-e.intersectionZ);const r=[];for(let a=this._order.length-1;a>=0;a--){const s=this._order[a];if(t(s))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(i[t.layer.id]<a)break;r.push(t),n.pop()}else for(const t of e){const e=t[s];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,i,n){i&&i.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of i.layers){const i=this._layers[t];if(!i)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const a=[];i.availableImages=this._availableImages;const s=i&&i.layers?i.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),o=k.createFromScreenPoints(t,n);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;i.layers&&!r[t]||a.push(O(this._sourceCaches[e],this._layers,this._serializedLayers,o,i,n,s,!!this.map._showQueryGeometry))}return this.placement&&a.push(function(e,t,i,n,r,a,s){const o={},l=a.queryRenderedSymbols(n),c=[];for(const u of Object.keys(l).map(Number))c.push(s[u]);c.sort(F);for(const u of c){const i=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],t,u.bucketIndex,u.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in i){const t=o[e]=o[e]||[],n=i[e];n.sort((e,t)=>{const i=u.featureSortOrder;if(i){const n=i.indexOf(e.featureIndex);return i.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex});for(const e of n)t.push(e)}}for(const u in o)o[u].forEach(t=>{const n=t.feature,r=i(e[u]).getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r});return o}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),o.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(t,i){i&&i.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);const n=this._getSourceCaches(t);let r=[];for(const e of n)r=r.concat(R(e,i));return r}addSourceType(e,t,i){return Ge.getSourceType(e)?i(new Error(`A source type called "${e}" already exists.`)):(Ge.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(t,i={}){this._checkLoaded();const n=this.light.getLight();let r=!1;for(const s in t)if(!e.deepEqual(t[s],n[s])){r=!0;break}if(!r)return;const a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,i),this.light.updateTransitions(a)}setTerrain(t){if(this._checkLoaded(),!t)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),void this._force3DLayerUpdate();if("object"==typeof t.source){const i="terrain-dem-src";this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})}if(!this._validate(e.validateStyle.terrain,"terrain",t))if(this.terrain){const i=this.terrain,n=i.get();for(const r in t)if(!e.deepEqual(t[r],n[r])){i.set(t),this.stylesheet.terrain=t;const n={now:e.browser.now(),transition:e.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n);break}}else this._createTerrain(t)}_createTerrain(t){const i=this.terrain=new w(t);this.stylesheet.terrain=t,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const n={now:e.browser.now(),transition:e.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_validate(t,i,n,r,a={}){return(!a||!1!==a.validate)&&Ue(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:n,styleSpec:e.styleSpec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const i of t)i.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const i of t)i.resume(),i.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,i,n,r,a=!1){let s=!1,o=!1;const l={};for(const e of this._order){const i=this._layers[e];if("symbol"!==i.type)continue;if(!l[i.source]){const e=this._getLayerSourceCache(i);if(!e)continue;l[i.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(i,l[i.source],t.center.lng);s=s||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Re(t,this._order,a,i,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),o=!0),s&&this.pauseablePlacement.placement.setStale()),o||s)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();const n=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,i)}getResource(t,i,n){return e.makeRequest(i,n)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}has3DLayers(){return this._num3DLayers>0}}Ge.getSourceType=function(e){return A[e]},Ge.setSourceType=function(e,t){A[e]=t},Ge.registerForPluginStateChange=e.registerForPluginStateChange;var qe="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Ze={};Ze=St("","#ifdef TERRAIN\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}float prevElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*word/7.3;}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0);const Xe=St("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nconst float PI=3.141592653589793;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const float PI=3.141592653589793;const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Je=St("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ke=St("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Qe=St("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),et=St("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),tt=St("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}"),it=St("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),nt=St("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),rt=St("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),at=St("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),st=St("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),ot=St("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),lt=St("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ct=St("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),ut=St("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,t > 0.0 ? height : base,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),dt=St("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,z,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ht=St("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),pt=St("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),mt=St("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),ft=St("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),_t=St("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),yt=St("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),gt=St("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),vt=St("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),xt=St("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),bt=St("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),wt=St("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;const float skirtOffset=24575.0;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);}"),Mt=St("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),Tt=St("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",qe),Lt=St("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform lowp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5))*u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",qe),kt=St("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}");function St(e,t,i){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),a=e.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g),s=t.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g);let o=s?s.concat(a):a;i||(o=Ze.staticUniforms.concat(o));const l={};return{fragmentSource:e=e.replace(n,(e,t,i,n,r)=>(l[r]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = u_${r};\n#endif\n`)),vertexSource:t=t.replace(n,(e,t,i,n,r)=>{const a="float"===n?"vec2":"vec4",s=r.match(/color/)?"color":a;return l[r]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${a} a_${r};\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${a} a_${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`}),staticAttributes:r,staticUniforms:o}}var Dt=Object.freeze({__proto__:null,get preludeTerrain(){return Ze},prelude:Xe,background:Je,backgroundPattern:Ke,circle:Qe,clippingMask:et,heatmap:tt,heatmapTexture:it,collisionBox:nt,collisionCircle:rt,debug:at,fill:st,fillOutline:ot,fillOutlinePattern:lt,fillPattern:ct,fillExtrusion:ut,fillExtrusionPattern:dt,hillshadePrepare:ht,hillshade:pt,line:mt,lineGradient:ft,linePattern:_t,lineSDF:yt,raster:gt,symbolIcon:vt,symbolSDF:xt,symbolTextAndIcon:bt,terrainRaster:wt,terrainDepth:Mt,skybox:Tt,skyboxGradient:Lt,skyboxCapture:kt});class Et{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,i,n,r,a,s,o){this.context=e;let l=this.boundPaintVertexBuffers.length!==n.length;for(let c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===r&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===s&&this.boundDynamicVertexBuffer2===o?(e.bindVertexArrayOES.set(this.vao),s&&s.bind(),r&&r.dynamicDraw&&r.bind(),o&&o.bind()):this.freshBind(t,i,n,r,a,s,o)}freshBind(e,t,i,n,r,a,s){let o;const l=e.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),o=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=s;else{o=c.currentNumAttributes||0;for(let e=l;e<o;e++)u.disableVertexAttribArray(e)}t.enableAttributes(u,e);for(const d of i)d.enableAttributes(u,e);a&&a.enableAttributes(u,e),s&&s.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,r);for(const d of i)d.bind(),d.setVertexAttribPointers(u,e,r);a&&(a.bind(),a.setVertexAttribPointers(u,e,r)),n&&n.bind(),s&&(s.bind(),s.setVertexAttribPointers(u,e,r)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ct(t,i){const n=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new e.MercatorCoordinate(0,r/n).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/n).toLngLat().lat]}function Pt(t,i,n,r,a,s,o){const l=t.context,c=l.gl,u=n.fbo;if(!u)return;t.prepareDrawTile(i);const d=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const h=((e,t,i,n)=>{const r=i.paint.get("hillshade-shadow-color"),a=i.paint.get("hillshade-highlight-color"),s=i.paint.get("hillshade-accent-color");let o=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);const l=!e.options.moving;return{u_matrix:n||e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:Ct(0,t.tileID),u_light:[i.paint.get("hillshade-exaggeration"),o],u_shadow:r,u_highlight:a,u_accent:s}})(t,n,r,t.terrain?i.posMatrix:null);d.draw(l,c.TRIANGLES,a,s,o,e.CullFaceMode.disabled,h,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}function Yt(t,i,n){if(!i.needsDEMTextureUpload)return;const r=t.context,a=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(n.stride);const s=n.getPixels();i.demTexture?i.demTexture.update(s,{premultiply:!1}):i.demTexture=new e.Texture(r,s,a.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function At(t,i,n,r,a,s){const o=t.context,l=o.gl;if(!i.dem)return;const c=i.dem;if(o.activeTexture.set(l.TEXTURE1),Yt(t,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;o.activeTexture.set(l.TEXTURE0);let d=i.fbo;if(!d){const t=new e.Texture(o,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),d=i.fbo=o.createFramebuffer(u,u,!0),d.colorAttachment.set(t.texture)}o.bindFramebuffer.set(d.framebuffer),o.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(o,l.TRIANGLES,r,a,s,e.CullFaceMode.disabled,((t,i)=>{const n=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),i.needsHillshadePrepare=!1}const It=(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image0:new e.Uniform1i(t,i.u_image0),u_skirt_height:new e.Uniform1f(t,i.u_skirt_height)}),zt=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),Ot=new class{constructor(){this.operations={}}newMorphing(e,t,i,n,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i)}else this.operations[e]={startTime:n,phase:0,duration:r,from:t,to:i,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Rt={0:null,1:"TERRAIN_VERTEX_MORPHING"};function Ft(t,i,n,r,a){const s=t.context,o=s.gl;let l=t.useProgram("terrainRaster"),c=0;const u=t.colorModeForRenderPass(),d=new e.DepthMode(o.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ot.update(a);const h=t.transform,p=6*Math.pow(1.5,22-h.zoom)*i.exaggeration();var m,f,_;for(const y of r){const r=n.getTile(y),g=e.StencilMode.disabled,v=i.prevTerrainTileForTile[y.key],x=i.terrainTileForTile[y.key];_=x,null!=(f=v)&&null!=_&&f.hasData()&&_.hasData()&&null!=f.demTexture&&null!=_.demTexture&&f.tileID.key!==_.tileID.key&&Ot.newMorphing(y.key,v,x,a,250),s.activeTexture.set(o.TEXTURE0),r.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);const b=Ot.getMorphValuesForProxy(y.key),w=b?1:0;let M;b&&(M={morphing:{srcDemTile:b.from,dstDemTile:b.to,phase:e.easeCubicInOut(b.phase)}});const T=zt(y.posMatrix,Bt(y.canonical,h.renderWorldCopies)?p/10:p);c!==(m=w)&&(l=t.useProgram("terrainRaster",null,Rt[m]),c=m),i.setupElevationDraw(r,l,M),l.draw(s,o.TRIANGLES,d,g,u,e.CullFaceMode.backCCW,T,"terrain_raster",i.gridBuffer,i.gridIndexBuffer,i.gridSegments)}}function Bt(e,t){const i=1<<e.z;return!t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const jt=e=>({u_matrix:e});function Ht(t,i,n,r,a){if(a>0){const s=e.browser.now(),o=(s-t.timeAdded)/a,l=i?(s-i.timeAdded)/a:-1,c=n.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),h=d&&t.refreshedUponExpiration?1:e.clamp(d?o:1-l,0,1);return t.refreshedUponExpiration&&o>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}const Nt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ut extends e.SourceCache{constructor(e){const t=I("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new T(U(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,i,n){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!0}).reduce((i,n)=>{if(i[n.key]="",!this._tiles[n.key]){const i=new e.Tile(n,this._source.tileSize*n.overscaleFactor(),t.tileZoom);i.state="loaded",this._tiles[n.key]=i}return i},{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].state="unloaded",delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];void 0!==t&&(this.renderCachePool.push(t),delete this.proxyCachedFBO[e])}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Vt extends e.OverscaledTileID{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.posMatrix=i}}class Wt extends e.Elevation{constructor(t,i){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,r,a]=function(t){const i=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6;i.reserve(17161),n.reserve(33800);const r=e.EXTENT/128,a=e.EXTENT+r/2,s=a+r;for(let l=-r;l<s;l+=r)for(let t=-r;t<s;t+=r){const n=t<0||t>a||l<0||l>a?24575:0,r=e.clamp(Math.round(t),0,e.EXTENT),s=e.clamp(Math.round(l),0,e.EXTENT);i.emplaceBack(r+n,s,r,s)}const o=(e,t)=>{const i=131*t+e;n.emplaceBack(i+1,i,i+131),n.emplaceBack(i+131,i+131+1,i+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)o(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)o(t,e),o(e,t)}),[i,n,32768]}(),s=t.context;this.gridBuffer=s.createVertexBuffer(n,P.members),this.gridIndexBuffer=s.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,n.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,n.length,a),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ut(i.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);const o=s.gl;this._overlapStencilMode=new e.StencilMode({func:o.GEQUAL,mask:255},0,255,o.KEEP,o.KEEP,o.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,i.on("data",this._onStyleDataEvent.bind(this))}update(t,i,n){if(t&&t.terrain){this.style!==t&&(t.on("data",this._onStyleDataEvent.bind(this)),this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const a=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.sourceCache.getSource().tileSize/128,n=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(i,t*n,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,a(),this._initializing=!0),a(),i.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(i),this._depthDone=!1,this._emptyDEMTextureDirty=!0}else this._disable()}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this.proxySourceCache.deallocRenderCache(),this.painter.style))for(const e in this.painter.style._sourceCaches)this.painter.style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPoint(e.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.painter.options;this.drapeFirst=(r.zooming||r.moving||r.rotating||!!this.forceDrapeFirst)&&!this._invalidateRenderCache,this._invalidateRenderCache=!1;const a=this.proxyCoords=i.getIds().map(e=>{const t=i.getTileByID(e).tileID;return t.posMatrix=n.calculatePosMatrix(t.toUnwrapped()),t});!function(t,i){const n=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.Point(n.x,n.y);t.sort((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const n=new e.Point(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),a=new e.Point(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),s=r.mult(1<<t.canonical.z);return s.x-=.5,s.y-=.5,s.distSqr(n)-s.distSqr(a)})}(a,this.painter),this._previousZoom=n.zoom;const s=this.proxyToSource||{};this.proxyToSource={},a.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const o=this.painter.style._sourceCaches;for(const e in o){const i=o[e];if(!i.used)continue;if(i!==this.sourceCache&&(this._findCoveringTileCache[i.id]={}),this._setupProxiedCoordsForOrtho(i,t[e],s),i.usedForTerrain)continue;const n=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[i.id]=a.map(e=>new Vt(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(a),this._prepareDEMTextures(),this._setupRenderCache(s),this.drapeFirstPending=this.drapeFirst,this.renderingToTexture=!1,this._initFBOPool(),this._updateTimestamp=e.browser.now();const l={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in l||(this._visibleDemTiles.push(t),l[i]=i)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const n=this.terrainTileForTile[i],r=n.dem;!r||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),Yt(this.painter,n,r))}}_prepareDemTileUniforms(e,t,i,n){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,a=Math.pow(2,t.tileID.canonical.z-r.z),s=n||"";return i["u_dem_tl"+s]=[r.x*a%1,r.y*a%1],i["u_dem_scale"+s]=a,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,i)=>{if(!i.dem)return t;const n=i.dem.tree.minimums[0];return n>0&&e++,t+n},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const n=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let a=this._emptyDEMTexture;return a?a.update(r,{premultiply:!1}):a=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),a}setupElevationDraw(t,i,n){const r=this.painter.context,a=r.gl,s=(o=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(o),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var o;s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(n&&n.morphing){const e=n.morphing.srcDemTile,i=n.morphing.dstDemTile;u=n.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,s,"_prev")&&(c=e),this._prepareDemTileUniforms(t,i,s)&&(l=i))}if(c&&l?(r.activeTexture.set(a.TEXTURE2),l.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),r.activeTexture.set(a.TEXTURE4),c.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(a.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST)),n&&n.useDepthForOcclusion&&(r.activeTexture.set(a.TEXTURE3),this._depthTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=t}n&&n.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),i.setTerrainUniformValues(r,s)}renderLayer(e,t){return"translucent"!==this.painter.renderPass?(this._depthDone||"symbol"!==e.type&&"circle"!==e.type||this.drawDepth(),!0):this.drapeFirst&&this.drapeFirstPending?(this.render(),this.drapeFirstPending=!1,!0):!!this._isLayerDrapedOverTerrain(e)&&(this.drapeFirst&&!this.renderingToTexture||this.render(),!0)}render(){this.renderingToTexture=!0;const t=this.painter,i=this.painter.context,n=this.proxySourceCache,r=this.proxiedCoords[n.id],a=()=>{i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),this.renderingToTexture=!1},s=t.currentLayer;let o=s,l=[];const c=t.style._order;let u=0;for(let d=0;d<r.length;d++){const h=r[d],p=n.getTileByID(h.proxyTileKey),m=n.proxyCachedFBO[h.key],f=this.currentFBO=void 0!==m?n.renderCache[m]:this.pool[u++];if(p.texture=f.tex,void 0!==m&&!f.dirty){l.push(p.tileID);continue}let _;for(i.bindFramebuffer.set(f.fb.framebuffer),this.renderedToTile=!1,f.dirty&&(i.clear({color:e.Color.transparent}),f.dirty=!1),t.currentLayer=s;t.currentLayer<c.length;t.currentLayer++){const e=t.style._layers[c[t.currentLayer]],n=e.isHidden(t.transform.zoom),r=this._isLayerDrapedOverTerrain(e);if(this.drapeFirst&&!r)continue;if(t.currentLayer>o){if(!n&&!r)break;o++}if(n)continue;const a=this.painter.style._getLayerSourceCache(e),s=a?this.proxyToSource[h.key][a.id]:[h];if(!s)continue;const l=s;i.viewport.set([0,0,f.fb.width,f.fb.height]),_!==(a?a.id:null)&&(this._setupStencil(s,e,a),_=a?a.id:null),t.renderLayer(t,a,e,l)}f.dirty=this.renderedToTile,this.renderedToTile&&l.push(p.tileID),5===u&&(u=0,l.length>0&&(a(),Ft(t,this,n,l,this._updateTimestamp),this.renderingToTexture=!0,l=[]))}a(),l.length>0&&Ft(t,this,n,l,this._updateTimestamp),t.currentLayer=this.drapeFirst?-1:o}raycast(e,t,i){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(e=>e.dem).map(n=>{const r=n.tileID,a=Math.pow(2,r.overscaledZ),{x:s,y:o}=r.canonical,l=s/a,c=(s+1)/a,u=o/a,d=(o+1)/a;return{minx:l,miny:u,maxx:c,maxy:d,t:n.dem.tree.raycastRoot(l,u,c,d,e,t,i),tile:n}});n.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const r of n){if(null==r.t)return null;const n=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=n)return n}return null}_createFBO(){const t=this.painter.context,i=t.gl,n=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.Texture(t,{width:n[0],height:n[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const a=t.createFramebuffer(n[0],n[1],!1);return a.colorAttachment.set(r.texture),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:a,tex:r,dirty:!1,ref:1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){return!this.drapeFirst||this.painter.style._order.some(e=>{const t=this.painter.style._layers[e],i=!t.isHidden(this.painter.transform.zoom),n=t.getCrossfadeParameters();return"custom"!==t.type&&!i&&!!n&&1!==n.t})}_clearRasterFadeFromRenderCache(){for(const e in this.painter.style._sourceCaches)if(!(this.painter.style._sourceCaches[e]._source instanceof C))return;for(let e=0;e<this.painter.style._order.length;++e){const t=this.painter.style._layers[this.painter.style._order[e]],i=t.isHidden(this.painter.transform.zoom),n=this.painter.style._getLayerSourceCache(t);if("raster"!==t.type||i||!n)continue;const r=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][n.id];if(t)for(const e of t){const t=Ht(n.getTile(e),n.findLoadedParent(e,0),n,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(n.id,e)}}}}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()){if(t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={},t.renderCachePool=t.renderCachePool.concat(e)}return}this._clearRasterFadeFromRenderCache();const i=this.proxyCoords,n=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const a=i[r];if(t.getTileByID(a.key),void 0!==t.proxyCachedFBO[a.key]){const i=e[a.key],r=this.proxyToSource[a.key];let s=0;for(const e in r){const t=r[e],a=i[e];if(!a||a.length!==t.length||t.some((t,i)=>t!==a[i]||n[e]&&n[e].hasOwnProperty(t.key))){s=-1;break}++s}t.renderCache[t.proxyCachedFBO[a.key]].dirty=s<0||s!==Object.values(i).length}else{let e=t.renderCachePool.pop();void 0===e&&t.renderCache.length<50&&(e=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==e&&(t.proxyCachedFBO[a.key]=e,t.renderCache[e].dirty=!0)}}this._tilesDirty={}}_setupStencil(t,i,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,a=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);const s=this.currentFBO,o=s.fb;let l;if(i.isTileClipped())l=t.length,this._overlapStencilMode.test={func:a.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);l=1,this._overlapStencilMode.test={func:a.GREATER,mask:255},this._overlapStencilType="Mask"}if(!o.depthAttachment){const t=r.createRenderbuffer(r.gl.DEPTH_STENCIL,o.width,o.height);o.depthAttachment=new e.DepthStencilAttachment(r,o.framebuffer),o.depthAttachment.set(t),r.clear({stencil:0})}s.ref+l>255&&(r.clear({stencil:0}),s.ref=0),s.ref+=l,this._overlapStencilMode.ref=s.ref,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,i){const n=this.painter,r=this.painter.context,a=r.gl;n._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=n.useProgram("clippingMask");for(const o of t){const t=n._tileClippingMaskIDs[o.key]=--i;s.draw(r,a.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:a.ALWAYS,mask:0},t,255,a.KEEP,a.KEEP,a.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,jt(o.posMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const n=[t.x,t.y,1,1];e.transformMat4(n,n,i.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),n[0]/=i.worldSize,n[1]/=i.worldSize;const r=i._camera.position,a=e.mercatorZfromAltitude(1,i.center.lat),s=[r[0],r[1],r[2]/a,0],o=e.subtract([],n.slice(0,3),s);e.normalize(o,o);const l=this.raycast(s,o,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(s,s,o,l),s[3]=s[2],s[2]*=a,s):null}drawDepth(){const t=this.painter,i=t.context,n=this.proxySourceCache,r=Math.ceil(t.width),a=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===a||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const t=i.gl,n=i.createFramebuffer(r,a,!0);i.activeTexture.set(t.TEXTURE0);const s=new e.Texture(i,{width:r,height:a,data:null},t.RGBA);s.bind(t.NEAREST,t.CLAMP_TO_EDGE),n.colorAttachment.set(s.texture);const o=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,a);n.depthAttachment.set(o),this._depthFBO=n,this._depthTexture=s}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,a]),function(t,i,n,r){const a=t.context,s=a.gl;a.clear({depth:1});const o=t.useProgram("terrainDepth"),l=new e.DepthMode(s.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const c of r){const t=n.getTile(c),r=zt(c.posMatrix,0);i.setupElevationDraw(t,o),o.draw(a,s.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,r,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}(t,this,n,this.proxyCoords),i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),this._depthDone=!0}_isLayerDrapedOverTerrain(e){return!!this.enabled&&Nt.hasOwnProperty(e.type)}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof Y)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const n=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let s=0;s<r.length;s++){const t=r[s],a=this._findTileCoveringTileID(t,e);if(a){const r=this._createProxiedId(t,a,i[t.key]&&i[t.key][e.id]);n.push(r),this.proxyToSource[t.key][e.id]=[r]}}let a=!1;for(let s=0;s<t.length;s++){const r=e.getTile(t[s]);if(!r||!r.hasData())continue;const o=this._findTileCoveringTileID(r.tileID,this.proxySourceCache);if(o&&o.tileID.canonical.z!==r.tileID.canonical.z){const t=this.proxyToSource[o.tileID.key][e.id],s=this._createProxiedId(o.tileID,r,i[o.tileID.key]&&i[o.tileID.key][e.id]);t?t.splice(t.length-1,0,s):this.proxyToSource[o.tileID.key][e.id]=[s],n.push(s),a=!0}}this._sourceTilesOverlap[e.id]=a}_setupProxiedCoordsForImageSource(t,i,n){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],a=this.proxyCoords,s=t.getSource(),o=new e.Point(s.tileID.x,s.tileID.y)._div(1<<s.tileID.z),l=s.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-o.x),e.min.y=Math.min(e.min.y,t.y-o.y),e.max.x=Math.max(e.max.x,t.x-o.x),e.max.y=Math.max(e.max.y,t.y-o.y),e),{min:new e.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,i)=>{const n=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),a=e.EXTENT/(1<<t.canonical.z),s=i.wrap+i.canonical.x/(1<<i.canonical.z),o=i.canonical.y/(1<<i.canonical.z);return n+a<s+l.min.x||n>s+l.max.x||r+a<o+l.min.y||r>o+l.max.y};for(let e=0;e<a.length;e++){const s=a[e];for(let e=0;e<i.length;e++){const a=t.getTile(i[e]);if(!a||!a.hasData())continue;if(c(s,a.tileID))continue;const o=this._createProxiedId(s,a,n[s.key]&&n[s.key][t.id]),l=this.proxyToSource[s.key][t.id];l?l.push(o):this.proxyToSource[s.key][t.id]=[o],r.push(o)}}}_createProxiedId(t,i,n){let r=this.orthoMatrix;if(n){const e=n.find(e=>e.key===i.tileID.key);if(e)return e}if(i.tileID.key!==t.key){const n=t.canonical.z-i.tileID.canonical.z;let a,s,o;r=e.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;n>0?(a=e.EXTENT>>n,s=a*((i.tileID.canonical.x<<n)-t.canonical.x+l),o=a*((i.tileID.canonical.y<<n)-t.canonical.y)):(a=e.EXTENT<<-n,s=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+l<<-n)),o=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-n))),e.ortho(r,0,a,0,a,0,1),e.translate(r,r,[s,o,0])}return new Vt(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let n=i.getTile(t);if(n&&n.hasData())return n;const r=this._findCoveringTileCache[i.id],a=r[t.key];if(n=a?i.getTileByID(a):null,n&&n.hasData()||null===a)return n;let s=n?n.tileID:t,o=s.overscaledZ;const l=i.getSource().minzoom,c=[];if(!a){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const n=t.canonical.z-r;i.getSource().reparseOverscaled?(o=Math.max(t.canonical.z+2,i.transform.tileZoom),s=new e.OverscaledTileID(o,t.wrap,r,t.canonical.x>>n,t.canonical.y>>n)):0!==n&&(o=r,s=new e.OverscaledTileID(o,t.wrap,r,t.canonical.x>>n,t.canonical.y>>n))}s.key!==t.key&&(c.push(s.key),n=i.getTile(s))}const u=e=>{c.forEach(t=>{r[t]=e}),c.length=0};for(o-=1;o>=l&&(!n||!n.hasData());o--){n&&u(n.tileID.key);const e=s.calculateScaledKey(o);if(n=i.getTileByID(e),n&&n.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):n=i.getTileByID(t)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(e){this.renderedToTile||(this.renderedToTile=!0)}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0}}function $t(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const n=e[i].split(" ");t.push(n.pop())}return t}class Gt{static cacheKey(e,t,i){let n=`${e}${i?i.cacheKey:""}`;for(const r of t)n+="/"+r;return n}constructor(t,i,n,r,a,s){const o=t.gl;this.program=o.createProgram();const l=$t(n.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c),d=n.staticUniforms?$t(n.staticUniforms):[],h=r?r.getBinderUniforms():[],p=d.concat(h),m=[];for(const e of p)m.indexOf(e)<0&&m.push(e);let f=r?r.defines():[];f=f.concat(s.map(e=>"#define "+e));const _=f.concat(Xe.fragmentSource,n.fragmentSource).join("\n"),y=f.concat(Xe.vertexSource,Ze.vertexSource,n.vertexSource).join("\n"),g=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())return void(this.failedToCreate=!0);o.shaderSource(g,_),o.compileShader(g),o.attachShader(this.program,g);const v=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())return void(this.failedToCreate=!0);o.shaderSource(v,y),o.compileShader(v),o.attachShader(this.program,v),this.attributes={};const x={};this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(o.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);o.linkProgram(this.program),o.deleteShader(v),o.deleteShader(g);for(let e=0;e<m.length;e++){const t=m[e];if(t&&!x[t]){const e=o.getUniformLocation(this.program,t);e&&(x[t]=e)}}this.fixedUniforms=a(t,x),this.binderUniforms=r?r.getUniforms(t,x):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=((t,i)=>({u_dem:new e.Uniform1i(t,i.u_dem),u_dem_prev:new e.Uniform1i(t,i.u_dem_prev),u_dem_unpack:new e.Uniform4f(t,i.u_dem_unpack),u_dem_tl:new e.Uniform2f(t,i.u_dem_tl),u_dem_scale:new e.Uniform1f(t,i.u_dem_scale),u_dem_tl_prev:new e.Uniform2f(t,i.u_dem_tl_prev),u_dem_scale_prev:new e.Uniform1f(t,i.u_dem_scale_prev),u_dem_size:new e.Uniform1f(t,i.u_dem_size),u_dem_lerp:new e.Uniform1f(t,i.u_dem_lerp),u_exaggeration:new e.Uniform1f(t,i.u_exaggeration),u_depth:new e.Uniform1i(t,i.u_depth),u_depth_size_inv:new e.Uniform2f(t,i.u_depth_size_inv),u_meter_to_dem:new e.Uniform1f(t,i.u_meter_to_dem),u_label_plane_matrix_inv:new e.UniformMatrix4f(t,i.u_label_plane_matrix_inv)}))(t,x))}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(t[e])}}draw(e,t,i,n,r,a,s,o,l,c,u,d,h,p,m,f){const _=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(n),e.setColorMode(r),e.setCullFace(a);for(const g in this.fixedUniforms)this.fixedUniforms[g].set(s[g]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:h});const y={[_.LINES]:2,[_.TRIANGLES]:3,[_.LINE_STRIP]:1}[t];for(const g of u.get()){const i=g.vaos||(g.vaos={});(i[o]||(i[o]=new Et)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,g.vertexOffset,m,f),_.drawElements(t,g.primitiveLength*y,_.UNSIGNED_SHORT,g.primitiveOffset*y*2)}}}function qt(e,t,i){const n=1/L(i,1,t.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,t.transform.tileZoom)/r,s=a*(i.tileID.canonical.x+i.tileID.wrap*r),o=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,o>>16],u_pixel_coord_lower:[65535&s,65535&o]}}const Zt=(t,i,n,r)=>{const a=i.style.light,s=a.properties.get("position"),o=[s.x,s.y,s.z],l=e.create$1();"viewport"===a.properties.get("anchor")&&(e.fromRotation(l,-i.transform.angle),e.transformMat3(o,o,l));const c=a.properties.get("color");return{u_matrix:t,u_lightpos:o,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:r}},Xt=(t,i,n,r,a,s,o)=>e.extend(Zt(t,i,n,r),qt(s,i,o),{u_height_factor:-Math.pow(2,a.overscaledZ)/o.tileSize/8}),Jt=e=>({u_matrix:e}),Kt=(t,i,n,r)=>e.extend(Jt(t),qt(n,i,r)),Qt=(e,t)=>({u_matrix:e,u_world:t}),ei=(t,i,n,r,a)=>e.extend(Kt(t,i,n,r),{u_world:a}),ti=(t,i,n,r)=>{const a=t.transform;let s;if("map"===r.paint.get("circle-pitch-alignment")){const e=L(n,1,a.zoom);s=[e,e]}else s=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:s}},ii=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},ni=(t,i,n)=>{const r=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:i.cameraToCenterDistance,u_extrude_scale:[i.pixelsToGLUnits[0]/r,i.pixelsToGLUnits[1]/r]}},ri=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),ai=(e,t,i,n)=>({u_matrix:e,u_extrude_scale:L(t,1,i),u_intensity:n}),si=(t,i,n,r)=>{const a=t.transform;return{u_matrix:di(t,i,n,r),u_ratio:1/L(i,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},oi=(t,i,n,r,a)=>e.extend(si(t,i,n,r),{u_image:0,u_image_height:a}),li=(t,i,n,r,a)=>{const s=t.transform,o=ui(i,s);return{u_matrix:di(t,i,n,a),u_texsize:i.imageAtlasTexture.size,u_ratio:1/L(i,1,s.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]]}},ci=(t,i,n,r,a,s)=>{const o=t.lineAtlas,l=ui(i,t.transform),c="round"===n.layout.get("line-cap"),u=o.getDash(r.from,c),d=o.getDash(r.to,c),h=u.width*a.fromScale,p=d.width*a.toScale;return e.extend(si(t,i,n,s),{u_patternscale_a:[l/h,-u.height/2],u_patternscale_b:[l/p,-d.height/2],u_sdfgamma:o.width/(256*Math.min(h,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:d.y,u_mix:a.t})};function ui(e,t){return 1/L(e,1,t.tileZoom)}function di(e,t,i,n){return e.translatePosMatrix(n||t.tileID.posMatrix,t,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const hi=(e,t,i,n,r)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:pi(r.paint.get("raster-hue-rotate"))};var a,s};function pi(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return[(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const mi=(e,t,i,n,r,a,s,o,l,c)=>{const u=r.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:o,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},fi=(t,i,n,r,a,s,o,l,c,u,d)=>{const h=a.transform;return e.extend(mi(t,i,n,r,a,s,o,l,c,u),{u_gamma_scale:r?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+d})},_i=(t,i,n,r,a,s,o,l,c,u)=>e.extend(fi(t,i,n,r,a,s,o,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),yi=(e,t,i)=>({u_matrix:e,u_opacity:t,u_color:i}),gi=(t,i,n,r,a,s)=>e.extend(function(e,t,i,n){const r=i.imageManager.getPattern(e.from.toString()),a=i.imageManager.getPattern(e.to.toString()),{width:s,height:o}=i.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,i.transform.tileZoom)/l,u=c*(n.tileID.canonical.x+n.tileID.wrap*l),d=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,o],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/L(n,1,i.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(r,s,n,a),{u_matrix:t,u_opacity:i}),vi={fillExtrusion:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_opacity:new e.Uniform1f(t,i.u_opacity)}),fillExtrusionPattern:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,i.u_height_factor),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade),u_opacity:new e.Uniform1f(t,i.u_opacity)}),fill:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}),fillPattern:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}),fillOutline:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world)}),fillOutlinePattern:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}),circle:(t,i)=>({u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,i.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}),collisionBox:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,i.u_extrude_scale)}),collisionCircle:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,i.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,i.u_viewport_size)}),debug:(t,i)=>({u_color:new e.UniformColor(t,i.u_color),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_overlay:new e.Uniform1i(t,i.u_overlay),u_overlay_scale:new e.Uniform1f(t,i.u_overlay_scale)}),clippingMask:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}),heatmap:(t,i)=>({u_extrude_scale:new e.Uniform1f(t,i.u_extrude_scale),u_intensity:new e.Uniform1f(t,i.u_intensity),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}),heatmapTexture:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world),u_image:new e.Uniform1i(t,i.u_image),u_color_ramp:new e.Uniform1i(t,i.u_color_ramp),u_opacity:new e.Uniform1f(t,i.u_opacity)}),hillshade:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_latrange:new e.Uniform2f(t,i.u_latrange),u_light:new e.Uniform2f(t,i.u_light),u_shadow:new e.UniformColor(t,i.u_shadow),u_highlight:new e.UniformColor(t,i.u_highlight),u_accent:new e.UniformColor(t,i.u_accent)}),hillshadePrepare:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_dimension:new e.Uniform2f(t,i.u_dimension),u_zoom:new e.Uniform1f(t,i.u_zoom),u_unpack:new e.Uniform4f(t,i.u_unpack)}),line:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels)}),lineGradient:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_image:new e.Uniform1i(t,i.u_image),u_image_height:new e.Uniform1f(t,i.u_image_height)}),linePattern:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_texsize:new e.Uniform2f(t,i.u_texsize),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_image:new e.Uniform1i(t,i.u_image),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}),lineSDF:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,i.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,i.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,i.u_sdfgamma),u_image:new e.Uniform1i(t,i.u_image),u_tex_y_a:new e.Uniform1f(t,i.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,i.u_tex_y_b),u_mix:new e.Uniform1f(t,i.u_mix)}),raster:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_tl_parent:new e.Uniform2f(t,i.u_tl_parent),u_scale_parent:new e.Uniform1f(t,i.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,i.u_buffer_scale),u_fade_t:new e.Uniform1f(t,i.u_fade_t),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image0:new e.Uniform1i(t,i.u_image0),u_image1:new e.Uniform1i(t,i.u_image1),u_brightness_low:new e.Uniform1f(t,i.u_brightness_low),u_brightness_high:new e.Uniform1f(t,i.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,i.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,i.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,i.u_spin_weights)}),symbolIcon:(t,i)=>({u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texture:new e.Uniform1i(t,i.u_texture)}),symbolSDF:(t,i)=>({u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texture:new e.Uniform1i(t,i.u_texture),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}),symbolTextAndIcon:(t,i)=>({u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texsize_icon:new e.Uniform2f(t,i.u_texsize_icon),u_texture:new e.Uniform1i(t,i.u_texture),u_texture_icon:new e.Uniform1i(t,i.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}),background:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_color:new e.UniformColor(t,i.u_color)}),backgroundPattern:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image:new e.Uniform1i(t,i.u_image),u_pattern_tl_a:new e.Uniform2f(t,i.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,i.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,i.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,i.u_pattern_br_b),u_texsize:new e.Uniform2f(t,i.u_texsize),u_mix:new e.Uniform1f(t,i.u_mix),u_pattern_size_a:new e.Uniform2f(t,i.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,i.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,i.u_scale_a),u_scale_b:new e.Uniform1f(t,i.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,i.u_tile_units_to_pixels)}),terrainRaster:It,terrainDepth:It,skybox:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_sun_direction:new e.Uniform3f(t,i.u_sun_direction),u_cubemap:new e.Uniform1i(t,i.u_cubemap),u_opacity:new e.Uniform1f(t,i.u_opacity),u_temporal_offset:new e.Uniform1f(t,i.u_temporal_offset)}),skyboxGradient:(t,i)=>({u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_color_ramp:new e.Uniform1i(t,i.u_color_ramp),u_center_direction:new e.Uniform3f(t,i.u_center_direction),u_radius:new e.Uniform1f(t,i.u_radius),u_opacity:new e.Uniform1f(t,i.u_opacity),u_temporal_offset:new e.Uniform1f(t,i.u_temporal_offset)}),skyboxCapture:(t,i)=>({u_matrix_3f:new e.UniformMatrix3f(t,i.u_matrix_3f),u_sun_direction:new e.Uniform3f(t,i.u_sun_direction),u_sun_intensity:new e.Uniform1f(t,i.u_sun_intensity),u_color_tint_r:new e.Uniform4f(t,i.u_color_tint_r),u_color_tint_m:new e.Uniform4f(t,i.u_color_tint_m),u_luminance:new e.Uniform1f(t,i.u_luminance)})};let xi;function bi(t,i,n,r,a,s,o){const l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[];let h=0,p=0;for(let x=0;x<r.length;x++){const m=r[x],f=i.getTile(m),_=f.getBucket(n);if(!_)continue;let y=m.posMatrix;0===a[0]&&0===a[1]||(y=t.translatePosMatrix(m.posMatrix,f,a,s));const g=o?_.textCollisionBox:_.iconCollisionBox,v=_.collisionCircleArray;if(v.length>0){const i=e.create(),n=y;e.mul(i,_.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(i,i,_.placementViewportMatrix),d.push({circleArray:v,circleOffset:p,transform:n,invTransform:i}),h+=v.length/4,p=h}g&&(t.terrain&&t.terrain.setupElevationDraw(f,u),u.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,ni(y,t.transform,f),n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,t.transform.zoom,null,g.collisionVertexBuffer,g.collisionVertexBufferExt))}if(!o||!d.length)return;const m=t.useProgram("collisionCircle"),f=new e.StructArrayLayout2f1f2i16;f.resize(4*h),f._trim();let _=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,n=e.circleArray[i+0],r=e.circleArray[i+1],a=e.circleArray[i+2],s=e.circleArray[i+3];f.emplace(_++,n,r,a,s,0),f.emplace(_++,n,r,a,s,1),f.emplace(_++,n,r,a,s,2),f.emplace(_++,n,r,a,s,3)}(!xi||xi.length<2*h)&&(xi=function(t){const i=2*t,n=new e.StructArrayLayout3ui6;n.resize(i),n._trim();for(let e=0;e<i;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(h));const y=l.createIndexBuffer(xi,!0),g=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const x of d){const i={u_matrix:x.transform,u_inv_matrix:x.invTransform,u_camera_to_center_distance:(v=t.transform).cameraToCenterDistance,u_viewport_size:[v.width,v.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,i,n.id,g,y,e.SegmentVector.simpleSegment(0,2*x.circleOffset,x.circleArray.length,x.circleArray.length/2),null,t.transform.zoom,null,null,null)}var v;g.destroy(),y.destroy()}const wi=e.identity(new Float32Array(16));function Mi(t,i,n,r,a,s){const{horizontalAlign:o,verticalAlign:l}=e.getAnchorAlignment(t),c=-(o-.5)*i,u=-(l-.5)*n,d=e.evaluateVariableOffset(t,r);return new e.Point((c/a+d[0])*s,(u/a+d[1])*s)}function Ti(t,i,n,r,a,s,o,l,c,u,d,h){const p=t.text.placedSymbolArray,m=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,_={};m.clear();for(let y=0;y<p.length;y++){const f=p.get(y),g=t.allowVerticalPlacement&&!f.placedOrientation,v=f.hidden||!f.crossTileID||g?null:r[f.crossTileID];if(v){const r=new e.Point(f.anchorX,f.anchorY),p=h(r),y=re(r,n?l:o,p),g=ae(s.cameraToCenterDistance,y.signedDistanceFromCamera);let x=a.evaluateSizeForFeature(t.textSizeData,u,f)*g/e.ONE_EM;n&&(x*=t.tilePixelRatio/c);const{width:b,height:w,anchor:M,textOffset:T,textBoxScale:L}=v,k=Mi(M,b,w,T,L,x),S=n?re(r.add(k),o,p).point:y.point.add(i?k.rotate(-s.angle):k),D=t.allowVerticalPlacement&&f.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<f.numGlyphs;t++)e.addDynamicAttributes(m,S,D);d&&f.associatedIconIndex>=0&&(_[f.associatedIconIndex]={shiftedAnchor:S,angle:D})}else me(f.numGlyphs,m)}if(d){f.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const n=i.get(t);if(n.hidden)me(n.numGlyphs,f);else{const i=_[t];if(i)for(let t=0;t<n.numGlyphs;t++)e.addDynamicAttributes(f,i.shiftedAnchor,i.angle);else me(n.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(m)}function Li(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function ki(t,i,n,r,a,s,o,l,c,u,d,h){const p=t.context,m=p.gl,f=t.transform,_="map"===l,y="map"===c,g=_&&"point"!==n.layout.get("symbol-placement"),v=_&&!y&&!g,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),M=n.layout.get("text-variable-anchor"),T=[],k=t.terrain&&y?["PITCH_WITH_MAP_TERRAIN"]:null;for(const S of r){const r=i.getTile(S),l=r.getBucket(n);if(!l)continue;const c=a?l.text:l.icon;if(!c||!c.segments.get().length)continue;const d=c.programConfigurations.get(n.id),h=a||l.sdfIcons,p=a?l.textSizeData:l.iconSizeData,w=y||0!==f.pitch,D=t.useProgram(Li(h,a,l),d,k),E=e.evaluateSizeForZoom(p,f.zoom);let C,P,Y,A,I=[0,0],z=null;if(a){if(P=r.glyphAtlasTexture,Y=m.LINEAR,C=r.glyphAtlasTexture.size,l.iconsInText){I=r.imageAtlasTexture.size,z=r.imageAtlasTexture;const e="composite"===p.kind||"camera"===p.kind;A=w||t.options.rotating||t.options.zooming||e?m.LINEAR:m.NEAREST}}else{const e=1!==n.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;P=r.imageAtlasTexture,Y=h||t.options.rotating||t.options.zooming||e||w?m.LINEAR:m.NEAREST,C=r.imageAtlasTexture.size}const O=L(r,1,t.transform.zoom),R=ie(S.posMatrix,y,_,t.transform,O),F=t.terrain&&y&&g?e.invert(new Float32Array(16),R):wi,B=ne(S.posMatrix,y,_,t.transform,O),j=M&&l.hasTextData(),H="none"!==n.layout.get("icon-text-fit")&&j&&l.hasIconData();if(g){const e=f.elevation;oe(l,S.posMatrix,t,a,R,B,y,u,e?t=>e.getAtTileOffset(S,t.x,t.y):null)}const N=t.translatePosMatrix(S.posMatrix,r,s,o),U=g||a&&M||H?wi:R,V=t.translatePosMatrix(B,r,s,o,!0),W=h&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1);let $;$=h?l.iconsInText?_i(p.kind,E,v,y,t,N,U,V,C,I):fi(p.kind,E,v,y,t,N,U,V,a,C,!0):mi(p.kind,E,v,y,t,N,U,V,a,C);const G={program:D,buffers:c,uniformValues:$,atlasTexture:P,atlasTextureIcon:z,atlasInterpolation:Y,atlasInterpolationIcon:A,isSDF:h,hasHalo:W,tile:r,labelPlaneMatrixInv:F};if(x&&l.canOverlap){b=!0;const t=c.segments.get();for(const i of t)T.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:G})}else T.push({segments:c.segments,sortKey:0,state:G})}b&&T.sort((e,t)=>e.sortKey-t.sortKey);for(const e of T){const i=e.state;if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),p.activeTexture.set(m.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,m.CLAMP_TO_EDGE),i.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,Si(i.buffers,e.segments,n,t,i.program,w,d,h,r)),r.u_is_halo=0}Si(i.buffers,e.segments,n,t,i.program,w,d,h,i.uniformValues)}}function Si(t,i,n,r,a,s,o,l,c){const u=r.context;a.draw(u,u.gl.TRIANGLES,s,o,l,e.CullFaceMode.disabled,c,n.id,t.layoutVertexBuffer,t.indexBuffer,i,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Di(t,i,n,r,a,s,o){const l=t.context.gl,c=n.paint.get("fill-pattern"),u=c&&c.constantOr(1),d=n.getCrossfadeParameters();let h,p,m,f,_;o?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=l.LINES):(p=u?"fillPattern":"fill",h=l.TRIANGLES);for(const y of r){const r=i.getTile(y);if(u&&!r.patternsLoaded())continue;const g=r.getBucket(n);if(!g)continue;t.prepareDrawTile(y);const v=g.programConfigurations.get(n.id),x=t.useProgram(p,v);u&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(d));const b=c.constantOr(null);if(b&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[b.to.toString()],i=e.patternPositions[b.from.toString()];t&&i&&v.setConstantPatternPositions(t,i)}const w=t.translatePosMatrix(y.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){f=g.indexBuffer2,_=g.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];m="fillOutlinePattern"===p&&u?ei(w,t,d,r,e):Qt(w,e)}else f=g.indexBuffer,_=g.segments,m=u?Kt(w,t,d,r):Jt(w);x.draw(t.context,h,a,t.stencilModeForClipping(y),s,e.CullFaceMode.disabled,m,n.id,g.layoutVertexBuffer,f,_,n.paint,t.transform.zoom,v)}}function Ei(t,i,n,r,a,s,o){const l=t.context,c=l.gl,u=n.paint.get("fill-extrusion-pattern"),d=u.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity");for(const m of r){const r=i.getTile(m),f=r.getBucket(n);if(!f)continue;const _=f.programConfigurations.get(n.id),y=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",_);if(t.terrain){const e=t.terrain;if(!f.enableTerrain)continue;if(e.setupElevationDraw(r,y,{useMeterToDem:!0}),Ci(l,i,m,f,n,e),!f.centroidVertexBuffer){const e=y.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),_.updatePaintBuffers(h));const g=u.constantOr(null);if(g&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[g.to.toString()],i=e.patternPositions[g.from.toString()];t&&i&&_.setConstantPatternPositions(t,i)}const v=t.translatePosMatrix(m.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),x=n.paint.get("fill-extrusion-vertical-gradient"),b=d?Xt(v,t,x,p,m,h,r):Zt(v,t,x,p);y.draw(l,l.gl.TRIANGLES,a,s,o,e.CullFaceMode.backCCW,b,n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,t.transform.zoom,_,t.terrain?f.centroidVertexBuffer:null)}}function Ci(t,i,n,r,a,s){const o=[t=>{let i=t.canonical.x-1,n=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,i,t.canonical.y)},t=>{let i=t.canonical.x+1,n=t.wrap;return i===1<<t.canonical.z&&(i=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,i,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=i.getSource().maxzoom;for(const n of[0,-1,1]){if(e.overscaledZ+n<t)continue;if(n>0&&e.overscaledZ<t)continue;const r=i.getTileByID(e.calculateScaledKey(e.overscaledZ+n));if(r&&r.hasData()){const e=r.getBucket(a);if(e)return e}}},c=[0,0,0],u=(t,i)=>(c[0]=Math.min(t.min.y,i.min.y),c[1]=Math.max(t.max.y,i.max.y),c[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,c),d=(t,i)=>(c[0]=Math.min(t.min.x,i.min.x),c[1]=Math.max(t.max.x,i.max.x),c[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,c),h=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>d(e,t),(e,t)=>d(t,e)],p=new e.Point(0,0);let m,f,_;const y=(t,i,r,a,o)=>{const l=[[a?r:t,a?t:r,0],[a?r:i,a?i:r,0]],c=o<0?e.EXTENT+o:o,u=[a?c:(t+i)/2,a?(t+i)/2:c,0];return 0===r&&o<0||0!==r&&o>0?s.getForTilePoints(_,[u],!0,f):l.push(u),s.getForTilePoints(n,l,!0,m),Math.max(l[0][2],l[1][2],u[2])/s.exaggeration()};for(let g=0;g<4;g++){const t=r.borders[g];if(0===t.length&&(r.borderDone[g]=!0),r.borderDone[g])continue;const i=_=o[g](n),a=l(i);if(!a||!a.enableTerrain)continue;if(f=s.findDEMTileFor(i),!f||!f.dem)continue;if(!m){const e=s.findDEMTileFor(n);if(!e||!e.dem)return;m=e}const c=(g<2?1:5)-g,u=a.borders[c];let d=0;for(let n=0;n<t.length;n++){const i=r.featuresOnBorder[t[n]],s=i.borders[g];let o;for(;d<u.length&&(o=a.featuresOnBorder[u[d]],!(o.borders[c][1]>s[0]+3));)a.borderDone[c]||a.encodeCentroid(void 0,o,!1),d++;if(o&&d<u.length){const t=d;let n=0;for(;!(o.borders[c][0]>s[1]-3)&&(n++,++d!==u.length);)o=a.featuresOnBorder[u[d]];if(o=a.featuresOnBorder[u[t]],i.intersectsCount()>1||o.intersectsCount()>1||1!==n){1!==n&&(d=t),r.encodeCentroid(void 0,i,!1),a.borderDone[c]||a.encodeCentroid(void 0,o,!1);continue}const l=h[g](i,o),m=g%2?e.EXTENT-1:0;p.x=y(l[0],Math.min(e.EXTENT-1,l[1]),m,g<2,l[2]),p.y=0,r.encodeCentroid(p,i,!1),a.borderDone[c]||a.encodeCentroid(p,o,!1)}else r.encodeCentroid(void 0,i,!1)}r.borderDone[g]=r.needsCentroidUpdate=!0,a.borderDone[c]||(a.borderDone[c]=a.needsCentroidUpdate=!0)}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const Pi=new e.Color(1,0,0,1),Yi=new e.Color(0,1,0,1),Ai=new e.Color(0,0,1,1),Ii=new e.Color(1,0,1,1),zi=new e.Color(0,1,1,1);function Oi(e,t,i,n){Fi(e,0,t+i/2,e.transform.width,i,n)}function Ri(e,t,i,n){Fi(e,t-i/2,0,i,e.transform.height,n)}function Fi(t,i,n,r,a,s){const o=t.context,l=o.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.browser.devicePixelRatio,n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),o.clear({color:s}),l.disable(l.SCISSOR_TEST)}function Bi(t,i,n){const r=t.context,a=r.gl,s=n.posMatrix,o=t.useProgram("debug"),l=i.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(l,o);const c=e.DepthMode.disabled,u=e.StencilMode.disabled,d=t.colorModeForRenderPass();r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),o.draw(r,a.LINE_STRIP,c,u,d,e.CullFaceMode.disabled,ri(s,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);const h=l.latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),m=i.getTile(n).tileSize,f=512/Math.min(m,512)*(n.overscaledZ/t.transform.zoom)*.5;let _=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(_+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,n=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,`${_} ${p}kb`),o.draw(r,a.TRIANGLES,c,u,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,ri(s,e.Color.transparent,f),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}const ji=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Hi}=ji;function Ni(e,t,i,n){e.emplaceBack(t,i,n)}class Ui{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ni(this.vertexArray,-1,-1,1),Ni(this.vertexArray,1,-1,1),Ni(this.vertexArray,-1,1,1),Ni(this.vertexArray,1,1,1),Ni(this.vertexArray,-1,-1,-1),Ni(this.vertexArray,1,-1,-1),Ni(this.vertexArray,-1,1,-1),Ni(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Hi),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Vi(t,i,n,r,a,s){const o=t.gl,l=i.paint.get("sky-atmosphere-color"),c=i.paint.get("sky-atmosphere-halo-color"),u=i.paint.get("sky-atmosphere-sun-intensity"),d=((e,t,i,n,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4([],r),a,u,l,c);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+s,i.skyboxTexture,0),n.draw(t,o.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,d,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const Wi={symbol:function(t,i,n,r,a){if("translucent"!==t.renderPass)return;const s=e.StencilMode.disabled,o=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,i,n,r,a,s,o){const l=i.transform,c="map"===a,u="map"===s;for(const d of t){const t=r.getTile(d),a=t.getBucket(n);if(!a||!a.text||!a.text.segments.get().length)continue;const s=e.evaluateSizeForZoom(a.textSizeData,l.zoom),h=L(t,1,i.transform.zoom),p=ie(d.posMatrix,u,c,i.transform,h),m="none"!==n.layout.get("icon-text-fit")&&a.hasIconData();if(s){const i=Math.pow(2,l.zoom-t.tileID.overscaledZ),n=l.elevation;Ti(a,c,u,o,e.symbolSize,l,p,d.posMatrix,i,s,m,n?e=>n.getAtTileOffset(d,e.x,e.y):e=>0)}}}(r,t,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&ki(t,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),s,o),0!==n.paint.get("text-opacity").constantOr(1)&&ki(t,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),s,o),i.map.showCollisionBoxes&&(bi(t,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),bi(t,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(t,i,n,r){if("translucent"!==t.renderPass)return;const a=n.paint.get("circle-opacity"),s=n.paint.get("circle-stroke-width"),o=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===a.constantOr(1)&&(0===s.constantOr(1)||0===o.constantOr(1)))return;const c=t.context,u=c.gl,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),h=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m=[];for(let f=0;f<r.length;f++){const a=r[f],s=i.getTile(a),o=s.getBucket(n);if(!o)continue;const c=o.programConfigurations.get(n.id),u=ii(n),d={programConfiguration:c,program:t.useProgram("circle",c,u),layoutVertexBuffer:o.layoutVertexBuffer,indexBuffer:o.indexBuffer,uniformValues:ti(t,a,s,n),tile:s};if(l){const t=o.segments.get();for(const i of t)m.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:d})}else m.push({segments:o.segments,sortKey:0,state:d})}l&&m.sort((e,t)=>e.sortKey-t.sortKey);for(const f of m){const{programConfiguration:i,program:r,layoutVertexBuffer:a,indexBuffer:s,uniformValues:o,tile:l}=f.state,m=f.segments;t.terrain&&t.terrain.setupElevationDraw(l,r,{useDepthForOcclusion:!0}),r.draw(c,u.TRIANGLES,d,h,p,e.CullFaceMode.disabled,o,n.id,a,s,m,n.paint,t.transform.zoom,i)}},heatmap:function(t,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const a=t.context,s=a.gl,o=e.StencilMode.disabled,l=new e.ColorMode([s.ONE,s.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i){const n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{const a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,i,n){const r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.width/4,t.height/4,0,r.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i)}(e,t,a,r)}}(a,t,n),a.clear({color:e.Color.transparent});for(let c=0;c<r.length;c++){const u=r[c];if(i.hasRenderableParent(u))continue;const d=i.getTile(u),h=d.getBucket(n);if(!h)continue;const p=h.programConfigurations.get(n.id),m=t.useProgram("heatmap",p),{zoom:f}=t.transform;t.terrain&&t.terrain.setupElevationDraw(d,m),m.draw(a,s.TRIANGLES,e.DepthMode.disabled,o,l,e.CullFaceMode.disabled,ai(u.posMatrix,d,f,n.paint.get("heatmap-intensity")),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,t.transform.zoom,p)}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const n=t.context,r=n.gl,a=i.heatmapFbo;if(!a)return;n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);let s=i.colorRampTexture;s||(s=i.colorRampTexture=new e.Texture(n,i.colorRamp,r.RGBA)),s.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((t,i,n,r)=>{const a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);const s=t.context.gl;return{u_matrix:a,u_world:[s.drawingBufferWidth,s.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:i.paint.get("heatmap-opacity")}})(t,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom)}(t,n))},line:function(t,i,n,r){if("translucent"!==t.renderPass)return;const a=n.paint.get("line-opacity"),s=n.paint.get("line-width");if(0===a.constantOr(1)||0===s.constantOr(1))return;const o=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),d=u.constantOr(1),h=n.paint.get("line-gradient"),p=n.getCrossfadeParameters(),m=d?"linePattern":c?"lineSDF":h?"lineGradient":"line",f=t.context,_=f.gl;let y=!0;for(const g of r){const r=i.getTile(g);if(d&&!r.patternsLoaded())continue;const a=r.getBucket(n);if(!a)continue;t.prepareDrawTile(g);const s=a.programConfigurations.get(n.id),v=t.context.program.get(),x=t.useProgram(m,s),b=y||x.program!==v,w=u.constantOr(null);if(w&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[w.to.toString()],i=e.patternPositions[w.from.toString()];t&&i&&s.setConstantPatternPositions(t,i)}const M=t.terrain?g.posMatrix:null,T=d?li(t,r,n,p,M):c?ci(t,r,n,c,p,M):h?oi(t,r,n,M,a.lineClipsArray.length):si(t,r,n,M);if(d)f.activeTexture.set(_.TEXTURE0),r.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),s.updatePaintBuffers(p);else if(c&&(b||t.lineAtlas.dirty))f.activeTexture.set(_.TEXTURE0),t.lineAtlas.bind(f);else if(h){const r=a.gradients[n.id];let s=r.texture;if(n.gradientVersion!==r.version){let o=256;if(n.stepInterpolant){const n=i.getSource().maxzoom,r=g.canonical.z===n?Math.ceil(1<<t.transform.maxZoom-g.canonical.z):1;o=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*r),256,f.maxTextureSize)}r.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:o,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(f,r.gradient,_.RGBA),r.version=n.gradientVersion,s=r.texture}f.activeTexture.set(_.TEXTURE0),s.bind(n.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}x.draw(f,_.TRIANGLES,o,t.stencilModeForClipping(g),l,e.CullFaceMode.disabled,T,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,n.paint,t.transform.zoom,s,a.layoutVertexBuffer2),y=!1}},fill:function(t,i,n,r){const a=n.paint.get("fill-color"),s=n.paint.get("fill-opacity");if(0===s.constantOr(1))return;const o=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const a=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);Di(t,i,n,r,a,o,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){const a=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);Di(t,i,n,r,a,o,!0)}},"fill-extrusion":function(t,i,n,r){const a=n.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===t.renderPass){const s=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==a||n.paint.get("fill-extrusion-pattern").constantOr(1))Ei(t,i,n,r,s,e.StencilMode.disabled,e.ColorMode.disabled),Ei(t,i,n,r,s,t.stencilModeFor3D(),t.colorModeForRenderPass());else{const a=t.colorModeForRenderPass();Ei(t,i,n,r,s,e.StencilMode.disabled,a)}}},hillshade:function(t,i,n,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const a=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),o=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const d of u){const r=i.getTile(d);if(r.needsHillshadePrepare&&"offscreen"===t.renderPass)At(t,r,n,s,e.StencilMode.disabled,o);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(d):c[d.overscaledZ];Pt(t,d,r,n,s,e,o)}}a.viewport.set([0,0,t.width,t.height])},raster:function(t,i,n,r,a,s){if("translucent"!==t.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const o=t.context,l=o.gl,c=i.getSource(),u=t.useProgram("raster"),d=t.colorModeForRenderPass(),h=t.terrain&&t.terrain.renderingToTexture,[p,m]=c instanceof Y||h?[{},r]:t.stencilConfigForOverlap(r),f=m[m.length-1].overscaledZ,_=!t.options.moving;for(const y of m){const r=h?e.DepthMode.disabled:t.depthModeForSublayer(y.overscaledZ-f,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),a=i.getTile(y);if(h&&(!a||!a.hasData()))continue;const m=h?y.posMatrix:t.transform.calculatePosMatrix(y.toUnwrapped(),_),g=t.terrain&&h?t.terrain.stencilModeForRTTOverlap(y):p[y.overscaledZ],v=s?0:n.paint.get("raster-fade-duration");a.registerFadeDuration(v);const x=i.findLoadedParent(y,0),b=Ht(a,x,i,t.transform,v);let w,M;t.terrain&&t.terrain.prepareDrawTile(y);const T="nearest"===n.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;o.activeTexture.set(l.TEXTURE0),a.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(l.TEXTURE1),x?(x.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,x.tileID.overscaledZ-a.tileID.overscaledZ),M=[a.tileID.canonical.x*w%1,a.tileID.canonical.y*w%1]):a.texture.bind(T,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST);const L=hi(m,M||[0,0],w||1,b,n);c instanceof Y?u.draw(o,l.TRIANGLES,r,e.StencilMode.disabled,d,e.CullFaceMode.disabled,L,n.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments):u.draw(o,l.TRIANGLES,r,g,d,e.CullFaceMode.disabled,L,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,i,n,r){const a=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0===s)return;const o=t.context,l=o.gl,c=t.transform,u=c.tileSize,d=n.paint.get("background-pattern");if(t.isPatternMissing(d))return;const h=!d&&1===a.a&&1===s&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==h)return;const p=e.StencilMode.disabled,m=t.depthModeForSublayer(0,"opaque"===h?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),f=t.colorModeForRenderPass(),_=t.useProgram(d?"backgroundPattern":"background"),y=r||c.coveringTiles({tileSize:u});d&&(o.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));const g=n.getCrossfadeParameters();for(const v of y){const i=r?v.posMatrix:t.transform.calculatePosMatrix(v.toUnwrapped());t.prepareDrawTile(v);const c=d?gi(i,s,t,d,{tileID:v,tileSize:u},g):yi(i,s,a);_.draw(o,l.TRIANGLES,m,p,f,e.CullFaceMode.disabled,c,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}},sky:function(t,i,n){const r=n.paint.get("sky-opacity");if(0===r)return;const a=t.context,s=n.paint.get("sky-type"),o=new e.DepthMode(a.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),l=t.frameCounter/1e3%1;"atmosphere"===s?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,i,n,r){const a=t.context,s=a.gl;let o=i.skyboxFbo;if(!o){o=i.skyboxFbo=a.createFramebuffer(32,32,!1),i.skyboxGeometry=new Ui(a),i.skyboxTexture=a.gl.createTexture(),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR);for(let e=0;e<6;++e)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,s.RGBA,32,32,0,s.RGBA,s.UNSIGNED_BYTE,null)}a.bindFramebuffer.set(o.framebuffer),a.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),Vi(a,i,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),Vi(a,i,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),Vi(a,i,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),Vi(a,i,c,u,l,3),e.identity(u),Vi(a,i,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),Vi(a,i,c,u,l,5),a.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,i,n,r,a){const s=t.context,o=s.gl,l=t.transform,c=t.useProgram("skybox");s.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_CUBE_MAP,i.skyboxTexture);const u=((e,t,i,n,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(t,!1),0,r,a);c.draw(s,o.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,n,o,r,l):"gradient"===s&&"sky"===t.renderPass&&function(t,i,n,r,a){const s=t.context,o=s.gl,l=t.transform,c=t.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new Ui(s)),s.activeTexture.set(o.TEXTURE0);let u=i.colorRampTexture;u||(u=i.colorRampTexture=new e.Texture(s,i.colorRamp,o.RGBA)),u.bind(o.LINEAR,o.CLAMP_TO_EDGE);const d=((t,i,n,r,a)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(n),u_opacity:r,u_temporal_offset:a}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get("sky-gradient-radius"),r,a);c.draw(s,o.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,d,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(t,n,o,r,l)},debug:function(e,t,i){for(let n=0;n<i.length;n++)Bi(e,t,i[n])},custom:function(t,i,n){const r=t.context,a=n.implementation;if("offscreen"===t.renderPass){const e=a.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(a,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const i="3d"===a.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(i),a.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}};class $i{constructor(t,i){this.context=new e.Context(t),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ne,this.gpuTimers={},this.frameCounter=0}updateTerrain(e,t){const i=!!e&&!!e.terrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Wt(this,e));const n=this._terrain;this.transform.elevation=i?n:null,n.update(e,this.transform,t)}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,i){if(this.width=t*e.browser.devicePixelRatio,this.height=i*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){const t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(e.EXTENT,0,e.EXTENT,0),r.emplaceBack(0,e.EXTENT,0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(r,P.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const s=new e.StructArrayLayout1ui2;s.emplaceBack(0),s.emplaceBack(1),s.emplaceBack(3),s.emplaceBack(2),s.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(s);const o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(o),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now())}clearStencil(){const t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,jt(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,i,n){if(!(i&&this.currentStencilSource!==i.id&&t.isTileClipped()&&n&&n.length))return;this.currentStencilSource=i.id;const r=this.context,a=r.gl;this.nextStencilID+n.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const s=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const o of n){const t=this._tileClippingMaskIDs[o.key]=this.nextStencilID++;s.draw(r,a.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:a.ALWAYS,mask:0},t,255,a.KEEP,a.KEEP,a.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,jt(o.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(t){const i=this.context.gl,n=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=n[n.length-1].overscaledZ,a=n[0].overscaledZ-r+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();const t={};for(let n=0;n<a;n++)t[n+r]=new e.StencilMode({func:i.GEQUAL,mask:255},n+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=a,[t,n]}return[{[r]:e.StencilMode.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,i,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this.style=t,this.options=i,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();const n=this.style._order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const a={},s={},o={};for(const e in r){const t=r[e];a[e]=t.getVisibleCoordinates(),s[e]=a[e].slice().reverse(),o[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}this.terrain&&(this.terrain.updateTileBinding(o),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const e of n){const i=this.style._layers[e],n=t._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=n?s[n.id]:void 0;("custom"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,n,i,r)}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[n[this.currentLayer]],i=t._getLayerSourceCache(e);if(this.terrain&&this.terrain.renderLayer(e,i)||e.isSky())continue;const r=i?s[i.id]:void 0;this._renderTileClippingMasks(e,i,r),this.renderLayer(this,i,e,r)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],i=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?s[i.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],i=t._getLayerSourceCache(e);if(this.terrain&&this.terrain.renderLayer(e,i)||e.isSky())continue;const r=i?("symbol"===e.type?o:s)[i.id]:void 0;this._renderTileClippingMasks(e,i,i?a[i.id]:void 0),this.renderLayer(this,i,e,r)}if(this.options.showTileBoundaries||this.options.showQueryGeometry){let i=null;e.values(this.style._layers).forEach(e=>{const n=t._getLayerSourceCache(e);n&&!e.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<n.getSource().maxzoom)&&(i=n)}),i&&this.options.showTileBoundaries&&Wi.debug(this,i,i.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Oi(e,e.transform.height-(t.top||0),3,Pi),Oi(e,t.bottom||0,3,Yi),Ri(e,t.left||0,3,Ai),Ri(e,e.transform.width-(t.right||0),3,Ii);const i=e.transform.centerPoint;!function(e,t,i,n){Fi(e,t-1,i-10,2,20,n),Fi(e,t-10,i-1,20,2,n)}(e,i.x,e.transform.height-i.y,zi)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%e.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}renderLayer(e,t,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||n&&n.length)&&(this.id=i.id,this.gpuTimingStart(i),Wi[i.type](e,t,i,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const i in e){const n=e[i],r=this.context.extTimerQuery,a=r.getQueryObjectEXT(n.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(n.query),t[i]=a}return t}translatePosMatrix(t,i,n,r,a){if(!n[0]&&!n[1])return t;const s=a?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(s){const e=Math.sin(s),t=Math.cos(s);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const o=[a?n[0]:L(i,n[0],this.transform.zoom),a?n[1]:L(i,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,o),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return!t||!i}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=[];return this.terrain&&!this.terrain.renderingToTexture&&t.push("TERRAIN"),e&&t.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&t.push("OVERDRAW_INSPECTOR"),t}useProgram(e,t,i){this.cache=this.cache||{};const n=i||[],r=this.currentGlobalDefines().concat(n),a=Gt.cacheKey(e,r,t);return this.cache[a]||(this.cache[a]=new Gt(this.context,e,Dt[e],t,vi[e],r)),this.cache[a]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(e){this.terrain&&this.terrain.prepareDrawTile(e)}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}}class Gi{constructor(e=0,t=0,i=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=i,this.right=n}interpolate(t,i,n){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,n)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,n)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,n)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,n)),this}getCenter(t,i){const n=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.Point(n,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Gi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function qi(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function Zi(e,t,i){e[4*t+0]=i[0],e[4*t+1]=i[1],e[4*t+2]=i[2],e[4*t+3]=i[3]}function Xi(t,i){const n=qi(t,3);e.fromQuat(t,i),Zi(t,3,n)}function Ji(e,t){Zi(e,3,[t[0],t[1],t[2],1])}function Ki(t,i){const n=e.identity$1([]);return e.rotateZ$1(n,n,-i),e.rotateX$1(n,n,-t),n}function Qi(t,i){const n=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(n)>=1e-15){const t=e.normalize([],n);e.scale$2(r,t,e.dot(r,t)),i[0]=r[0],i[1]=r[1]}const a=e.cross([],i,t);if(e.len(a)<1e-15)return null;const s=Math.atan2(-a[1],a[0]);return Ki(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}class en{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){this._position=this._renderWorldCopies?function(t){if(!t)return;const i=Array.isArray(t)?new e.MercatorCoordinate(t[0],t[1],t[2]):t;return i.x=e.wrap(i.x,0,1),i}(t):t}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPoint(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,a=e.MercatorCoordinate.fromLngLat(t,n),s=[a.x-r.x,a.y-r.y,a.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=Qi(s,i)}setPitchBearing(t,i){this.orientation=Ki(e.degToRad(t),e.degToRad(-i))}}class tn{constructor(t,i){this._transform=e.identity([]),this._orientation=e.identity$1([]),i&&(this._orientation=i,Xi(this._transform,this._orientation)),t&&Ji(this._transform,t)}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const e=qi(this._transform,3);return[e[0],e[1],e[2]]}set position(e){Ji(this._transform,e)}get orientation(){return this._orientation}set orientation(e){this._orientation=e,Xi(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Ki(e,t),Xi(this._transform,this._orientation)}forward(){const e=qi(this._transform,2);return[-e[0],-e[1],-e[2]]}up(){const e=qi(this._transform,1);return[-e[0],-e[1],-e[2]]}right(){const e=qi(this._transform,0);return[e[0],e[1],e[2]]}getCameraToWorld(t,i){const n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,i)),n}getWorldToCamera(t,i){const n=new Float64Array(16),r=new Float64Array(4),a=this.position;return e.conjugate(r,this._orientation),e.scale$2(a,a,-t),e.fromQuat(n,r),e.translate(n,n,a),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=i,n[9]*=i,n[10]*=i,n[11]*=i,n}getCameraToClipPerspective(t,i,n,r){const a=new Float64Array(16);return e.perspective(a,t,i,n,r),a}clone(){return new tn([...this.position],[...this.orientation])}}class nn{constructor(t,i,n,r,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Gi,this._posMatrixCache={},this._alignedPosMatrixCache={},this._camera=new tn,this._centerAltitude=0,this.cameraElevationReference="ground"}clone(){const e=new nn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._cameraZoom=this._cameraZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,e?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(e){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),e&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const i=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const t=this._elevation.getAtPoint(e.MercatorCoordinate.fromLngLat(this.center),-1);return-1===t?(this._cameraZoom=null,!1):(this._centerAltitude=t,!0)}_updateCameraOnTerrain(){const t=this.cameraToCenterDistance/this.worldSize,i=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(i+t)}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const t=this._cameraZoom,i=this._elevation.getAtPoint(e.MercatorCoordinate.fromLngLat(this.center)),n=e.mercatorZfromAltitude(i,this.center.lat),r=this._mercatorZfromZoom(t),a=this._mercatorZfromZoom(this._maxZoom),s=Math.max(r-n,a);this._setZoom(this._zoomFromMercatorZ(s))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let n;n=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new en;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this._renderWorldCopies,i}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const i=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;const r=Qi(i,n);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/n,r/i),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const n=this.pointCoordinate(new e.Point(0,0)),r=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),s=this.pointCoordinate(new e.Point(0,this.height)),o=Math.floor(Math.min(n.x,r.x,a.x,s.x)),l=Math.floor(Math.max(n.x,r.x,a.x,s.x)),c=1;for(let u=o-c;u<=l+c;u++)0!==u&&i.push(new e.UnwrappedTileID(u,t))}return i}coveringTiles(t){let i=this.coveringZoomLevel(t);const n=i,r=!!t.useElevationData;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=e.MercatorCoordinate.fromLngLat(this.center),s=1<<i,o=[s*a.x,s*a.y,0],l=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i),c=this.pointCoordinate(this.getCameraPoint()),u=s*e.mercatorZfromAltitude(1,this.center.lat),d=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),h=[s*c.x,s*c.y,d],p=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),m=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?i:0,f=this.elevation?1e4*this.elevation.exaggeration():0,_=t=>({aabb:new e.Aabb([t*s,0,-f],[(t+1)*s,s,f]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}),y=[],g=[],v=i,x=t.reparseOverscaled?n:i,b=(e,t)=>{if(!this._elevation)return;const i=this._elevation.getMinMaxForTile(t);i&&(e.min[2]=i.min,e.max[2]=i.max,e.center[2]=(e.min[2]+e.max[2])/2)},w=e=>e*e,M=w((d-this._centerAltitude)*u),T=(e,t)=>{if(t*w(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1/.707+(Math.pow(1.1,i-1/.707+1)-1)/(1.1-1)-1)};if(this._renderWorldCopies)for(let e=1;e<=3;e++)y.push(_(-e)),y.push(_(e));for(y.push(_(0));y.length>0;){const n=y.pop(),a=n.x,s=n.y;let c=n.fullyVisible;if(!c){const e=n.aabb.intersects(l);if(0===e)continue;c=2===e}let d=!0;if(m<=n.zoom&&n.zoom<v){const e=n.aabb.distanceX(h),t=n.aabb.distanceY(h);let i=M;r&&(i=w(n.aabb.distanceZ(h)*u));const a=e*e+t*t+i;d=a<w((1<<v-n.zoom)*p*T(Math.max(i,M),a))}if(n.zoom!==v&&d)for(let t=0;t<4;t++){const i=(a<<1)+t%2,o=(s<<1)+(t>>1),l=n.aabb.quadrant(t);let u=null;r&&n.zoom>v-6&&(u=new e.OverscaledTileID(n.zoom+1===v?x:n.zoom+1,n.wrap,n.zoom+1,i,o),b(l,u)),y.push({aabb:l,zoom:n.zoom+1,x:i,y:o,wrap:n.wrap,fullyVisible:c,tileID:u})}else{const r=n.zoom===v?x:n.zoom;if(t.minzoom&&t.minzoom>r)continue;const l=o[0]-(.5+a+(n.wrap<<n.zoom))*(1<<i-n.zoom),c=o[1]-.5-s,u=n.tileID?n.tileID:new e.OverscaledTileID(r,n.wrap,n.zoom,a,s);g.push({tileID:u,distanceSq:l*l+c*c})}}return g.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(i)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(t,i){const n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),s=new e.MercatorCoordinate(a.x-(n.x-r.x),a.y-(n.y-r.y));this.center=this.coordinateLocation(s),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(e){this.center=this.coordinateLocation(e),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this._coordinatePoint(this.locationCoordinate(e),!1)}locationPoint3D(e){return this._coordinatePoint(this.locationCoordinate(e),!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e.toLngLat()}pointRayIntersection(t,i){const n=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],a=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(a,a,this.pixelMatrixInverse);const s=a[3];e.scale$1(r,r,1/r[3]),e.scale$1(a,a,1/s);const o=r[2],l=a[2];return{p0:r,p1:a,t:o===l?0:(n-o)/(l-o)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4(i,i,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),e.scale$1(n,n,1/n[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$1(i,i,1/this.worldSize),e.scale$1(n,n,1/this.worldSize),new e.Ray([i[0],i[1],i[2]],e.normalize([],e.sub([],n,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:n,t:r}=t,a=e.mercatorZfromAltitude(i[2],this._center.lat),s=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],n[0],r)/this.worldSize,e.number(i[1],n[1],r)/this.worldSize,e.number(a,s,r))}pointCoordinate(t){const i=this.horizonLineFromTop(!1),n=new e.Point(t.x,Math.max(i,t.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(n))}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);const i=this.elevation;let n=this.elevation.pointCoordinate(t);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let r=0,a=this.horizonLineFromTop();if(t.y>a)return this.pointCoordinate(t);const s=.02*a,o=t.clone();for(let l=0;l<10&&a-r>s;l++){o.y=e.number(r,a,.66);const t=i.pointCoordinate(o);t?(a=o.y,n=t):r=o.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){if(this.elevation)return!this.elevation.pointCoordinate(e);{const t=this.horizonLineFromTop();return e.y<t}}_coordinatePoint(t,i){const n=i&&this.elevation?this.elevation.getAtPoint(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4(r,r,this.pixelMatrix),r[3]>0?new e.Point(r[0]/r[3],r[1]/r[3]):new e.Point(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))}_getBounds3D(){const t=this.elevation,i=t.visibleDemTiles.reduce((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});i.min*=t.exaggeration(),i.max*=t.exaggeration();const n=this.horizonLineFromTop();return[new e.Point(0,n),new e.Point(this.width,n),new e.Point(this.width,this.height),new e.Point(0,this.height)].reduce((e,t)=>e.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(t,i.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(t,i.max)))),new e.LngLatBounds)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-.97*t;return e?Math.max(0,i):i}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,i=!1){const n=t.key,r=i?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];const a=t.canonical,s=this.worldSize/this.zoomScale(a.z),o=a.x+Math.pow(2,a.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[o*s,a.y*s,0]),e.scale(l,l,[s/e.EXTENT,s/e.EXTENT,1]),e.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),r[n]=new Float32Array(l),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const i=this._camera.position,n=this._camera.forward();if(i.z<=0||n[2]>=0)return;const r=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=r,n[2]/=r,e.normalize(n,n);const a=t.raycast(i,n,t.exaggeration());if(a){const t=e.scaleAndAdd([],i,n,a),r=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=this._camera.position,o=r.z+e.length([r.x-s[0],r.y-s[1],r.z-s[2]]);this._cameraZoom=this._zoomFromMercatorZ(o),this._centerAltitude=r.toAltitude(),this._center=r.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const i=t.getAtPoint(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),r=e.mercatorZfromAltitude(i,this._center.lat),a=this._camera.position[2]-r;if(a<n){const t=e.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),i=this._camera.mercatorPosition,r=[t.x-i.x,t.y-i.y,t.z-i.z],s=e.length(r);r[2]-=n-a;const o=e.length(r);if(0===o)return;e.scale$2(r,r,s/o),this._camera.position=[t.x-r[0],t.y-r[1],t.z-r[2]],this._camera.orientation=Qi(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,i,n,r,a=-90,s=90,o=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const i=this.latRange;a=e.mercatorYfromLat(i[1])*this.worldSize,s=e.mercatorYfromLat(i[0])*this.worldSize,t=s-a<c.y?c.y/(s-a):0}if(this.lngRange){const t=this.lngRange;o=e.mercatorXfromLng(t[0])*this.worldSize,l=e.mercatorXfromLng(t[1])*this.worldSize,i=l-o<c.x?c.x/(l-o):0}const d=this.point,h=Math.max(i||0,t||0);if(h)return this.center=this.unproject(new e.Point(i?(l+o)/2:d.x,t?(s+a)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const e=d.y,t=c.y/2;e-t<a&&(r=a+t),e+t>s&&(r=s-t)}if(this.lngRange){const e=d.x,t=c.x/2;e-t<o&&(n=o+t),e+t>l&&(n=l-t)}void 0===n&&void 0===r||(this.center=this.unproject(new e.Point(void 0!==n?n:d.x,void 0!==r?r:d.y))),this._constrainCameraAltitude(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){const t=(e,t)=>Math.log2(e/(this.tileSize*Math.abs(t[1]-t[0])));let i=0;if(this.latRange){const n=this.latRange;i=t(this.height,[e.mercatorYfromLat(n[0]),e.mercatorYfromLat(n[1])])}let n=0;if(this.lngRange){const i=this.lngRange;n=t(this.width,[e.mercatorXfromLng(i[0]),e.mercatorXfromLng(i[1])])}return Math.max(i,n)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const i=e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;this._updateCameraState();const n=Math.PI/2+this._pitch,r=this.fovAboveCenter,a=this._camera.position[2]*this.worldSize/Math.cos(this._pitch),s=Math.sin(r)*a/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,l=o.x,c=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*s+a),d=this.height/50,h=this._camera.getWorldToCamera(this.worldSize,i),p=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,d,u);p[8]=2*-t.x/this.width,p[9]=2*t.y/this.height;let m=e.mul([],p,h);this.mercatorMatrix=e.scale([],m,[this.worldSize,this.worldSize,this.worldSize/i]),this.projMatrix=m,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const f=new Float32Array(16);e.identity(f),e.scale(f,f,[1,-1,1]),e.rotateX(f,f,this._pitch),e.rotateZ(f,f,this.angle);const _=e.perspective(new Float32Array(16),this._fov,this.width/this.height,d,u);_[8]=2*-t.x/this.width,_[9]=2*t.y/this.height,this.skyboxMatrix=e.multiply(f,_,f);const y=this.width%2/2,g=this.height%2/2,v=Math.cos(this.angle),x=Math.sin(this.angle),b=l-Math.round(l)+v*y+x*g,w=c-Math.round(c)+v*g+x*y,M=new Float64Array(m);if(e.translate(M,M,[b>.5?b-1:b,w>.5?w-1:w,0]),this.alignedProjMatrix=M,m=e.create(),e.scale(m,m,[this.width/2,-this.height/2,1]),e.translate(m,m,[1,-1,0]),this.labelPlaneMatrix=m,m=e.create(),e.scale(m,m,[1,-1,1]),e.translate(m,m,[-1,-1,0]),e.scale(m,m,[2/this.width,2/this.height,1]),this.glCoordMatrix=m,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),m=e.invert(new Float64Array(16),this.pixelMatrix),!m)throw new Error("failed to invert matrix");this.pixelMatrixInverse=m,this._posMatrixCache={},this._alignedPosMatrixCache={}}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const t=this._camera.forward(),i=this.cameraToCenterDistance,n=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),a=this.cameraToCenterDistance/r;this._camera.position=[n.x/this.worldSize-t[0]*i/a,n.y/this.worldSize-t[1]*i/a,e.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-t[2]*i/a]}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=t[2];let r=1;n>0&&(r=Math.min((i-this._camera.position[2])/n,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,r),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:n,bearing:r}=this._camera.getPitchBearing(),a=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat),s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),o=Math.max((t[2]-a)/Math.cos(n),s),l=this._zoomFromMercatorZ(o);e.scaleAndAdd(t,t,i,o),this._pitch=e.clamp(n,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new e.MercatorCoordinate(t[0],t[1],t[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(t,i){const n=Math.min(t.x,i.x),r=Math.max(t.x,i.x),a=Math.min(t.y,i.y),s=Math.max(t.y,i.y),o=[new e.Point(n,a),new e.Point(r,s),new e.Point(n,s),new e.Point(r,a)],l=this._renderWorldCopies?-3:0,c=this._renderWorldCopies?4:1;for(const e of o){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new e.Point(0,0),new e.Point(this.width,this.height))}zoomDeltaToMovement(t,i){const n=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(n)+i;return n-this._mercatorZfromZoom(r)}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))}}class rn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let i=!1,n=null;const r=()=>{n=null,i&&(e(),n=setTimeout(r,300),i=!1)};return()=>(i=!0,n||r(),n)}(this._updateHashUnthrottled.bind(this))}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(t){const i=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),s=Math.round(i.lng*a)/a,o=Math.round(i.lat*a)/a,l=this._map.getBearing(),c=this._map.getPitch();let u="";if(u+=t?`/${s}/${o}/${n}`:`${n}/${o}/${s}`,(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),this._hashName){const t=this._hashName;let i=!1;const n=e.window.location.hash.slice(1).split("&").map(e=>{const n=e.split("=")[0];return n===t?(i=!0,`${n}=${u}`):e}).filter(e=>e);return i||n.push(`${t}=${u}`),"#"+n.join("&")}return"#"+u}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some(e=>isNaN(e))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}const an={linearity:.3,easing:e.bezier(0,0,.3,1)},sn=e.extend({deceleration:2500,maxSpeed:1400},an),on=e.extend({deceleration:20,maxSpeed:1400},an),ln=e.extend({deceleration:1e3,maxSpeed:360},an),cn=e.extend({deceleration:1e3,maxSpeed:90},an);class un{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.browser.now();for(;t.length>0&&i-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const a=hn(i.pan.mag(),n,e.extend({},sn,t||{}));r.offset=i.pan.mult(a.amount/i.pan.mag()),r.center=this._map.transform.center,dn(r,a)}if(i.zoom){const e=hn(i.zoom,n,on);r.zoom=this._map.transform.zoom+e.amount,dn(r,e)}if(i.bearing){const t=hn(i.bearing,n,ln);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),dn(r,t)}if(i.pitch){const e=hn(i.pitch,n,cn);r.pitch=this._map.transform.pitch+e.amount,dn(r,e)}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(r,{noMoveStart:!0})}}function dn(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function hn(t,i,n){const{maxSpeed:r,linearity:a,deceleration:s}=n,o=e.clamp(t*a/(i/1e3),-r,r),l=Math.abs(o)/(s*a);return{easing:n.easing,duration:1e3*l,amount:o*(l/2)}}class pn extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,n,a={}){const s=r.mousePos(i.getCanvasContainer(),n),o=i.unproject(s);super(t,e.extend({point:s,lngLat:o,originalEvent:n},a)),this._defaultPrevented=!1,this.target=i}}class mn extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,n){const a="touchend"===t?n.changedTouches:n.touches,s=r.touchPos(i.getCanvasContainer(),a),o=s.map(e=>i.unproject(e)),l=s.reduce((e,t,i,n)=>e.add(t.div(n.length)),new e.Point(0,0));super(t,{points:s,point:l,lngLats:o,lngLat:i.unproject(l),originalEvent:n}),this._defaultPrevented=!1}}class fn extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1}}class _n{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new fn(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new pn(e.type,this._map,e))}mouseup(e){this._map.fire(new pn(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new pn(e.type,this._map,e))}dblclick(e){return this._firePreventable(new pn(e.type,this._map,e))}mouseover(e){this._map.fire(new pn(e.type,this._map,e))}mouseout(e){this._map.fire(new pn(e.type,this._map,e))}touchstart(e){return this._firePreventable(new mn(e.type,this._map,e))}touchmove(e){this._map.fire(new mn(e.type,this._map,e))}touchend(e){this._map.fire(new mn(e.type,this._map,e))}touchcancel(e){this._map.fire(new mn(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yn{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(e){this._map.fire(new pn(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new pn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new pn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gn{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(r.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const i=t;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const n=this._startPos;this._lastPos=i,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(n.x,i.x),s=Math.max(n.x,i.x),o=Math.min(n.y,i.y),l=Math.max(n.y,i.y);r.setTransform(this._box,`translate(${a}px,${o}px)`),this._box.style.width=s-a+"px",this._box.style.height=l-o+"px"}mouseupWindow(t,i){if(!this._active)return;if(0!==t.button)return;const n=this._startPos,a=i;if(this.reset(),r.suppressClick(),n.x!==a.x||n.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,a,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}function vn(e,t){const i={};for(let n=0;n<e.length;n++)i[e[n].identifier]=t[n];return i}class xn{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){const i=new e.Point(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=vn(n,i)))}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const n=vn(i,t);for(const r in this.touches){const e=this.touches[r],t=n[r];(!t||t.dist(e)>30)&&(this.aborted=!0)}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class bn{constructor(e){this.singleTap=new xn(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,i){this.singleTap.touchstart(e,t,i)}touchmove(e,t,i){this.singleTap.touchmove(e,t,i)}touchend(e,t,i){const n=this.singleTap.touchend(e,t,i);if(n){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(n)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class wn{constructor(){this._zoomIn=new bn({numTouches:1,numTaps:2}),this._zoomOut=new bn({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i)}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i)}touchend(e,t,i){const n=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return n?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(n)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Mn={0:1,2:2};class Tn{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const i=r.mouseButton(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i)}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),function(e,t){const i=Mn[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&r.mouseButton(e)===this._eventButton&&(this._moved&&r.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ln extends Tn{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class kn extends Tn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault()}}class Sn extends Tn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault()}}class Dn{constructor(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(e,t,i){if(this._active&&!(i.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,i)}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,i,n){n.length>0&&(this._active=!0);const r=vn(n,i),a=new e.Point(0,0),s=new e.Point(0,0);let o=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(a._add(t),s._add(t.sub(i)),o++,r[e]=t)}if(this._touches=r,o<this._minTouches||!s.mag())return;const l=s.div(o);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(o),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class En{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,i){return{}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,i){if(!this._firstTwoTouches)return;e.preventDefault();const[n,r]=this._firstTwoTouches,a=Cn(i,t,n),s=Cn(i,t,r);if(!a||!s)return;const o=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],o,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[n,a]=this._firstTwoTouches,s=Cn(i,t,n),o=Cn(i,t,a);s&&o||(this._active&&r.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Cn(e,t,i){for(let n=0;n<e.length;n++)if(e[n].identifier===i)return t[n]}function Pn(e,t){return Math.log(e/t)/Math.LN2}class Yn extends En{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Pn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Pn(this._distance,i),pinchAround:t}}}function An(e,t){return 180*e.angleWith(t)/Math.PI}class In extends En{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:An(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=An(e,this._startVector);return Math.abs(i)<t}}function zn(e){return Math.abs(e.y)>Math.abs(e.x)}class On extends En{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(e){this._lastPoints=e,zn(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,i){const n=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const n=e.mag()>=2,r=t.mag()>=2;if(!n&&!r)return;if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const a=e.y>0==t.y>0;return zn(e)&&zn(t)&&a}}const Rn={panStep:100,bearingStep:15,pitchStep:10};class Fn{constructor(){const e=Rn;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,n=0,r=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(i=0,n=0),{cameraAnimation:s=>{const o=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Bn,zoom:t?Math.round(o)+t*(e.shiftKey?2:1):o,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+n*this._pitchStep,offset:[-r*this._panStep,-a*this._panStep],center:s.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Bn(e){return e*(2-e)}class jn{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;let i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=e.browser.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=r.mousePos(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform,i=()=>t._terrainEnabled()?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const r=i(),a=Math.pow(2,r),s="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):a;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(s*n))),"wheel"===this._type&&(this._startZoom=i(),this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,a=this._easing;let s,o=!1;if("wheel"===this._type&&r&&a){const t=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),i=a(t);s=e.number(r,n,i),t<1?this._frameId||(this._frameId=!0):o=!0}else s=n,o=!0;return this._active=!0,o&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!o,zoomDelta:s-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.ease;if(this._prevEase){const t=this._prevEase,n=(e.browser.now()-t.start)/t.duration,r=t.easing(n+.01)-t.easing(n),a=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:i},i}reset(){this._active=!1}}class Hn{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Nn{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Un{constructor(){this._tap=new bn({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i))}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const n=t[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i)}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vn{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Wn{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class $n{constructor(e,t,i,n){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Gn=e=>e.zoom||e.drag||e.pitch||e.rotate;class qn extends e.Event{}class Zn{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,i){const n=e.sub([],i,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const i=e.scale$2([],t,this.radius);if(i[2]>0){const t=e.scale$2([],[0,0,1],e.dot(i,[0,0,1])),n=e.scale$2([],e.normalize([],[i[0],i[1],0]),this.radius),r=e.add([],i,e.scale$2([],e.sub([],e.add([],n,t),i),2));i[0]=r[0],i[1]=r[1]}return i}}function Xn(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Jn{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new un(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Zn,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[a,s,o]of this._listeners)r.addEventListener(a,s,a===e.window.document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[t,i,n]of this._listeners)r.removeEventListener(t,i,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new _n(t,e));const n=t.boxZoom=new gn(t,e);this._add("boxZoom",n);const r=new wn,a=new Nn;t.doubleClickZoom=new Hn(a,r),this._add("tapZoom",r),this._add("clickZoom",a);const s=new Un;this._add("tapDragZoom",s);const o=t.touchPitch=new On;this._add("touchPitch",o);const l=new kn(e),c=new Sn(e);t.dragRotate=new Wn(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new Ln(e),d=new Dn(e);t.dragPan=new Vn(i,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);const h=new In,p=new Yn;t.touchZoomRotate=new $n(i,p,h,s),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new yn(t));const m=t.scrollZoom=new jn(t,this);this._add("scrollZoom",m,["mousePan"]);const f=t.keyboard=new Fn;this._add("keyboard",f);for(const _ of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[_]&&t[_].enable(e[_])}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Gn(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,i){for(const n in e)if(n!==i&&(!t||t.indexOf(n)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const i="renderFrame"===e.type?void 0:e,n={needsRenderFrame:!1},a={},s={},o=e.touches?this._getMapTouches(e.touches):void 0,l=o?r.touchPos(this._el,o):r.mousePos(this._el,e);for(const{handlerName:r,handler:d,allowed:h}of this._handlers){if(!d.isEnabled())continue;let c;this._blockedByActive(s,h,r)?d.reset():d[t||e.type]&&(c=d[t||e.type](e,l,o),this.mergeHandlerResult(n,a,c,r,i),c&&c.needsRenderFrame&&this._triggerRenderFrame()),(c||d.isActive())&&(s[r]=d)}const c={};for(const r in this._previousActiveHandlers)s[r]||(c[r]=i);this._previousActiveHandlers=s,(Object.keys(c).length||Xn(n))&&(this._changes.push([n,a,c]),this._triggerRenderFrame()),(Object.keys(s).length||Xn(n))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=n;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,i,n,r,a){if(!n)return;e.extend(t,n);const s={handlerName:r,originalEvent:n.originalEvent||a};void 0!==n.zoomDelta&&(i.zoom=s),void 0!==n.panDelta&&(i.drag=s),void 0!==n.pitchDelta&&(i.pitch=s),void 0!==n.bearingDelta&&(i.rotate=s)}_applyChanges(){const t={},i={},n={};for(const[r,a,s]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(i,a),e.extend(n,s);this._updateMapTransform(t,i,n),this._changes=[]}_updateMapTransform(t,i,n){const r=this._map,a=r.transform,s=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Xn(t)){const e=a.zoom;a.cameraElevationReference="sea",a.recenterOnTerrain(),a.cameraElevationReference="ground",e!==a.zoom&&this._map._update(!0)}if(!Xn(t))return this._fireEvents(i,n,!0);let{panDelta:o,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:d,aroundCoord:h,pinchAround:p}=t;void 0!==p&&(d=p),(e=>i.drag&&!this._eventsInProgress.drag)()&&d&&(this._dragOrigin=s(a.pointCoordinate3D(d)),this._trackingEllipsoid.setup(a._camera.position,this._dragOrigin)),a.cameraElevationReference="sea",r._stop(!0),d=d||r.transform.centerPoint,c&&(a.bearing+=c),u&&(a.pitch+=u),a._updateCameraState();const m=[0,0,0];if(o){const e=a.screenPointToMercatorRay(d),t=a.screenPointToMercatorRay(d.sub(o)),i=this._trackingEllipsoid.projectRay(e.dir),n=this._trackingEllipsoid.projectRay(t.dir);m[0]=n[0]-i[0],m[1]=n[1]-i[1]}const f=a.zoom,_=[0,0,0];if(l){const t=s(h||a.pointCoordinate3D(d)),i={dir:e.normalize([],e.sub([],t,a._camera.position))},n=a.screenPointToMercatorRay(a.centerPoint);if(i.dir[2]<0){const r=e.altitudeFromMercatorZ(t[2],t[1]),o=a.rayIntersectionCoordinate(a.pointRayIntersection(a.centerPoint,r)),c=a.zoomDeltaToMovement(s(o),l)*(n.dir[2]/i.dir[2]);e.scale$2(_,i.dir,c)}else if(a._terrainEnabled()){const n=a.zoomDeltaToMovement(t,l);e.scale$2(_,i.dir,n)}}const y=e.add(m,m,_);a._translateCameraConstrained(y),l&&Math.abs(a.zoom-f)>1e-4&&a.recenterOnTerrain(),a.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,n,!0)}_fireEvents(t,i,n){const r=Gn(this._eventsInProgress),a=Gn(t),s={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(s[e+"start"]=i),this._eventsInProgress[e]=t[e]}!r&&a&&this._fireEvent("movestart",a.originalEvent);for(const e in s)this._fireEvent(e,s[e]);a&&this._fireEvent("move",a.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i)}const o={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||n,o[e+"end"]=l)}for(const e in o)this._fireEvent(e,o[e]);const c=Gn(this._eventsInProgress);if(n&&(r||a)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new qn("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Kn extends e.Evented{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),n)}panTo(t,i,n){return this.easeTo(e.extend({center:t},i),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,n){return this.easeTo(e.extend({zoom:t},i),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,n){return this.easeTo(e.extend({bearing:t},i),n)}resetNorth(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){t=e.LngLatBounds.convert(t);const n=i&&i.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(i,t.padding),t}_cameraForBoxAndBearing(t,i,n,r){const a=this._extendCameraOptions(r),s=this.transform,o=s.padding,l=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(i)),u=l.rotate(-e.degToRad(n)),d=c.rotate(-e.degToRad(n)),h=new e.Point(Math.max(u.x,d.x),Math.max(u.y,d.y)),p=new e.Point(Math.min(u.x,d.x),Math.min(u.y,d.y)),m=h.sub(p),f=(s.width-(o.left+o.right+a.padding.left+a.padding.right))/m.x,_=(s.height-(o.top+o.bottom+a.padding.top+a.padding.bottom))/m.y;if(_<0||f<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(s.scaleZoom(s.scale*Math.min(f,_)),a.maxZoom),g="number"==typeof a.offset.x?new e.Point(a.offset.x,a.offset.y):e.Point.convert(a.offset),v=new e.Point((a.padding.left-a.padding.right)/2,(a.padding.top-a.padding.bottom)/2).rotate(n*Math.PI/180),x=g.add(v).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(x)),zoom:y,bearing:n}}_cameraForBox(t,i,n,r,a){const s=this._extendCameraOptions(a);n=n||0,r=r||0,t=e.LngLat.convert(t),i=e.LngLat.convert(i);const o=this.transform.clone();o.padding=s.padding;const l=this.getFreeCameraOptions(),c=new e.LngLat(.5*(t.lng+i.lng),.5*(t.lat+i.lat)),u=.5*(n+r);if(o._camera.position[2]<e.mercatorZfromAltitude(u,c.lat))return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");l.lookAtPoint(c),o.setFreeCameraOptions(l);const d=e.MercatorCoordinate.fromLngLat(t),h=e.MercatorCoordinate.fromLngLat(i),p=o.pointRayIntersection(o.centerPoint,u),m=[(f=o.rayIntersectionCoordinate(p)).x,f.y,f.z];var f;const _=o.screenPointToMercatorRay(o.centerPoint);let y,g=0;do{const i=Math.floor(o.zoom),a=1<<i,s=Math.min(a*d.x,a*h.x),l=Math.min(a*d.y,a*h.y),c=Math.max(a*d.x,a*h.x),u=Math.max(a*d.y,a*h.y),p=new e.Aabb([s,l,n],[c,u,r]),f=e.Frustum.fromInvProjectionMatrix(o.invProjMatrix,o.worldSize,i);if(2!==p.intersects(f)){y&&(o._camera.position=e.scaleAndAdd([],o._camera.position,_.dir,-y),o._updateStateFromCamera());break}const g=e.sub([],o._camera.position,m);y=.5*e.length(g),o._camera.position=e.scaleAndAdd([],o._camera.position,_.dir,y);try{o._updateStateFromCamera()}catch(t){return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++g<10);return{center:o.center,zoom:o.zoom,bearing:o.bearing,pitch:o.pitch}}fitBounds(e,t,i){return this._fitInternal(this.cameraForBounds(e,t),t,i)}_raycastElevationBox(t,i){const n=this.transform.elevation;if(!n)return;const r=new e.Point(t.x,i.y),a=new e.Point(i.x,t.y),s=n.pointCoordinate(t);if(!s)return;const o=n.pointCoordinate(i);if(!o)return;const l=n.pointCoordinate(r);if(!l)return;const c=n.pointCoordinate(a);if(!c)return;const u=new e.MercatorCoordinate(s[0],s[1]).toLngLat(),d=new e.MercatorCoordinate(o[0],o[1]).toLngLat(),h=new e.MercatorCoordinate(l[0],l[1]).toLngLat(),p=new e.MercatorCoordinate(c[0],c[1]).toLngLat(),m=Math.min(u.lng,Math.min(d.lng,Math.min(h.lng,p.lng))),f=Math.min(u.lat,Math.min(d.lat,Math.min(h.lat,p.lat))),_=Math.max(u.lng,Math.max(d.lng,Math.max(h.lng,p.lng))),y=Math.max(u.lat,Math.max(d.lat,Math.max(h.lat,p.lat))),g=Math.min(s[3],Math.min(o[3],Math.min(l[3],c[3]))),v=Math.max(s[3],Math.max(o[3],Math.max(l[3],c[3])));return{minLngLat:new e.LngLat(m,f),maxLngLat:new e.LngLat(_,y),minAltitude:g,maxAltitude:v}}fitScreenCoordinates(t,i,n,r,a){let s,o,l,c;const u=e.Point.convert(t),d=e.Point.convert(i),h=this._raycastElevationBox(u,d);if(h)s=h.minLngLat,o=h.maxLngLat,l=h.minAltitude,c=h.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(u,d))return this;s=this.transform.pointLocation(u),o=this.transform.pointLocation(d)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(i)),n,r):this._cameraForBox(s,o,l,c,r),r,a)}_fitInternal(t,i,n){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this}jumpTo(t,i){this.stop();const n=this.transform;let r=!1,a=!1,s=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(a=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(s=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),r&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),a&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),s&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){this.stop();const n=this.transform,r=n.zoom,a=n.pitch,s=n.bearing;n.setFreeCameraOptions(t);const o=r!==n.zoom,l=a!==n.pitch,c=s!==n.bearing;return this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),o&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),c&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),l&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);const n=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),o=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,u="pitch"in t?+t.pitch:s,d="padding"in t?t.padding:n.padding,h=e.Point.convert(t.offset);let p=n.centerPoint.add(h);const m=n.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const _=n.project(m),y=n.project(f).sub(_),g=n.zoomScale(l-r);let v,x;t.around&&(v=e.LngLat.convert(t.around),x=n.locationPoint(v));const b={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||u!==s,this._padding=!n.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,b),this._ease(t=>{if(this._zooming&&(n.zoom=e.number(r,l,t)),this._rotating&&(n.bearing=e.number(a,c,t)),this._pitching&&(n.pitch=e.number(s,u,t)),this._padding&&(n.interpolatePadding(o,d,t),p=n.centerPoint.add(h)),v)n.setLocationAtPoint(v,x);else{const e=n.zoomScale(n.zoom-r),i=l>r?Math.min(2,g):Math.max(.5,g),a=Math.pow(i,1-t),s=n.unproject(_.add(y.mult(t*a)).mult(e));n.setLocationAtPoint(n.renderWorldCopies?s.wrap():s,p)}this._fireMoveEvents(i)},e=>{n.recenterOnTerrain(),this._afterEase(i,e)},t),this}_prepareEase(t,i,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",i||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId,this.transform.cameraElevationReference="ground";const n=this._zooming,r=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,i){if(!t.essential&&e.browser.prefersReducedMotion){const n=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const n=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),o=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,u="pitch"in t?+t.pitch:s,d="padding"in t?t.padding:n.padding,h=n.zoomScale(l-r),p=e.Point.convert(t.offset);let m=n.centerPoint.add(p);const f=n.pointLocation(m),_=e.LngLat.convert(t.center||f);this._normalizeCenter(_);const y=n.project(f),g=n.project(_).sub(y);let v=t.curve;const x=Math.max(n.width,n.height),b=x/h,w=g.mag();if("minZoom"in t){const i=e.clamp(Math.min(t.minZoom,r,l),n.minZoom,n.maxZoom),a=x/n.zoomScale(i-r);v=Math.sqrt(a/w*2)}const M=v*v;function T(e){const t=(b*b-x*x+(e?-1:1)*M*M*w*w)/(2*(e?b:x)*M*w);return Math.log(Math.sqrt(t*t+1)-t)}function L(e){return(Math.exp(e)-Math.exp(-e))/2}function k(e){return(Math.exp(e)+Math.exp(-e))/2}const S=T(0);let D=function(e){return k(S)/k(S+v*e)},E=function(e){return x*((k(S)*(L(t=S+v*e)/k(t))-L(S))/M)/w;var t},C=(T(1)-S)/v;if(Math.abs(w)<1e-6||!isFinite(C)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,i);const e=b<x?-1:1;C=Math.abs(Math.log(b/x))/v,E=function(){return 0},D=function(t){return Math.exp(e*v*t)}}return t.duration="duration"in t?+t.duration:1e3*C/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==s,this._padding=!n.isPaddingEqual(d),this._prepareEase(i,!1),this._ease(t=>{const h=t*C,f=1/D(h);n.zoom=1===t?l:r+n.scaleZoom(f),this._rotating&&(n.bearing=e.number(a,c,t)),this._pitching&&(n.pitch=e.number(s,u,t)),this._padding&&(n.interpolatePadding(o,d,t),m=n.centerPoint.add(p));const v=1===t?_:n.unproject(y.add(g.mult(E(h))).mult(f));n.setLocationAtPoint(n.renderWorldCopies?v.wrap():v,m),n._updateCenterElevation(),this._fireMoveEvents(i)},()=>this._afterEase(i),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,i,n){!1===n.animate||0===n.duration?(t(1),i()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,i){t=e.wrap(t,-180,180);const n=Math.abs(t-i);return Math.abs(t-360-i)<n&&(t-=360),Math.abs(t+360-i)<n&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0}}class Qn{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=r.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const i=this._map._getUIString("AttributionControl."+t);e.title=i,e.setAttribute("aria-label",i)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const n=i.reduce((e,t,n)=>(t.value&&(e+=`${t.key}=${t.value}${n<i.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${n}${this._map._hash?this._map._hash.getHashString(!0):""}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(e=>"string"!=typeof e?"":e)):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const n in t){const i=t[n];if(i.used){const t=i.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,i)=>{for(let n=i+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0});const i=e.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class er{constructor(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)}onAdd(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");const t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class tr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const n of i)if(n.id===e)return void(n.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ir={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:nr,HTMLElement:rr,ImageBitmap:ar}=e.window,sr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function or(e){e.parentNode&&e.parentNode.removeChild(e)}const lr={showCompass:!0,showZoom:!0,visualizePitch:!1};class cr{constructor(t,i,n=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new kn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,n&&(this.mousePitch=new Sn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener(i,"mousedown",this.mousedown),r.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),r.addEventListener(i,"touchmove",this.touchmove),r.addEventListener(i,"touchend",this.touchend),r.addEventListener(i,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),r.disableDrag()}move(e,t){const i=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&i.setBearing(i.getBearing()+n.bearingDelta),this.mousePitch){const n=this.mousePitch.mousemoveWindow(e,t);n&&n.pitchDelta&&i.setPitch(i.getPitch()+n.pitchDelta)}}off(){const e=this.element;r.removeEventListener(e,"mousedown",this.mousedown),r.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),r.removeEventListener(e,"touchmove",this.touchmove),r.removeEventListener(e,"touchend",this.touchend),r.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){r.enableDrag(),r.removeEventListener(e.window,"mousemove",this.mousemove),r.removeEventListener(e.window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),r.mousePos(this.element,t)),r.addEventListener(e.window,"mousemove",this.mousemove),r.addEventListener(e.window,"mouseup",this.mouseup)}mousemove(e){this.move(e,r.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function ur(t,i,n){if(t=new e.LngLat(t.lng,t.lat),i){const r=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),s=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),o=n.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>n.width||i.y>n.height;n.locationPoint(r).distSqr(i)<o&&(l||Math.abs(r.lng-n.center.lng)<s)?t=r:n.locationPoint(a).distSqr(i)<o&&(l||Math.abs(a.lng-n.center.lng)<s)&&(t=a)}for(;Math.abs(t.lng-n.center.lng)>180;){const e=n.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=n.width&&e.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const dr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function hr(e,t,i){const n=e.classList;for(const r in dr)n.remove(`mapboxgl-${i}-anchor-${r}`);n.add(`mapboxgl-${i}-anchor-${t}`)}class pr extends e.Evented{constructor(t,i){if(super(),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.Point.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");const i=r.createNS("http://www.w3.org/2000/svg","svg"),n=41,a=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",n+"px"),i.setAttributeNS(null,"width",a+"px"),i.setAttributeNS(null,"viewBox",`0 0 ${a} ${n}`);const s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");const o=r.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");const l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of c){const t=r.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(d);const h=r.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"opacity","0.25"),h.setAttributeNS(null,"fill","#000000");const p=r.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),h.appendChild(p);const m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");const f=r.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(8.0, 8.0)");const _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");const y=r.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),f.appendChild(_),f.appendChild(y),o.appendChild(l),o.appendChild(u),o.appendChild(h),o.appendChild(m),o.appendChild(f),i.appendChild(o),i.setAttributeNS(null,"height",n*this._scale+"px"),i.setAttributeNS(null,"width",a*this._scale+"px"),this._element.appendChild(i),this._offset=e.Point.convert(t&&t.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()}),hr(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,i=13.5,n=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-i+n)],"bottom-right":[-n,-1*(t-i+n)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_updateOcclusion(){this._occlusionTimer||(this._occlusionTimer=setTimeout(this._onOcclusionTimer.bind(this),60))}_onOcclusionTimer(){const e=this._map.transform,t=this._pos?this._pos.sub(this._transformedOffset()):null;if(t&&t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height){const e=this._map.unproject(t),i=this._map.getFreeCameraOptions();if(i.position){const t=i.position.toLngLat(),n=t.distanceTo(e),r=t.distanceTo(this._lngLat);this._element.classList.toggle("mapboxgl-marker-occluded",n<.9*r)}}this._occlusionTimer=null}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=ur(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset()),this._map.transform.elevation&&this._updateOcclusion();let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,`${dr[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${i} ${t}`)}_transformedOffset(){if(!this._defaultMarker)return this._offset;const e=this._map.transform,t=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&t._rotate(e.angle),"map"===this._pitchAlignment&&(t.y*=Math.cos(e._pitch)),t}getOffset(){return this._offset}setOffset(t){return this._offset=e.Point.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const mr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let fr,_r=0,yr=!1;const gr={maxWidth:100,unit:"metric"};function vr(e,t,i){const n=i&&i.maxWidth||100,r=e._container.clientHeight/2,a=e.unproject([0,r]),s=e.unproject([n,r]),o=a.distanceTo(s);if(i&&"imperial"===i.unit){const i=3.2808*o;i>5280?xr(t,n,i/5280,e._getUIString("ScaleControl.Miles")):xr(t,n,i,e._getUIString("ScaleControl.Feet"))}else i&&"nautical"===i.unit?xr(t,n,o/1852,e._getUIString("ScaleControl.NauticalMiles")):o>=1e3?xr(t,n,o/1e3,e._getUIString("ScaleControl.Kilometers")):xr(t,n,o,e._getUIString("ScaleControl.Meters"))}function xr(e,t,i,n){const r=function(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(i);e.style.width=t*(r/i)+"px",e.innerHTML=`${r}&nbsp;${n}`}const br={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},wr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Mr={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Kn{constructor(t){if(null!=(t=e.extend({},sr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new nn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new tr,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ir,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof rr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Jn(this,t),this._hash=t.hash&&new rn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Qn({customAttribution:t.customAttribution})),this._logoControl=new er,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}resize(t){const i=this._containerDimensions(),n=i[0],r=i[1];this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r);const a=!this._moving;return a&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.Point.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(e,t,i){if("mouseenter"===e||"mouseover"===e){let n=!1;const r=r=>{const a=this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?n||(n=!0,i.call(this,new pn(e,this,r.originalEvent,{features:a}))):n=!1};return{layer:t,listener:i,delegates:{mousemove:r,mouseout:()=>{n=!1}}}}if("mouseleave"===e||"mouseout"===e){let n=!1;const r=r=>{(this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?n=!0:n&&(n=!1,i.call(this,new pn(e,this,r.originalEvent)))},a=t=>{n&&(n=!1,i.call(this,new pn(e,this,t.originalEvent)))};return{layer:t,listener:i,delegates:{mousemove:r,mouseout:a}}}{const n=e=>{const n=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,i.call(this,e),delete e.features)};return{layer:t,listener:i,delegates:{[e]:n}}}}on(e,t,i){if(void 0===i)return super.on(e,t);const n=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const r in n.delegates)this.on(r,n.delegates[r]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);const n=this._createDelegatedListener(e,t,i);for(const r in n.delegates)this.once(r,n.delegates[r]);return this}off(e,t,i){return void 0===i?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(n=>{const r=this._delegatedListeners[e];for(let e=0;e<r.length;e++){const n=r[e];if(n.layer===t&&n.listener===i){for(const e in n.delegates)this.off(e,n.delegates[e]);return r.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.Point||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,i){return!1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),e&&(this.style=new Ge(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ge(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,i){if("string"==typeof t){const n=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(n,e.ResourceType.Style);e.getJSON(r,(t,n)=>{t?this.fire(new e.ErrorEvent(t)):n&&this._updateDiff(n,i)})}else"object"==typeof t&&this._updateDiff(t,i)}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const i=this.style&&this.style._getSourceCaches(t);if(0!==i.length)return i.every(e=>e.loaded());this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,i,{pixelRatio:n=1,sdf:r=!1,stretchX:a,stretchY:s,content:o}={}){if(this._lazyInitEmptyStyle(),i instanceof nr||ar&&i instanceof ar){const{width:l,height:c,data:u}=e.browser.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:n,stretchX:a,stretchY:s,content:o,sdf:r,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:c,data:u}=i,d=i;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u)),pixelRatio:n,stretchX:a,stretchY:s,content:o,sdf:r,version:0,userImage:d}),d.onAdd&&d.onAdd(this,t)}}}updateImage(t,i){const n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof nr||ar&&i instanceof ar?e.browser.getImageData(i):i,{width:a,height:s,data:o}=r;return void 0===a||void 0===s?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==n.data.width||s!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(o,!(i instanceof nr||ar&&i instanceof ar)),void this.style.updateImage(t,n))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),i)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,n={}){return this.style.setPaintProperty(e,t,i,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,n={}){return this.style.setLayoutProperty(e,t,i,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),this.style.setTerrain(e),this._update(!0)}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);const n=this._controlContainer=r.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{a[e]=r.create("div","mapboxgl-ctrl-"+e,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,i){const n=e.browser.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*i,this._canvas.style.width=t+"px",this._canvas.style.height=i+"px"}_setupPainter(){const i=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?(this.painter=new $i(n,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){let i,n=0;const r=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(i=r.createQueryEXT(),r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),n=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let a=!1;const s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=e.browser.now();this.style.zoomHistory.update(t,i);const n=new e.EvaluationParameters(t,{now:i,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=n.crossFadingFactor();1===r&&r===this._crossFadingFactor||(a=!0,this._crossFadingFactor=r),this.style.update(n)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.browser.now()-n;r.endQueryEXT(r.TIME_ELAPSED_EXT,i),setTimeout(()=>{const n=r.getQueryObjectEXT(i,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:n}))},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:i}))},50)}const o=this._sourcesDirty||this._styleDirty||this._placementDirty;if(o||this._repaint)this.triggerRepaint();else if(this._triggerFrame(!1),!this.isMoving()&&this.loaded()&&(this.fire(new e.Event("idle")),this._isInitialLoad&&this._authenticate(),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}return!this._loaded||this._fullyLoaded||o||(this._fullyLoaded=!0),this}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){console.error("Error: A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/"),e.browser.setErrorState();const t=this.painter.context.gl;this._logoControl instanceof er&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,n=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,n),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let n=i[1]-i[0];const r=e.length/4;for(let a=0;a<t.length;a++){const s=t[a];let o=0;for(let t=0;t<s.length;t+=4)s[t]===e[t]&&s[t+1]===e[t+1]&&s[t+2]===e[t+2]&&s[t+3]===e[t+3]&&(o+=1);n+=(i[a+2]-i[a+1])*(1-o/r)}return n}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),or(this._canvasContainer),or(this._controlContainer),or(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.browser.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,i){e.setCacheLimits(t,i)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},lr,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),i=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new cr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const i=r.create("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}_setButtonTitle(e,t){const i=this._map._getUIString("NavigationControl."+t);e.title=i,e.setAttribute("aria-label",i)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},mr,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(t){var i;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==fr?i(fr):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>{fr="denied"!==e.state,i(fr)}):(fr=!!e.window.navigator.geolocation,i(fr)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),r.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,_r=0,yr=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=this._map.getBearing(),a=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(n),a,{geolocateSource:!0})}_updateMarker(t){if(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),i=this._map.unproject([1,e]),n=t.distanceTo(i),r=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&yr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new pr(this._dotElement),this._circleElement=r.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":_r--,yr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),_r++,_r>1?(t={maximumAge:6e5,timeout:0},yr=!0):(t=this.options.positionOptions,yr=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Qn,ScaleControl:class{constructor(t){this.options=e.extend({},gr,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){vr(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,vr(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(br),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const i=e.window.document.createDocumentFragment(),n=e.window.document.createElement("body");let r;for(n.innerHTML=t;r=n.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=r.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(t){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(e=>this._container.classList.add(e)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ur(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!t)return;const i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);let n=this.options.anchor;const a=function t(i){if(i){if("number"==typeof i){const t=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new e.Point(0,0),top:new e.Point(0,i),"top-left":new e.Point(t,t),"top-right":new e.Point(-t,t),bottom:new e.Point(0,-i),"bottom-left":new e.Point(t,-t),"bottom-right":new e.Point(-t,-t),left:new e.Point(i,0),right:new e.Point(-i,0)}}if(i instanceof e.Point||Array.isArray(i)){const t=e.Point.convert(i);return{center:t,top:t,"top-left":t,"top-right":t,bottom:t,"bottom-left":t,"bottom-right":t,left:t,right:t}}return{center:e.Point.convert(i.center||[0,0]),top:e.Point.convert(i.top||[0,0]),"top-left":e.Point.convert(i["top-left"]||[0,0]),"top-right":e.Point.convert(i["top-right"]||[0,0]),bottom:e.Point.convert(i.bottom||[0,0]),"bottom-left":e.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(i["bottom-right"]||[0,0]),left:e.Point.convert(i.left||[0,0]),right:e.Point.convert(i.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!n){const e=this._container.offsetWidth,t=this._container.offsetHeight;let r;r=i.y+a.bottom.y<t?["top"]:i.y>this._map.transform.height-t?["bottom"]:[],i.x<e/2?r.push("left"):i.x>this._map.transform.width-e/2&&r.push("right"),n=0===r.length?"bottom":r.join("-")}const s=i.add(a[n]).round();r.setTransform(this._container,`${dr[n]} translate(${s.x}px,${s.y}px)`),hr(this._container,n,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(wr);e&&e.focus()}_onClose(){this.remove()}},Marker:pr,Style:Ge,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:en,Evented:e.Evented,config:e.config,prewarm:function(){U().acquire(j)},clearPrewarmedResources:function(){const e=N;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(j),N=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return H.workerCount},set workerCount(e){H.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.browser.setNow,restoreNow:e.browser.restoreNow};return Mr})),i}))},e1d3:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},e538:function(e,t,i){var n=i("b622");t.f=n},e81d:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},i={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"},n=e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,i){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return n}))},ea9e:function(e,t,i){},ebe4:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},ec18:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,i,n){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[i][2]?r[i][2]:r[i][1]:n?r[i][0]:r[i][1]}var i=e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},ec2e:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:0,doy:6}});return t}))},eda5:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,i){return e>11?i?"ප.ව.":"පස් වරු":i?"පෙ.ව.":"පෙර වරු"}});return t}))},f0ca:function(e,t,i){!function(t,i){e.exports=i()}("undefined"!=typeof self&&self,(function(){return i={},e.m=t=[function(e,t,i){},function(e,t,i){"use strict";var n=i(0);i.n(n).a},function(e,t,i){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.r(t);var s=/,|\.|-| |:|\/|\\/,o=/D+/,l=/M+/,c=/Y+/,u=/h+/i,d=/m+/,h=/s+/,p=/A/;function m(e,t){return void 0!==e?e.toString().length>t?e:new Array(t-e.toString().length+1).join("0")+e:void 0}function f(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function _(e,t){for(var i=[],n=e;n<=t;n++)i.push(n);return i}function y(e){var t=e%12;return 0==t?12:t}function g(e){return 12<=e}function v(e,t,i){return Math.min(Math.max(e,t),i)}var x={props:{value:{type:String,default:""},format:{type:String,default:"YYYY-MM-DD"},displayFormat:{type:String},editable:{type:Boolean,default:!0},hasInputElement:{type:Boolean,default:!0},inputAttributes:{type:Object},selectableYearRange:{type:[Number,Object,Function],default:40},startPeriod:{type:Object},parseDate:{type:Function},formatDate:{type:Function},pickTime:{type:Boolean,default:!1},pickMinutes:{type:Boolean,default:!0},pickSeconds:{type:Boolean,default:!1},use12HourClock:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:function(){return!1}},nextMonthCaption:{type:String,default:"Next month"},prevMonthCaption:{type:String,default:"Previous month"},setTimeCaption:{type:String,default:"Set time:"},mobileBreakpointWidth:{type:Number,default:500},weekdays:{type:Array,default:function(){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}},months:{type:Array,default:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},startWeekOnSunday:{type:Boolean,default:!1}},data:function(){return{inputValue:this.valueToInputFormat(this.value),direction:void 0,positionClass:void 0,opened:!this.hasInputElement,currentPeriod:this.startPeriod||this.getPeriodFromValue(this.value,this.format)}},computed:{valueDate:function(){var e=this.value,t=this.format;return e?this.parseDateString(e,t):void 0},isReadOnly:function(){return!this.editable||this.inputAttributes&&this.inputAttributes.readonly},isValidValue:function(){var e=this.valueDate;return!this.value||Boolean(e)},currentPeriodDates:function(){var e=this,t=this.currentPeriod,i=t.year,n=t.month,r=[],a=new Date(i,n,1),s=new Date,o=this.startWeekOnSunday?1:0,l=a.getDay()||7;if(1-o<l)for(var c=l-(2-o);0<=c;c--){var u=new Date(a);u.setDate(-c),r.push({outOfRange:!0,date:u})}for(;a.getMonth()===n;)r.push({date:new Date(a)}),a.setDate(a.getDate()+1);for(var d=7-r.length%7,h=1;h<=d;h++){var p=new Date(a);p.setDate(h),r.push({outOfRange:!0,date:p})}return r.forEach((function(t){t.disabled=e.isDateDisabled(t.date),t.today=f(t.date,s),t.dateKey=[t.date.getFullYear(),t.date.getMonth()+1,t.date.getDate()].join("-"),t.selected=!!e.valueDate&&f(t.date,e.valueDate)})),function(e,t){for(var i=[];e.length;)i.push(e.splice(0,t));return i}(r,7)},yearRange:function(){var e=this.currentPeriod.year,t=this.selectableYearRange,i=a(t),n=[];return"number"===i?n=_(e-t,e+t):"object"===i?n=_(t.from,t.to):"function"===i&&(n=t(this)),n.indexOf(e)<0&&(n.push(e),n=n.sort()),n},currentTime:function(){var e=this.valueDate;if(e){var t=e.getHours(),i=e.getMinutes(),n=e.getSeconds();return{hours:t,minutes:i,seconds:n,isPM:g(t),hoursFormatted:(this.use12HourClock?y(t):t).toString(),minutesFormatted:m(i,2),secondsFormatted:m(n,2)}}},directionClass:function(){return this.direction?"vdp".concat(this.direction,"Direction"):void 0},weekdaysSorted:function(){if(this.startWeekOnSunday){var e=this.weekdays.slice();return e.unshift(e.pop()),e}return this.weekdays}},watch:{value:function(e){this.isValidValue&&(this.inputValue=this.valueToInputFormat(e),this.currentPeriod=this.getPeriodFromValue(e,this.format))},currentPeriod:function(e,t){var i=new Date(e.year,e.month).getTime(),n=new Date(t.year,t.month).getTime();this.direction=i!==n?n<i?"Next":"Prev":void 0,i!==n&&this.$emit("periodChange",{year:e.year,month:e.month})}},beforeDestroy:function(){this.removeCloseEvents(),this.teardownPosition()},methods:{valueToInputFormat:function(e){return this.displayFormat&&this.formatDateToString(this.parseDateString(e,this.format),this.displayFormat)||e},getPeriodFromValue:function(e,t){var i=this.parseDateString(e,t)||new Date;return{month:i.getMonth(),year:i.getFullYear()}},parseDateString:function(e,t){return e?this.parseDate?this.parseDate(e,t):this.parseSimpleDateString(e,t):void 0},formatDateToString:function(e,t){return e?this.formatDate?this.formatDate(e,t):this.formatSimpleDateToString(e,t):""},parseSimpleDateString:function(e,t){for(var i,r,a,p,f,_,y=e.split(s),g=t.split(s),v=g.length,x=0;x<v;x++)g[x].match(o)?i=parseInt(y[x],10):g[x].match(l)?r=parseInt(y[x],10):g[x].match(c)?a=parseInt(y[x],10):g[x].match(u)?p=parseInt(y[x],10):g[x].match(d)?f=parseInt(y[x],10):g[x].match(h)&&(_=parseInt(y[x],10));var b=new Date([m(a,4),m(r,2),m(i,2)].join("-"));if(!isNaN(b)){var w=new Date(a,r-1,i);return[[a,"setFullYear"],[p,"setHours"],[f,"setMinutes"],[_,"setSeconds"]].forEach((function(e){var t=n(e,2),i=t[0],r=t[1];void 0!==i&&w[r](i)})),w}},formatSimpleDateToString:function(e,t){return t.replace(c,(function(t){return Number(e.getFullYear().toString().slice(-t.length))})).replace(l,(function(t){return m(e.getMonth()+1,t.length)})).replace(o,(function(t){return m(e.getDate(),t.length)})).replace(u,(function(i){return m(p.test(t)?y(e.getHours()):e.getHours(),i.length)})).replace(d,(function(t){return m(e.getMinutes(),t.length)})).replace(h,(function(t){return m(e.getSeconds(),t.length)})).replace(p,(function(t){return g(e.getHours())?"PM":"AM"}))},incrementMonth:function(e){var t=0<arguments.length&&void 0!==e?e:1,i=new Date(this.currentPeriod.year,this.currentPeriod.month),n=new Date(i.getFullYear(),i.getMonth()+t);this.currentPeriod={month:n.getMonth(),year:n.getFullYear()}},processUserInput:function(e){var t=this.parseDateString(e,this.displayFormat||this.format);this.inputValue=e,this.$emit("input",t?this.formatDateToString(t,this.format):e)},toggle:function(){return this.opened?this.close():this.open()},open:function(){this.opened||(this.opened=!0,this.currentPeriod=this.startPeriod||this.getPeriodFromValue(this.value,this.format),this.addCloseEvents(),this.setupPosition()),this.direction=void 0},close:function(){this.opened&&(this.opened=!1,this.direction=void 0,this.removeCloseEvents(),this.teardownPosition())},closeViaOverlay:function(e){this.hasInputElement&&e.target===this.$refs.outerWrap&&this.close()},addCloseEvents:function(){var e=this;this.closeEventListener||(this.closeEventListener=function(t){return e.inspectCloseEvent(t)},["click","keyup","focusin"].forEach((function(t){return document.addEventListener(t,e.closeEventListener)})))},inspectCloseEvent:function(e){e.keyCode?27===e.keyCode&&this.close():e.target===this.$el||this.$el.contains(e.target)||this.close()},removeCloseEvents:function(){var e=this;this.closeEventListener&&(["click","keyup","focusin"].forEach((function(t){return document.removeEventListener(t,e.closeEventListener)})),delete this.closeEventListener)},setupPosition:function(){var e=this;this.positionEventListener||(this.positionEventListener=function(){return e.positionFloater()},window.addEventListener("resize",this.positionEventListener)),this.positionFloater()},positionFloater:function(){function e(){var e=t.$refs.outerWrap.getBoundingClientRect(),a=e.height,s=e.width;window.innerWidth>t.mobileBreakpointWidth?(i.top+i.height+a>window.innerHeight&&0<i.top-a&&(n="vdpPositionBottom"),i.left+s>window.innerWidth&&(r="vdpPositionRight"),t.positionClass=["vdpPositionReady",n,r].join(" ")):t.positionClass="vdpPositionFixed"}var t=this,i=this.$el.getBoundingClientRect(),n="vdpPositionTop",r="vdpPositionLeft";this.$refs.outerWrap?e():this.$nextTick(e)},teardownPosition:function(){this.positionEventListener&&(this.positionClass=void 0,window.removeEventListener("resize",this.positionEventListener),delete this.positionEventListener)},clear:function(){this.$emit("input","")},selectDateItem:function(e){var t;e.disabled||(t=new Date(e.date),this.currentTime&&(t.setHours(this.currentTime.hours),t.setMinutes(this.currentTime.minutes),t.setSeconds(this.currentTime.seconds)),this.$emit("input",this.formatDateToString(t,this.format)),this.hasInputElement&&!this.pickTime&&this.close())},set12HourClock:function(e){var t=new Date(this.valueDate),i=t.getHours();t.setHours("PM"===e?i+12:i-12),this.$emit("input",this.formatDateToString(t,this.format))},inputHours:function(e){var t,i=new Date(this.valueDate),n=i.getHours(),r=v(parseInt(e.target.value,10)||0,this.use12HourClock?1:0,this.use12HourClock?12:23);i.setHours(this.use12HourClock?(t=r,g(n)?12===t?t:t+12:12===t?0:t):r),e.target.value=m(r,1),this.$emit("input",this.formatDateToString(i,this.format))},inputTime:function(e,t){var i=new Date(this.valueDate),n=v(parseInt(t.target.value)||0,0,59);t.target.value=m(n,2),i[e](n),this.$emit("input",this.formatDateToString(i,this.format))},onTimeInputFocus:function(e){e.target.select&&e.target.select()}}};i(1);var b,w,M,T,L,k,S,D,E,C,P,Y,A=(w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vdpComponent",class:{vdpWithInput:e.hasInputElement}},[e._t("default",[e.hasInputElement?i("input",e._b({attrs:{type:"text",readonly:e.isReadOnly},domProps:{value:e.inputValue},on:{input:function(t){e.editable&&e.processUserInput(t.target.value)},focus:function(t){e.editable&&e.open()},click:function(t){e.editable&&e.open()}}},"input",e.inputAttributes,!1)):e._e(),e._v(" "),e.editable&&e.hasInputElement&&e.inputValue?i("button",{staticClass:"vdpClearInput",attrs:{type:"button"},on:{click:e.clear}}):e._e()],{open:e.open,close:e.close,toggle:e.toggle,inputValue:e.inputValue,processUserInput:e.processUserInput,valueToInputFormat:e.valueToInputFormat}),e._v(" "),i("transition",{attrs:{name:"vdp-toggle-calendar"}},[e.opened?i("div",{ref:"outerWrap",staticClass:"vdpOuterWrap",class:[e.positionClass,{vdpFloating:e.hasInputElement}],on:{click:e.closeViaOverlay}},[i("div",{staticClass:"vdpInnerWrap"},[i("header",{staticClass:"vdpHeader"},[i("button",{staticClass:"vdpArrow vdpArrowPrev",attrs:{title:e.prevMonthCaption,type:"button"},on:{click:function(t){return e.incrementMonth(-1)}}},[e._v(e._s(e.prevMonthCaption))]),e._v(" "),i("button",{staticClass:"vdpArrow vdpArrowNext",attrs:{type:"button",title:e.nextMonthCaption},on:{click:function(t){return e.incrementMonth(1)}}},[e._v(e._s(e.nextMonthCaption))]),e._v(" "),i("div",{staticClass:"vdpPeriodControls"},[i("div",{staticClass:"vdpPeriodControl"},[i("button",{key:e.currentPeriod.month,class:e.directionClass,attrs:{type:"button"}},[e._v("\n                                "+e._s(e.months[e.currentPeriod.month])+"\n                            ")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.currentPeriod.month,expression:"currentPeriod.month"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.currentPeriod,"month",t.target.multiple?i:i[0])}}},e._l(e.months,(function(t,n){return i("option",{key:t,domProps:{value:n}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),0)]),e._v(" "),i("div",{staticClass:"vdpPeriodControl"},[i("button",{key:e.currentPeriod.year,class:e.directionClass,attrs:{type:"button"}},[e._v("\n                                "+e._s(e.currentPeriod.year)+"\n                            ")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.currentPeriod.year,expression:"currentPeriod.year"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.currentPeriod,"year",t.target.multiple?i:i[0])}}},e._l(e.yearRange,(function(t){return i("option",{key:t,domProps:{value:t}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),0)])])]),e._v(" "),i("table",{staticClass:"vdpTable"},[i("thead",[i("tr",e._l(e.weekdaysSorted,(function(t,n){return i("th",{key:n,staticClass:"vdpHeadCell"},[i("span",{staticClass:"vdpHeadCellContent"},[e._v(e._s(t))])])})),0)]),e._v(" "),i("tbody",{key:e.currentPeriod.year+"-"+e.currentPeriod.month,class:e.directionClass},e._l(e.currentPeriodDates,(function(t,n){return i("tr",{key:n,staticClass:"vdpRow"},e._l(t,(function(t){return i("td",{key:t.dateKey,staticClass:"vdpCell",class:{selectable:e.editable&&!t.disabled,selected:t.selected,disabled:t.disabled,today:t.today,outOfRange:t.outOfRange},attrs:{"data-id":t.dateKey},on:{click:function(i){e.editable&&e.selectDateItem(t)}}},[i("div",{staticClass:"vdpCellContent"},[e._v(e._s(t.date.getDate()))])])})),0)})),0)]),e._v(" "),e.pickTime&&e.currentTime?i("div",{staticClass:"vdpTimeControls"},[i("span",{staticClass:"vdpTimeCaption"},[e._v(e._s(e.setTimeCaption))]),e._v(" "),i("div",{staticClass:"vdpTimeUnit"},[i("pre",[i("span",[e._v(e._s(e.currentTime.hoursFormatted))]),i("br")]),e._v(" "),i("input",{staticClass:"vdpHoursInput",attrs:{type:"number",pattern:"\\d*",disabled:!e.editable},domProps:{value:e.currentTime.hoursFormatted},on:{input:function(t){return t.preventDefault(),e.inputHours(t)},focusin:e.onTimeInputFocus}})]),e._v(" "),e.pickMinutes?i("span",{staticClass:"vdpTimeSeparator"},[e._v(":")]):e._e(),e._v(" "),e.pickMinutes?i("div",{staticClass:"vdpTimeUnit"},[i("pre",[i("span",[e._v(e._s(e.currentTime.minutesFormatted))]),i("br")]),e._v(" "),e.pickMinutes?i("input",{staticClass:"vdpMinutesInput",attrs:{type:"number",pattern:"\\d*",disabled:!e.editable},domProps:{value:e.currentTime.minutesFormatted},on:{input:function(t){return e.inputTime("setMinutes",t)},focusin:e.onTimeInputFocus}}):e._e()]):e._e(),e._v(" "),e.pickSeconds?i("span",{staticClass:"vdpTimeSeparator"},[e._v(":")]):e._e(),e._v(" "),e.pickSeconds?i("div",{staticClass:"vdpTimeUnit"},[i("pre",[i("span",[e._v(e._s(e.currentTime.secondsFormatted))]),i("br")]),e._v(" "),e.pickSeconds?i("input",{staticClass:"vdpSecondsInput",attrs:{type:"number",pattern:"\\d*",disabled:!e.editable},domProps:{value:e.currentTime.secondsFormatted},on:{input:function(t){return e.inputTime("setSeconds",t)},focusin:e.onTimeInputFocus}}):e._e()]):e._e(),e._v(" "),e.use12HourClock?i("button",{staticClass:"vdp12HourToggleBtn",attrs:{type:"button",disabled:!e.editable},on:{click:function(t){return e.set12HourClock(e.currentTime.isPM?"AM":"PM")}}},[e._v("\n                        "+e._s(e.currentTime.isPM?"PM":"AM")+"\n                    ")]):e._e()]):e._e()])]):e._e()])],2)},T=!(M=[]),S=k=L=null,Y="function"==typeof(b=x)?b.options:b,w&&(Y.render=w,Y.staticRenderFns=M,Y._compiled=!0),T&&(Y.functional=!0),k&&(Y._scopeId="data-v-"+k),S?(E=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),L&&L.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(S)},Y._ssrRegister=E):L&&(E=D?function(){L.call(this,(Y.functional?this.parent:this).$root.$options.shadowRoot)}:L),E&&(Y.functional?(Y._injectStyles=E,C=Y.render,Y.render=function(e,t){return E.call(t),C(e,t)}):(P=Y.beforeCreate,Y.beforeCreate=P?[].concat(P,E):[E])),{exports:b,options:Y});t.default=A.exports}],e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(e){return t[e]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=2).default;function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,i}))},f260:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t}))},f3ff:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},i={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"},n=e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return i[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}});return n}))},f6b46:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],i=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],n=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],a=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],s=e.defineLocale("gd",{months:t,monthsShort:i,monthsParseExact:!0,weekdays:n,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},facd:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return a}))},fb6a:function(e,t,i){"use strict";var n=i("23e7"),r=i("861d"),a=i("e8b5"),s=i("23cb"),o=i("50c4"),l=i("fc6a"),c=i("8418"),u=i("b622"),d=i("1dde"),h=i("ae40"),p=d("slice"),m=h("slice",{ACCESSORS:!0,0:0,1:2}),f=u("species"),_=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!p||!m},{slice:function(e,t){var i,n,u,d=l(this),h=o(d.length),p=s(e,h),m=s(void 0===t?h:t,h);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return _.call(d,p,m);for(n=new(void 0===i?Array:i)(y(m-p,0)),u=0;p<m;p++,u++)p in d&&c(n,u,d[p]);return n.length=u,n}})},fd7e:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},ffff:function(e,t,i){(function(e,t){t(i("c1df"))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))}}]);
//# sourceMappingURL=chunk-b4266e44.a5624554.js.map